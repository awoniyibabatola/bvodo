"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("_app-pages-browser_src_components_AIChatbox_tsx",{

/***/ "(app-pages-browser)/./src/components/AIChatbox.tsx":
/*!**************************************!*\
  !*** ./src/components/AIChatbox.tsx ***!
  \**************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ AIChatbox; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var next_navigation__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/navigation */ \"(app-pages-browser)/./node_modules/next/navigation.js\");\n/* harmony import */ var next_navigation__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_navigation__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _barrel_optimize_names_ArrowRight_Calendar_Clock_CreditCard_DollarSign_Hotel_Loader2_MapPin_MessageCircle_PartyPopper_Plane_Send_Sparkles_Star_ThumbsUp_X_lucide_react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowRight,Calendar,Clock,CreditCard,DollarSign,Hotel,Loader2,MapPin,MessageCircle,PartyPopper,Plane,Send,Sparkles,Star,ThumbsUp,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/sparkles.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowRight_Calendar_Clock_CreditCard_DollarSign_Hotel_Loader2_MapPin_MessageCircle_PartyPopper_Plane_Send_Sparkles_Star_ThumbsUp_X_lucide_react__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowRight,Calendar,Clock,CreditCard,DollarSign,Hotel,Loader2,MapPin,MessageCircle,PartyPopper,Plane,Send,Sparkles,Star,ThumbsUp,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/message-circle.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowRight_Calendar_Clock_CreditCard_DollarSign_Hotel_Loader2_MapPin_MessageCircle_PartyPopper_Plane_Send_Sparkles_Star_ThumbsUp_X_lucide_react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowRight,Calendar,Clock,CreditCard,DollarSign,Hotel,Loader2,MapPin,MessageCircle,PartyPopper,Plane,Send,Sparkles,Star,ThumbsUp,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/x.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowRight_Calendar_Clock_CreditCard_DollarSign_Hotel_Loader2_MapPin_MessageCircle_PartyPopper_Plane_Send_Sparkles_Star_ThumbsUp_X_lucide_react__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowRight,Calendar,Clock,CreditCard,DollarSign,Hotel,Loader2,MapPin,MessageCircle,PartyPopper,Plane,Send,Sparkles,Star,ThumbsUp,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/plane.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowRight_Calendar_Clock_CreditCard_DollarSign_Hotel_Loader2_MapPin_MessageCircle_PartyPopper_Plane_Send_Sparkles_Star_ThumbsUp_X_lucide_react__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowRight,Calendar,Clock,CreditCard,DollarSign,Hotel,Loader2,MapPin,MessageCircle,PartyPopper,Plane,Send,Sparkles,Star,ThumbsUp,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/clock.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowRight_Calendar_Clock_CreditCard_DollarSign_Hotel_Loader2_MapPin_MessageCircle_PartyPopper_Plane_Send_Sparkles_Star_ThumbsUp_X_lucide_react__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowRight,Calendar,Clock,CreditCard,DollarSign,Hotel,Loader2,MapPin,MessageCircle,PartyPopper,Plane,Send,Sparkles,Star,ThumbsUp,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/thumbs-up.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowRight_Calendar_Clock_CreditCard_DollarSign_Hotel_Loader2_MapPin_MessageCircle_PartyPopper_Plane_Send_Sparkles_Star_ThumbsUp_X_lucide_react__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowRight,Calendar,Clock,CreditCard,DollarSign,Hotel,Loader2,MapPin,MessageCircle,PartyPopper,Plane,Send,Sparkles,Star,ThumbsUp,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/map-pin.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowRight_Calendar_Clock_CreditCard_DollarSign_Hotel_Loader2_MapPin_MessageCircle_PartyPopper_Plane_Send_Sparkles_Star_ThumbsUp_X_lucide_react__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowRight,Calendar,Clock,CreditCard,DollarSign,Hotel,Loader2,MapPin,MessageCircle,PartyPopper,Plane,Send,Sparkles,Star,ThumbsUp,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/star.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowRight_Calendar_Clock_CreditCard_DollarSign_Hotel_Loader2_MapPin_MessageCircle_PartyPopper_Plane_Send_Sparkles_Star_ThumbsUp_X_lucide_react__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowRight,Calendar,Clock,CreditCard,DollarSign,Hotel,Loader2,MapPin,MessageCircle,PartyPopper,Plane,Send,Sparkles,Star,ThumbsUp,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/party-popper.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowRight_Calendar_Clock_CreditCard_DollarSign_Hotel_Loader2_MapPin_MessageCircle_PartyPopper_Plane_Send_Sparkles_Star_ThumbsUp_X_lucide_react__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowRight,Calendar,Clock,CreditCard,DollarSign,Hotel,Loader2,MapPin,MessageCircle,PartyPopper,Plane,Send,Sparkles,Star,ThumbsUp,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/hotel.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowRight_Calendar_Clock_CreditCard_DollarSign_Hotel_Loader2_MapPin_MessageCircle_PartyPopper_Plane_Send_Sparkles_Star_ThumbsUp_X_lucide_react__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowRight,Calendar,Clock,CreditCard,DollarSign,Hotel,Loader2,MapPin,MessageCircle,PartyPopper,Plane,Send,Sparkles,Star,ThumbsUp,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/dollar-sign.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowRight_Calendar_Clock_CreditCard_DollarSign_Hotel_Loader2_MapPin_MessageCircle_PartyPopper_Plane_Send_Sparkles_Star_ThumbsUp_X_lucide_react__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowRight,Calendar,Clock,CreditCard,DollarSign,Hotel,Loader2,MapPin,MessageCircle,PartyPopper,Plane,Send,Sparkles,Star,ThumbsUp,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/calendar.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowRight_Calendar_Clock_CreditCard_DollarSign_Hotel_Loader2_MapPin_MessageCircle_PartyPopper_Plane_Send_Sparkles_Star_ThumbsUp_X_lucide_react__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowRight,Calendar,Clock,CreditCard,DollarSign,Hotel,Loader2,MapPin,MessageCircle,PartyPopper,Plane,Send,Sparkles,Star,ThumbsUp,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/arrow-right.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowRight_Calendar_Clock_CreditCard_DollarSign_Hotel_Loader2_MapPin_MessageCircle_PartyPopper_Plane_Send_Sparkles_Star_ThumbsUp_X_lucide_react__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowRight,Calendar,Clock,CreditCard,DollarSign,Hotel,Loader2,MapPin,MessageCircle,PartyPopper,Plane,Send,Sparkles,Star,ThumbsUp,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/credit-card.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowRight_Calendar_Clock_CreditCard_DollarSign_Hotel_Loader2_MapPin_MessageCircle_PartyPopper_Plane_Send_Sparkles_Star_ThumbsUp_X_lucide_react__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowRight,Calendar,Clock,CreditCard,DollarSign,Hotel,Loader2,MapPin,MessageCircle,PartyPopper,Plane,Send,Sparkles,Star,ThumbsUp,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/loader-2.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowRight_Calendar_Clock_CreditCard_DollarSign_Hotel_Loader2_MapPin_MessageCircle_PartyPopper_Plane_Send_Sparkles_Star_ThumbsUp_X_lucide_react__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowRight,Calendar,Clock,CreditCard,DollarSign,Hotel,Loader2,MapPin,MessageCircle,PartyPopper,Plane,Send,Sparkles,Star,ThumbsUp,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/send.js\");\n/* harmony import */ var _utils_cityMapping__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/utils/cityMapping */ \"(app-pages-browser)/./src/utils/cityMapping.ts\");\n/* harmony import */ var _lib_api_config__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/lib/api-config */ \"(app-pages-browser)/./src/lib/api-config.ts\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \nvar _s = $RefreshSig$();\n\n\n\n\n\n// Conversational responses\nconst conversationalResponses = {\n    greetings: [\n        \"Hey there! Ready to plan your next adventure? I'm here to help you find the perfect flight or hotel!\",\n        \"Hi! So excited to help you travel today! Where are you thinking of going?\",\n        \"Hello! Let's make your travel dreams come true! Whether it's business or pleasure, I've got you covered!\"\n    ],\n    searching: [\n        \"Ooh, great choice! Let me find the best options for you...\",\n        \"On it! Searching through thousands of options to find you the perfect match...\",\n        \"Excellent! Give me just a sec while I pull up the best deals...\",\n        \"Love it! Let me work my magic and find you something amazing...\"\n    ],\n    noResults: [\n        \"Hmm, I couldn't find anything for that location. Could you try a different city? Maybe check the spelling?\",\n        \"Oops! That location isn't ringing any bells. Can you try another city name? I'm here to help!\"\n    ],\n    helpfulTips: [\n        \"Pro tip: I can understand requests like 'Find me a flight from Lagos to London under $500'\",\n        \"Just chat naturally! Try 'I need a hotel in downtown Calgary' or 'Hotel near Times Square'\",\n        \"You can specify neighborhoods too! Like 'hotel in seton calgary' or 'near las vegas strip'\"\n    ],\n    excitement: [\n        \"Awesome choice!\",\n        \"Great pick!\",\n        \"Love it!\",\n        \"Perfect!\"\n    ],\n    bookingSuccess: [\n        \"Woohoo! Your booking is confirmed! Pack your bags, adventure awaits!\",\n        \"All set! Your trip is booked! Time to get excited!\",\n        \"Done and dusted! Your booking is confirmed! Have an amazing trip!\"\n    ]\n};\nconst getRandomResponse = (category)=>{\n    const responses = conversationalResponses[category];\n    return responses[Math.floor(Math.random() * responses.length)];\n};\nfunction AIChatbox() {\n    let { initialMessage, forceOpen = false } = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {};\n    _s();\n    const [isOpen, setIsOpen] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(forceOpen);\n    const [messages, setMessages] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([\n        {\n            id: \"1\",\n            role: \"assistant\",\n            content: getRandomResponse(\"greetings\"),\n            timestamp: new Date(),\n            suggestions: [\n                \"Flight from Lagos to London under $600\",\n                \"Luxury hotel in downtown Calgary\",\n                \"Hotel near Times Square New York\",\n                \"Flight from New York to Paris\"\n            ]\n        }\n    ]);\n    const [inputValue, setInputValue] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [isLoading, setIsLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [isTyping, setIsTyping] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [claudeAvailable, setClaudeAvailable] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [conversationHistory, setConversationHistory] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [conversationContext, setConversationContext] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({});\n    const [bookingFlow, setBookingFlow] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const messagesEndRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const inputRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const router = (0,next_navigation__WEBPACK_IMPORTED_MODULE_2__.useRouter)();\n    const scrollToBottom = ()=>{\n        var _messagesEndRef_current;\n        (_messagesEndRef_current = messagesEndRef.current) === null || _messagesEndRef_current === void 0 ? void 0 : _messagesEndRef_current.scrollIntoView({\n            behavior: \"smooth\"\n        });\n    };\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        scrollToBottom();\n    }, [\n        messages,\n        isTyping\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (isOpen && inputRef.current) {\n            inputRef.current.focus();\n        }\n    }, [\n        isOpen\n    ]);\n    // Handle initialMessage prop\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (initialMessage && initialMessage.trim()) {\n            setInputValue(initialMessage.trim());\n            // Focus the input after setting the value\n            if (inputRef.current) {\n                inputRef.current.focus();\n            }\n        }\n    }, [\n        initialMessage\n    ]);\n    // Check Claude AI availability on mount\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const checkClaudeAvailability = async ()=>{\n            try {\n                const response = await fetch((0,_lib_api_config__WEBPACK_IMPORTED_MODULE_4__.getApiEndpoint)(\"ai-chat/availability\"));\n                const data = await response.json();\n                setClaudeAvailable(data.available);\n                console.log(\"[Claude AI] Availability:\", data.available);\n            } catch (error) {\n                console.error(\"[Claude AI] Failed to check availability:\", error);\n                setClaudeAvailable(false);\n            }\n        };\n        checkClaudeAvailability();\n    }, []);\n    // Simulate typing effect\n    const addMessageWithTyping = async (message)=>{\n        // Show typing indicator\n        setIsTyping(true);\n        await new Promise((resolve)=>setTimeout(resolve, 800));\n        setIsTyping(false);\n        // Add message\n        setMessages((prev)=>[\n                ...prev,\n                message\n            ]);\n        // Update conversation history for Claude (only add assistant text messages, not results)\n        if (message.role === \"assistant\" && message.content && !message.flightResults && !message.hotelResults) {\n            setConversationHistory((prev)=>[\n                    ...prev,\n                    {\n                        role: \"assistant\",\n                        content: message.content\n                    }\n                ]);\n        }\n    };\n    // Helper to get IATA code from city name (uses centralized utility)\n    const getCityCode = (city)=>{\n        const code = (0,_utils_cityMapping__WEBPACK_IMPORTED_MODULE_3__.getCityCode)(city);\n        console.log(\"[getCityCode] Input:\", city, \"→ Code:\", code);\n        return code;\n    };\n    // Real flight search using API\n    const searchFlights = async (origin, destination, departureDate, params)=>{\n        try {\n            const originCode = getCityCode(origin);\n            const destCode = getCityCode(destination);\n            console.log(\"[searchFlights] Converting cities to IATA codes:\", {\n                origin,\n                originCode,\n                destination,\n                destCode,\n                departureDate\n            });\n            // Validate that both cities were recognized\n            if (!originCode || !destCode) {\n                const missingCities = [];\n                if (!originCode) missingCities.push('\"'.concat(origin, '\"'));\n                if (!destCode) missingCities.push('\"'.concat(destination, '\"'));\n                console.error(\"[searchFlights] Unknown city codes:\", {\n                    origin,\n                    originCode,\n                    destination,\n                    destCode\n                });\n                throw new Error(\"I don't recognize \".concat(missingCities.join(\" and \"), '. Please use major city names like \"Lagos\", \"London\", \"New York\", etc.'));\n            }\n            const queryParams = new URLSearchParams({\n                origin: originCode,\n                destination: destCode,\n                departureDate: departureDate,\n                adults: \"1\",\n                max: \"10\"\n            });\n            if (params === null || params === void 0 ? void 0 : params.maxPrice) {\n                queryParams.append(\"maxPrice\", params.maxPrice.toString());\n            }\n            if (params === null || params === void 0 ? void 0 : params.directOnly) {\n                queryParams.append(\"nonStop\", \"true\");\n            }\n            if (params === null || params === void 0 ? void 0 : params.cabinClass) {\n                const classMap = {\n                    \"Economy\": \"ECONOMY\",\n                    \"Business\": \"BUSINESS\",\n                    \"First\": \"FIRST\"\n                };\n                queryParams.append(\"travelClass\", classMap[params.cabinClass] || \"ECONOMY\");\n            }\n            const apiUrl = \"\".concat((0,_lib_api_config__WEBPACK_IMPORTED_MODULE_4__.getApiEndpoint)(\"flights/search\"), \"?\").concat(queryParams);\n            console.log(\"[searchFlights] Making API call to:\", apiUrl);\n            const response = await fetch(apiUrl);\n            console.log(\"[searchFlights] API response status:\", response.status);\n            if (!response.ok) {\n                throw new Error(\"Failed to search flights\");\n            }\n            const responseData = await response.json();\n            console.log(\"[searchFlights] API returned data:\", responseData);\n            // Extract the flights array from the response\n            const flights = responseData.data || [];\n            console.log(\"[searchFlights] Extracted flights:\", flights.length, \"offers\");\n            // Transform API response to our FlightResult format\n            return flights.slice(0, 5).map((offer)=>{\n                const firstSegment = offer.itineraries[0].segments[0];\n                const lastSegment = offer.itineraries[0].segments[offer.itineraries[0].segments.length - 1];\n                const stops = offer.itineraries[0].segments.length - 1;\n                return {\n                    id: offer.id,\n                    airline: firstSegment.carrierCode,\n                    airlineCode: firstSegment.carrierCode,\n                    route: \"\".concat(origin, \" → \").concat(destination),\n                    departure: new Date(firstSegment.departure.at).toLocaleTimeString(\"en-US\", {\n                        hour: \"2-digit\",\n                        minute: \"2-digit\"\n                    }),\n                    arrival: new Date(lastSegment.arrival.at).toLocaleTimeString(\"en-US\", {\n                        hour: \"2-digit\",\n                        minute: \"2-digit\"\n                    }),\n                    duration: offer.itineraries[0].duration.replace(\"PT\", \"\").toLowerCase(),\n                    price: parseFloat(offer.price.total).toFixed(0),\n                    stops: stops,\n                    cabin: offer.travelerPricings[0].fareDetailsBySegment[0].cabin || \"Economy\"\n                };\n            });\n        } catch (error) {\n            console.error(\"Flight search error:\", error);\n            // Return empty array on error - will be handled by the UI\n            return [];\n        }\n    };\n    // Real hotel search using API\n    const searchHotels = async (location, checkInDate, checkOutDate, params)=>{\n        try {\n            console.log(\"[searchHotels] Searching hotels for location:\", {\n                location,\n                checkInDate,\n                checkOutDate\n            });\n            // Try to get city code first (same logic as main search page)\n            const cityCode = getCityCode(location);\n            const queryParams = new URLSearchParams({\n                checkInDate: checkInDate,\n                checkOutDate: checkOutDate,\n                adults: \"1\",\n                radius: \"5\",\n                radiusUnit: \"KM\",\n                currency: \"USD\"\n            });\n            // If we have a valid city code from our map, use it; otherwise use full address for geocoding\n            if (cityCode) {\n                queryParams.append(\"cityCode\", cityCode);\n                console.log(\"[searchHotels] Using city code search:\", cityCode);\n            } else {\n                // Use full address - backend will geocode it\n                queryParams.append(\"address\", location);\n                console.log(\"[searchHotels] Using address-based search for:\", location);\n            }\n            const apiUrl = \"\".concat((0,_lib_api_config__WEBPACK_IMPORTED_MODULE_4__.getApiEndpoint)(\"hotels/search\"), \"?\").concat(queryParams);\n            console.log(\"[searchHotels] Making API call to:\", apiUrl);\n            const response = await fetch(apiUrl);\n            console.log(\"[searchHotels] API response status:\", response.status);\n            if (!response.ok) {\n                const errorData = await response.json().catch(()=>({}));\n                console.error(\"[searchHotels] API error:\", errorData);\n                throw new Error(errorData.message || \"Failed to search hotels\");\n            }\n            const responseData = await response.json();\n            console.log(\"[searchHotels] API returned data:\", responseData);\n            // Check if response indicates failure\n            if (responseData.success === false) {\n                console.error(\"[searchHotels] Search failed:\", responseData.message);\n                throw new Error(responseData.message || \"No hotels found\");\n            }\n            // Extract hotels array from response (handle both {data: [...]} and [...] formats)\n            const data = responseData.data || responseData;\n            console.log(\"[searchHotels] Extracted hotels array:\", data.length, \"hotels\");\n            // Transform API response to our HotelResult format and apply filters\n            let hotels = data.slice(0, 10).map((item)=>{\n                var _hotel_address;\n                const hotel = item.hotel;\n                const offers = item.offers || [];\n                const lowestPrice = offers.length > 0 ? offers.reduce((min, offer)=>parseFloat(offer.price.total) < parseFloat(min.price.total) ? offer : min) : null;\n                return {\n                    id: hotel.hotelId,\n                    name: hotel.name,\n                    location: ((_hotel_address = hotel.address) === null || _hotel_address === void 0 ? void 0 : _hotel_address.cityName) || location,\n                    rating: hotel.rating || 4.5,\n                    price: lowestPrice ? parseFloat(lowestPrice.price.total).toFixed(0) : \"150\",\n                    image: hotel.media && hotel.media.length > 0 ? hotel.media[0].uri : \"https://images.unsplash.com/photo-1566073771259-6a8506099945?w=400\",\n                    amenities: hotel.amenities || [\n                        \"WiFi\"\n                    ]\n                };\n            });\n            // Apply filters\n            console.log(\"[searchHotels] Before filtering:\", hotels.length, \"hotels\");\n            console.log(\"[searchHotels] Filter params:\", params);\n            if (params) {\n                if (params.maxPrice !== undefined && params.maxPrice !== null) {\n                    console.log(\"[searchHotels] Applying maxPrice filter:\", params.maxPrice);\n                    const beforeCount = hotels.length;\n                    hotels = hotels.filter((h)=>parseFloat(h.price) <= params.maxPrice);\n                    console.log(\"[searchHotels] After maxPrice filter:\", beforeCount, \"→\", hotels.length, \"hotels\");\n                }\n                if (params.minRating !== undefined && params.minRating !== null) {\n                    console.log(\"[searchHotels] Applying minRating filter:\", params.minRating);\n                    const beforeCount = hotels.length;\n                    hotels = hotels.filter((h)=>h.rating >= params.minRating);\n                    console.log(\"[searchHotels] After minRating filter:\", beforeCount, \"→\", hotels.length, \"hotels\");\n                }\n            }\n            console.log(\"[searchHotels] Returning hotels:\", hotels.length, \"results\");\n            return hotels;\n        } catch (error) {\n            console.error(\"[searchHotels] Hotel search error:\", error);\n            // Return empty array but log the error message for better debugging\n            // The error message will be shown in the UI by the calling function\n            return [];\n        }\n    };\n    // Helper function to get future date\n    const getFutureDate = (days)=>{\n        const date = new Date();\n        date.setDate(date.getDate() + days);\n        return date.toISOString().split(\"T\")[0];\n    };\n    // Helper function to parse dates from natural language\n    const parseDateFromMessage = (message)=>{\n        const lowerMessage = message.toLowerCase();\n        const dates = {};\n        console.log(\"[parseDateFromMessage] Input:\", message);\n        // Month names mapping\n        const monthNames = {\n            january: 0,\n            jan: 0,\n            february: 1,\n            feb: 1,\n            march: 2,\n            mar: 2,\n            april: 3,\n            apr: 3,\n            may: 4,\n            june: 5,\n            jun: 5,\n            july: 6,\n            jul: 6,\n            august: 7,\n            aug: 7,\n            september: 8,\n            sep: 8,\n            sept: 8,\n            october: 9,\n            oct: 9,\n            november: 10,\n            nov: 10,\n            december: 11,\n            dec: 11\n        };\n        // Relative date patterns\n        if (/\\b(tomorrow)\\b/i.test(lowerMessage)) {\n            dates.departureDate = getFutureDate(1);\n            dates.checkInDate = getFutureDate(1);\n        } else if (/\\b(next week)\\b/i.test(lowerMessage)) {\n            dates.departureDate = getFutureDate(7);\n            dates.checkInDate = getFutureDate(7);\n        } else if (/\\b(next month)\\b/i.test(lowerMessage)) {\n            dates.departureDate = getFutureDate(30);\n            dates.checkInDate = getFutureDate(30);\n        } else if (/\\b(today)\\b/i.test(lowerMessage)) {\n            dates.departureDate = getFutureDate(0);\n            dates.checkInDate = getFutureDate(0);\n        }\n        // Specific date patterns: \"21st\", \"25th\", \"3rd\", etc.\n        const dayOrdinalMatch = lowerMessage.match(/\\b(\\d{1,2})(?:st|nd|rd|th)\\b/);\n        if (dayOrdinalMatch) {\n            const day = parseInt(dayOrdinalMatch[1]);\n            const today = new Date();\n            let targetDate = new Date(today.getFullYear(), today.getMonth(), day);\n            // If the date has passed this month, assume next month\n            if (targetDate < today) {\n                targetDate = new Date(today.getFullYear(), today.getMonth() + 1, day);\n            }\n            dates.departureDate = targetDate.toISOString().split(\"T\")[0];\n            dates.checkInDate = targetDate.toISOString().split(\"T\")[0];\n        }\n        // Month + day patterns: \"in December\", \"December 25th\", \"25th December\", \"Dec 21\"\n        for (const [monthName, monthIndex] of Object.entries(monthNames)){\n            const monthDayPattern = new RegExp(\"\\\\b(\".concat(monthName, \")\\\\s*(\\\\d{1,2})(?:st|nd|rd|th)?\\\\b\"), \"i\");\n            const dayMonthPattern = new RegExp(\"\\\\b(\\\\d{1,2})(?:st|nd|rd|th)?\\\\s*(\".concat(monthName, \")\\\\b\"), \"i\");\n            const inMonthPattern = new RegExp(\"\\\\bin\\\\s+(\".concat(monthName, \")\\\\b\"), \"i\");\n            let match = lowerMessage.match(monthDayPattern);\n            if (match) {\n                const day = parseInt(match[2]);\n                const targetDate = getDateForMonthDay(monthIndex, day);\n                dates.departureDate = targetDate.toISOString().split(\"T\")[0];\n                dates.checkInDate = targetDate.toISOString().split(\"T\")[0];\n                break;\n            }\n            match = lowerMessage.match(dayMonthPattern);\n            if (match) {\n                const day = parseInt(match[1]);\n                const targetDate = getDateForMonthDay(monthIndex, day);\n                dates.departureDate = targetDate.toISOString().split(\"T\")[0];\n                dates.checkInDate = targetDate.toISOString().split(\"T\")[0];\n                break;\n            }\n            match = lowerMessage.match(inMonthPattern);\n            if (match) {\n                // For \"in December\" without specific day, use 1st of that month\n                const targetDate = getDateForMonthDay(monthIndex, 1);\n                dates.departureDate = targetDate.toISOString().split(\"T\")[0];\n                dates.checkInDate = targetDate.toISOString().split(\"T\")[0];\n                break;\n            }\n        }\n        // Date range patterns for hotels: \"from 25th to 27th\", \"25th-27th\", \"from Dec 25 to Dec 27\"\n        const dateRangeMatch = lowerMessage.match(/\\b(?:from\\s+)?(\\d{1,2})(?:st|nd|rd|th)?\\s*(?:to|-)\\s*(\\d{1,2})(?:st|nd|rd|th)?\\b/);\n        if (dateRangeMatch) {\n            const startDay = parseInt(dateRangeMatch[1]);\n            const endDay = parseInt(dateRangeMatch[2]);\n            const today = new Date();\n            let startDate = new Date(today.getFullYear(), today.getMonth(), startDay);\n            let endDate = new Date(today.getFullYear(), today.getMonth(), endDay);\n            // If start date has passed, assume next month\n            if (startDate < today) {\n                startDate = new Date(today.getFullYear(), today.getMonth() + 1, startDay);\n                endDate = new Date(today.getFullYear(), today.getMonth() + 1, endDay);\n            }\n            // If end day is less than start day, assume it spans into next month\n            if (endDay < startDay) {\n                endDate = new Date(startDate.getFullYear(), startDate.getMonth() + 1, endDay);\n            }\n            dates.checkInDate = startDate.toISOString().split(\"T\")[0];\n            dates.checkOutDate = endDate.toISOString().split(\"T\")[0];\n            dates.departureDate = startDate.toISOString().split(\"T\")[0];\n        }\n        // ISO date format: YYYY-MM-DD\n        const isoDateMatch = lowerMessage.match(/\\b(\\d{4}-\\d{2}-\\d{2})\\b/);\n        if (isoDateMatch) {\n            dates.departureDate = isoDateMatch[1];\n            dates.checkInDate = isoDateMatch[1];\n        }\n        // US date format: MM/DD/YYYY or MM/DD/YY\n        const usDateMatch = lowerMessage.match(/\\b(\\d{1,2})\\/(\\d{1,2})\\/(\\d{2,4})\\b/);\n        if (usDateMatch) {\n            const month = parseInt(usDateMatch[1]) - 1;\n            const day = parseInt(usDateMatch[2]);\n            let year = parseInt(usDateMatch[3]);\n            if (year < 100) year += 2000; // Convert 2-digit year to 4-digit\n            const targetDate = new Date(year, month, day);\n            dates.departureDate = targetDate.toISOString().split(\"T\")[0];\n            dates.checkInDate = targetDate.toISOString().split(\"T\")[0];\n        }\n        console.log(\"[parseDateFromMessage] Parsed dates:\", dates);\n        return dates;\n    };\n    // Helper function to get date for specific month and day\n    const getDateForMonthDay = (monthIndex, day)=>{\n        const today = new Date();\n        let targetDate = new Date(today.getFullYear(), monthIndex, day);\n        // If the date has passed this year, assume next year\n        if (targetDate < today) {\n            targetDate = new Date(today.getFullYear() + 1, monthIndex, day);\n        }\n        return targetDate;\n    };\n    // Try to parse intent using Claude AI with fallback to rule-based\n    const parseIntentWithClaude = async (userMessage)=>{\n        if (!claudeAvailable) {\n            console.log(\"[Claude AI] Not available, using rule-based parsing\");\n            return null;\n        }\n        try {\n            const response = await fetch((0,_lib_api_config__WEBPACK_IMPORTED_MODULE_4__.getApiEndpoint)(\"ai-chat/parse\"), {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                },\n                body: JSON.stringify({\n                    message: userMessage,\n                    conversationHistory: conversationHistory\n                })\n            });\n            const data = await response.json();\n            console.log(\"[Claude AI] Parse response:\", data);\n            if (data.success && data.intent) {\n                console.log(\"[Claude AI] Successfully parsed intent:\", data.intent);\n                return data.intent;\n            } else if (data.useRuleBased) {\n                console.log(\"[Claude AI] Falling back to rule-based parsing\");\n                return null;\n            }\n        } catch (error) {\n            console.error(\"[Claude AI] Error parsing intent:\", error);\n        }\n        return null;\n    };\n    // Extract search parameters from user message\n    const extractParameters = (message)=>{\n        const lowerMessage = message.toLowerCase();\n        const params = {};\n        // Extract dates using the new parser\n        const parsedDates = parseDateFromMessage(message);\n        // Use parsed dates or default to 7 days from now\n        params.departureDate = parsedDates.departureDate || getFutureDate(7);\n        params.checkInDate = parsedDates.checkInDate || getFutureDate(7);\n        params.returnDate = parsedDates.returnDate;\n        // Set checkout date\n        if (parsedDates.checkOutDate) {\n            params.checkOutDate = parsedDates.checkOutDate;\n        } else if (params.checkInDate) {\n            // Default to 2 nights for hotels if no checkout specified\n            const checkIn = new Date(params.checkInDate);\n            checkIn.setDate(checkIn.getDate() + 2);\n            params.checkOutDate = checkIn.toISOString().split(\"T\")[0];\n        }\n        // Price extraction\n        const pricePatterns = [\n            /(?:under|less than|below|cheaper than|max|maximum)\\s*\\$?\\s*(\\d+)/i,\n            /(?:budget|cheap|affordable).*?(\\d+)/i,\n            /\\$?(\\d+)\\s*(?:or less|maximum|max)/i\n        ];\n        for (const pattern of pricePatterns){\n            const match = lowerMessage.match(pattern);\n            if (match) {\n                params.maxPrice = parseInt(match[1]);\n                break;\n            }\n        }\n        // Price range extraction\n        const rangePattern = /between\\s*\\$?\\s*(\\d+)\\s*(?:and|to|-)\\s*\\$?\\s*(\\d+)/i;\n        const rangeMatch = lowerMessage.match(rangePattern);\n        if (rangeMatch) {\n            params.minPrice = parseInt(rangeMatch[1]);\n            params.maxPrice = parseInt(rangeMatch[2]);\n        }\n        // Minimum price\n        const minPricePattern = /\\b(?:above|more than|over|minimum|min)\\s*\\$?\\s*(\\d+)/i;\n        const minPriceMatch = lowerMessage.match(minPricePattern);\n        if (minPriceMatch && !params.minPrice) {\n            params.minPrice = parseInt(minPriceMatch[1]);\n        }\n        // Amenities extraction\n        const amenityKeywords = {\n            pool: [\n                \"pool\",\n                \"swimming\"\n            ],\n            gym: [\n                \"gym\",\n                \"fitness\",\n                \"workout\"\n            ],\n            wifi: [\n                \"wifi\",\n                \"wi-fi\",\n                \"internet\"\n            ],\n            spa: [\n                \"spa\",\n                \"massage\"\n            ],\n            parking: [\n                \"parking\",\n                \"garage\"\n            ],\n            breakfast: [\n                \"breakfast\",\n                \"morning meal\"\n            ],\n            restaurant: [\n                \"restaurant\",\n                \"dining\"\n            ],\n            bar: [\n                \"bar\",\n                \"lounge\"\n            ]\n        };\n        const foundAmenities = [];\n        for (const [amenity, keywords] of Object.entries(amenityKeywords)){\n            if (keywords.some((keyword)=>lowerMessage.includes(keyword))) {\n                foundAmenities.push(amenity);\n            }\n        }\n        if (foundAmenities.length > 0) {\n            params.amenities = foundAmenities;\n        }\n        // Rating extraction\n        const ratingPatterns = [\n            /(\\d+(?:\\.\\d+)?)\\s*star/i,\n            /(?:rating|rated)\\s*(\\d+(?:\\.\\d+)?)/i,\n            /(\\d+)\\+\\s*star/i\n        ];\n        for (const pattern of ratingPatterns){\n            const match = lowerMessage.match(pattern);\n            if (match) {\n                params.minRating = parseFloat(match[1]);\n                break;\n            }\n        }\n        // Quality keywords\n        if (lowerMessage.match(/\\b(luxury|luxurious|premium|5\\s*star|high-end|upscale)\\b/i)) {\n            params.minRating = 4.5;\n        }\n        // Note: Removed hardcoded maxPrice for budget queries\n        // Users should specify actual budget (e.g., \"under $200\") for accurate results\n        // Direct flights\n        if (lowerMessage.match(/\\b(direct|non-stop|nonstop|no stops)\\b/i)) {\n            params.directOnly = true;\n        }\n        // Cabin class\n        if (lowerMessage.match(/\\b(business\\s*class|business)\\b/i)) {\n            params.cabinClass = \"Business\";\n        }\n        if (lowerMessage.match(/\\b(first\\s*class|first)\\b/i)) {\n            params.cabinClass = \"First\";\n        }\n        if (lowerMessage.match(/\\b(economy|coach)\\b/i)) {\n            params.cabinClass = \"Economy\";\n        }\n        return params;\n    };\n    const parseUserIntent = async function(userMessage) {\n        let skipDisambiguation = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : false;\n        setIsLoading(true);\n        // Try Claude AI first if available\n        const claudeIntent = await parseIntentWithClaude(userMessage);\n        if (claudeIntent && claudeIntent.confidence > 50) {\n            console.log(\"[AI Chatbox] Using Claude AI parsed intent:\", claudeIntent);\n            // Handle Claude-parsed intent\n            if (claudeIntent.type === \"flight\" && claudeIntent.origin && claudeIntent.destination) {\n                var _claudeIntent_dates, _claudeIntent_dates1, _claudeIntent_preferences, _claudeIntent_preferences1, _claudeIntent_preferences2, _claudeIntent_preferences3;\n                // Extract parameters from Claude intent\n                const params = {\n                    departureDate: ((_claudeIntent_dates = claudeIntent.dates) === null || _claudeIntent_dates === void 0 ? void 0 : _claudeIntent_dates.departure) || getFutureDate(7),\n                    returnDate: (_claudeIntent_dates1 = claudeIntent.dates) === null || _claudeIntent_dates1 === void 0 ? void 0 : _claudeIntent_dates1.return,\n                    maxPrice: (_claudeIntent_preferences = claudeIntent.preferences) === null || _claudeIntent_preferences === void 0 ? void 0 : _claudeIntent_preferences.maxPrice,\n                    minPrice: (_claudeIntent_preferences1 = claudeIntent.preferences) === null || _claudeIntent_preferences1 === void 0 ? void 0 : _claudeIntent_preferences1.minPrice,\n                    directOnly: (_claudeIntent_preferences2 = claudeIntent.preferences) === null || _claudeIntent_preferences2 === void 0 ? void 0 : _claudeIntent_preferences2.directFlight,\n                    cabinClass: (_claudeIntent_preferences3 = claudeIntent.preferences) === null || _claudeIntent_preferences3 === void 0 ? void 0 : _claudeIntent_preferences3.cabinClass\n                };\n                await addMessageWithTyping({\n                    id: Date.now().toString(),\n                    role: \"assistant\",\n                    content: \"Perfect! Let me find flights from \".concat(claudeIntent.origin, \" to \").concat(claudeIntent.destination, \" for you...\"),\n                    timestamp: new Date()\n                });\n                try {\n                    const flights = await searchFlights(claudeIntent.origin, claudeIntent.destination, params.departureDate, params);\n                    setConversationContext({\n                        lastSearchType: \"flight\",\n                        lastOrigin: claudeIntent.origin,\n                        lastDestination: claudeIntent.destination,\n                        lastParams: params\n                    });\n                    setIsLoading(false);\n                    if (flights.length === 0) {\n                        await addMessageWithTyping({\n                            id: Date.now().toString(),\n                            role: \"assistant\",\n                            content: \"Hmm, I couldn't find flights with those exact requirements. Would you like to adjust your search?\",\n                            timestamp: new Date(),\n                            suggestions: [\n                                \"Show me all options\",\n                                \"Try cheaper flights\",\n                                \"Next month instead\"\n                            ]\n                        });\n                        return;\n                    }\n                    await addMessageWithTyping({\n                        id: Date.now().toString(),\n                        role: \"assistant\",\n                        content: \"Found \".concat(flights.length, \" great flight\").concat(flights.length > 1 ? \"s\" : \"\", \" from \").concat(claudeIntent.origin, \" to \").concat(claudeIntent.destination, \"!\"),\n                        timestamp: new Date(),\n                        flightResults: flights\n                    });\n                    return;\n                } catch (error) {\n                    setIsLoading(false);\n                    await addMessageWithTyping({\n                        id: Date.now().toString(),\n                        role: \"assistant\",\n                        content: error.message || \"Sorry, I had trouble searching for flights.\",\n                        timestamp: new Date()\n                    });\n                    return;\n                }\n            } else if (claudeIntent.type === \"hotel\" && claudeIntent.location) {\n                var _claudeIntent_dates2, _claudeIntent_dates3, _claudeIntent_preferences4, _claudeIntent_preferences5, _claudeIntent_preferences6, _claudeIntent_preferences7;\n                const params = {\n                    checkInDate: ((_claudeIntent_dates2 = claudeIntent.dates) === null || _claudeIntent_dates2 === void 0 ? void 0 : _claudeIntent_dates2.checkIn) || getFutureDate(7),\n                    checkOutDate: ((_claudeIntent_dates3 = claudeIntent.dates) === null || _claudeIntent_dates3 === void 0 ? void 0 : _claudeIntent_dates3.checkOut) || getFutureDate(9),\n                    maxPrice: (_claudeIntent_preferences4 = claudeIntent.preferences) === null || _claudeIntent_preferences4 === void 0 ? void 0 : _claudeIntent_preferences4.maxPrice,\n                    minPrice: (_claudeIntent_preferences5 = claudeIntent.preferences) === null || _claudeIntent_preferences5 === void 0 ? void 0 : _claudeIntent_preferences5.minPrice,\n                    minRating: (_claudeIntent_preferences6 = claudeIntent.preferences) === null || _claudeIntent_preferences6 === void 0 ? void 0 : _claudeIntent_preferences6.minRating,\n                    amenities: (_claudeIntent_preferences7 = claudeIntent.preferences) === null || _claudeIntent_preferences7 === void 0 ? void 0 : _claudeIntent_preferences7.amenities\n                };\n                await addMessageWithTyping({\n                    id: Date.now().toString(),\n                    role: \"assistant\",\n                    content: \"Great! Searching for hotels in \".concat(claudeIntent.location, \"...\"),\n                    timestamp: new Date()\n                });\n                const hotels = await searchHotels(claudeIntent.location, params.checkInDate, params.checkOutDate, params);\n                setConversationContext({\n                    lastSearchType: \"hotel\",\n                    lastLocation: claudeIntent.location,\n                    lastParams: params\n                });\n                setIsLoading(false);\n                if (hotels.length === 0) {\n                    await addMessageWithTyping({\n                        id: Date.now().toString(),\n                        role: \"assistant\",\n                        content: \"I couldn't find any hotels in \\\"\".concat(claudeIntent.location, \"\\\". Let's try something else!\"),\n                        timestamp: new Date(),\n                        suggestions: [\n                            \"Try a different city\",\n                            \"Remove filters\"\n                        ]\n                    });\n                    return;\n                }\n                await addMessageWithTyping({\n                    id: Date.now().toString(),\n                    role: \"assistant\",\n                    content: \"Perfect! I found \".concat(hotels.length, \" amazing hotel\").concat(hotels.length > 1 ? \"s\" : \"\", \" in \").concat(claudeIntent.location, \"!\"),\n                    timestamp: new Date(),\n                    hotelResults: hotels\n                });\n                return;\n            } else if (claudeIntent.type === \"both\" && claudeIntent.location) {\n                var _claudeIntent_dates4, _claudeIntent_dates5, _claudeIntent_preferences8, _claudeIntent_preferences9, _claudeIntent_preferences10, _claudeIntent_preferences11;\n                // Handle both flight and hotel search\n                const hotelParams = {\n                    checkInDate: ((_claudeIntent_dates4 = claudeIntent.dates) === null || _claudeIntent_dates4 === void 0 ? void 0 : _claudeIntent_dates4.checkIn) || getFutureDate(7),\n                    checkOutDate: ((_claudeIntent_dates5 = claudeIntent.dates) === null || _claudeIntent_dates5 === void 0 ? void 0 : _claudeIntent_dates5.checkOut) || getFutureDate(9),\n                    maxPrice: (_claudeIntent_preferences8 = claudeIntent.preferences) === null || _claudeIntent_preferences8 === void 0 ? void 0 : _claudeIntent_preferences8.maxPrice,\n                    minPrice: (_claudeIntent_preferences9 = claudeIntent.preferences) === null || _claudeIntent_preferences9 === void 0 ? void 0 : _claudeIntent_preferences9.minPrice,\n                    minRating: (_claudeIntent_preferences10 = claudeIntent.preferences) === null || _claudeIntent_preferences10 === void 0 ? void 0 : _claudeIntent_preferences10.minRating,\n                    amenities: (_claudeIntent_preferences11 = claudeIntent.preferences) === null || _claudeIntent_preferences11 === void 0 ? void 0 : _claudeIntent_preferences11.amenities\n                };\n                await addMessageWithTyping({\n                    id: Date.now().toString(),\n                    role: \"assistant\",\n                    content: \"Great! Let me search for hotels in \".concat(claudeIntent.location, \" for you...\"),\n                    timestamp: new Date()\n                });\n                const hotels = await searchHotels(claudeIntent.location, hotelParams.checkInDate, hotelParams.checkOutDate, hotelParams);\n                setConversationContext({\n                    lastSearchType: \"hotel\",\n                    lastLocation: claudeIntent.location,\n                    lastParams: hotelParams\n                });\n                setIsLoading(false);\n                if (hotels.length === 0) {\n                    await addMessageWithTyping({\n                        id: Date.now().toString(),\n                        role: \"assistant\",\n                        content: \"I couldn't find any hotels in \\\"\".concat(claudeIntent.location, '\". Would you like to search for flights instead?'),\n                        timestamp: new Date(),\n                        suggestions: [\n                            \"Show me flights\",\n                            \"Try a different city\"\n                        ]\n                    });\n                    return;\n                }\n                await addMessageWithTyping({\n                    id: Date.now().toString(),\n                    role: \"assistant\",\n                    content: \"Perfect! I found \".concat(hotels.length, \" amazing hotel\").concat(hotels.length > 1 ? \"s\" : \"\", \" in \").concat(claudeIntent.location, \"! \").concat(claudeIntent.origin ? \"Would you also like to see flights?\" : \"\"),\n                    timestamp: new Date(),\n                    hotelResults: hotels,\n                    suggestions: claudeIntent.origin && claudeIntent.destination ? [\n                        \"Yes, show me flights too\",\n                        \"No, just hotels\"\n                    ] : undefined\n                });\n                return;\n            } else if (claudeIntent.needsClarification && claudeIntent.clarificationQuestion) {\n                setIsLoading(false);\n                await addMessageWithTyping({\n                    id: Date.now().toString(),\n                    role: \"assistant\",\n                    content: claudeIntent.clarificationQuestion,\n                    timestamp: new Date()\n                });\n                return;\n            }\n        }\n        // Fall back to rule-based parsing\n        console.log(\"[AI Chatbox] Using rule-based parsing\");\n        const lowerMessage = userMessage.toLowerCase();\n        const params = extractParameters(userMessage);\n        // Greeting detection\n        if (lowerMessage.match(/^(hi|hello|hey|good morning|good afternoon)/i)) {\n            await addMessageWithTyping({\n                id: Date.now().toString(),\n                role: \"assistant\",\n                content: \"Hey! Great to see you! I'm super excited to help you plan your trip. Are you looking for flights, hotels, or both?\",\n                timestamp: new Date(),\n                suggestions: [\n                    \"I need a flight\",\n                    \"Looking for hotels\",\n                    \"Both flight and hotel\"\n                ]\n            });\n            setIsLoading(false);\n            return;\n        }\n        // Handle disambiguation response\n        if (conversationContext.pendingDisambiguation) {\n            const disambiguation = conversationContext.pendingDisambiguation;\n            // Find which option the user selected based on their response\n            let selectedOption = null;\n            for (const option of disambiguation.options){\n                if (lowerMessage.includes(option.country.toLowerCase()) || lowerMessage.includes(option.context.toLowerCase()) || lowerMessage.includes(option.code.toLowerCase())) {\n                    selectedOption = option;\n                    break;\n                }\n            }\n            if (selectedOption) {\n                // User clarified which city they meant - store the resolved city\n                await addMessageWithTyping({\n                    id: Date.now().toString(),\n                    role: \"assistant\",\n                    content: \"Got it! \".concat(selectedOption.context, \". Let me search for that...\"),\n                    timestamp: new Date()\n                });\n                // Store resolved city and clear disambiguation\n                const resolvedCities = conversationContext.resolvedCities || {};\n                if (disambiguation.type === \"origin\") {\n                    resolvedCities.origin = {\n                        name: selectedOption.name,\n                        code: selectedOption.code\n                    };\n                } else if (disambiguation.type === \"destination\") {\n                    resolvedCities.destination = {\n                        name: selectedOption.name,\n                        code: selectedOption.code\n                    };\n                }\n                // Update context synchronously before re-parsing\n                const updatedContext = {\n                    ...conversationContext,\n                    pendingDisambiguation: undefined,\n                    resolvedCities\n                };\n                setConversationContext(updatedContext);\n                // Store resolved cities in conversationContext temporarily for the re-parse\n                conversationContext.resolvedCities = resolvedCities;\n                conversationContext.pendingDisambiguation = undefined;\n                // Re-parse the original query with skipDisambiguation flag\n                await parseUserIntent(disambiguation.originalQuery, true);\n                return;\n            } else {\n                // User response didn't match any option - ask again\n                setIsLoading(false);\n                await addMessageWithTyping({\n                    id: Date.now().toString(),\n                    role: \"assistant\",\n                    content: \"I'm not sure which one you mean. Please select one of these options:\",\n                    timestamp: new Date(),\n                    suggestions: disambiguation.options.map((opt)=>opt.context)\n                });\n                return;\n            }\n        }\n        // Handle follow-up answers when there's pending search context\n        if (conversationContext.pendingSearch) {\n            const pending = conversationContext.pendingSearch;\n            if (pending.type === \"flight\") {\n                // User is answering \"where from?\" question\n                const fromMatch = lowerMessage.match(/(?:from\\s+)?(\\w+(?:\\s+\\w+)?)/i);\n                if (fromMatch && pending.destination && !pending.origin) {\n                    const origin = fromMatch[1];\n                    await addMessageWithTyping({\n                        id: Date.now().toString(),\n                        role: \"assistant\",\n                        content: \"Perfect! Let me find flights from \".concat(origin, \" to \").concat(pending.destination, \" for you...\"),\n                        timestamp: new Date()\n                    });\n                    const departureDate = params.departureDate || getFutureDate(7);\n                    try {\n                        const flights = await searchFlights(origin, pending.destination, departureDate, params);\n                        setConversationContext({\n                            lastSearchType: \"flight\",\n                            lastOrigin: origin,\n                            lastDestination: pending.destination,\n                            lastParams: {\n                                ...params,\n                                departureDate\n                            },\n                            pendingSearch: undefined\n                        });\n                        setIsLoading(false);\n                        if (flights.length === 0) {\n                            await addMessageWithTyping({\n                                id: Date.now().toString(),\n                                role: \"assistant\",\n                                content: \"Hmm, I couldn't find flights with those exact requirements. Would you like to:\\n• Adjust your budget?\\n• Include connecting flights?\\n• Try different dates?\",\n                                timestamp: new Date(),\n                                suggestions: [\n                                    \"Show me all options\",\n                                    \"Try cheaper flights\",\n                                    \"Next month instead\"\n                                ]\n                            });\n                            return;\n                        }\n                        await addMessageWithTyping({\n                            id: Date.now().toString(),\n                            role: \"assistant\",\n                            content: \"Found \".concat(flights.length, \" great flight\").concat(flights.length > 1 ? \"s\" : \"\", \" from \").concat(origin, \" to \").concat(pending.destination, \"!\"),\n                            timestamp: new Date(),\n                            flightResults: flights\n                        });\n                        return;\n                    } catch (error) {\n                        setIsLoading(false);\n                        await addMessageWithTyping({\n                            id: Date.now().toString(),\n                            role: \"assistant\",\n                            content: error.message || \"Sorry, I had trouble searching for flights. Please try again with different cities.\",\n                            timestamp: new Date(),\n                            suggestions: [\n                                \"Lagos to London\",\n                                \"New York to Paris\",\n                                \"Dubai to Tokyo\"\n                            ]\n                        });\n                        return;\n                    }\n                }\n            }\n        }\n        // Flight booking intent\n        if (lowerMessage.includes(\"flight\") || lowerMessage.includes(\"fly\")) {\n            // Improved regex to capture up to 2-word city names\n            // Use negative lookahead to exclude common transition words from city names\n            let fromMatch = lowerMessage.match(/from\\s+([a-z]+(?:\\s+(?!to|on|in|under|over|for)[a-z]+)?)\\s+(?:to|on|in|under|over|for)/i);\n            let toMatch = lowerMessage.match(/to\\s+([a-z]+(?:\\s+(?!under|over|for|on|in|next|tomorrow|today)[a-z]+)?)\\s*(?:under|over|for|on|in|next|tomorrow|today|,|\\d|$)/i);\n            // Fallback: Handle \"flight CITY to CITY\" without explicit \"from\"\n            if (!fromMatch && toMatch) {\n                // Match pattern: \"flight/fly [CITY] to\" (but skip \"from\" if present)\n                const implicitFromMatch = lowerMessage.match(/(?:flight|fly)\\s+(?:from\\s+)?([a-z]+(?:\\s+(?!to)[a-z]+)?)\\s+to\\s+/i);\n                if (implicitFromMatch) {\n                    console.log(\"[AI Chatbox] Using implicit from pattern:\", implicitFromMatch);\n                    fromMatch = implicitFromMatch;\n                }\n            }\n            console.log(\"[AI Chatbox] Flight intent detected!\", {\n                fromMatch,\n                toMatch\n            });\n            if (fromMatch && toMatch) {\n                var _conversationContext_resolvedCities, _conversationContext_resolvedCities1;\n                const origin = fromMatch[1];\n                const destination = toMatch[1];\n                console.log(\"[AI Chatbox] Extracted origin and destination:\", {\n                    origin,\n                    destination\n                });\n                // Check if we have resolved cities from disambiguation\n                const resolvedOrigin = (_conversationContext_resolvedCities = conversationContext.resolvedCities) === null || _conversationContext_resolvedCities === void 0 ? void 0 : _conversationContext_resolvedCities.origin;\n                const resolvedDest = (_conversationContext_resolvedCities1 = conversationContext.resolvedCities) === null || _conversationContext_resolvedCities1 === void 0 ? void 0 : _conversationContext_resolvedCities1.destination;\n                // Check for ambiguous cities (but skip if already resolved)\n                const originDisambiguation = resolvedOrigin ? {\n                    code: resolvedOrigin.code,\n                    needsDisambiguation: false\n                } : (0,_utils_cityMapping__WEBPACK_IMPORTED_MODULE_3__.getCityCodeWithContext)(origin, userMessage);\n                const destDisambiguation = resolvedDest ? {\n                    code: resolvedDest.code,\n                    needsDisambiguation: false\n                } : (0,_utils_cityMapping__WEBPACK_IMPORTED_MODULE_3__.getCityCodeWithContext)(destination, userMessage);\n                // If origin is ambiguous and needs clarification (unless we're skipping disambiguation)\n                if (!skipDisambiguation && originDisambiguation.needsDisambiguation && originDisambiguation.options) {\n                    setConversationContext({\n                        ...conversationContext,\n                        pendingDisambiguation: {\n                            type: \"origin\",\n                            cityName: origin,\n                            options: originDisambiguation.options,\n                            originalQuery: userMessage\n                        }\n                    });\n                    setIsLoading(false);\n                    await addMessageWithTyping({\n                        id: Date.now().toString(),\n                        role: \"assistant\",\n                        content: 'I found multiple cities named \"'.concat(origin, '\". Which one did you mean?'),\n                        timestamp: new Date(),\n                        suggestions: originDisambiguation.options.map((opt)=>opt.context)\n                    });\n                    return;\n                }\n                // If destination is ambiguous and needs clarification (unless we're skipping disambiguation)\n                if (!skipDisambiguation && destDisambiguation.needsDisambiguation && destDisambiguation.options) {\n                    setConversationContext({\n                        ...conversationContext,\n                        pendingDisambiguation: {\n                            type: \"destination\",\n                            cityName: destination,\n                            options: destDisambiguation.options,\n                            originalQuery: userMessage\n                        }\n                    });\n                    setIsLoading(false);\n                    await addMessageWithTyping({\n                        id: Date.now().toString(),\n                        role: \"assistant\",\n                        content: 'I found multiple cities named \"'.concat(destination, '\". Which one did you mean?'),\n                        timestamp: new Date(),\n                        suggestions: destDisambiguation.options.map((opt)=>opt.context)\n                    });\n                    return;\n                }\n                // Build conversational acknowledgment of parameters\n                let acknowledgment = \"\";\n                const paramDetails = [];\n                if (params.maxPrice) {\n                    paramDetails.push(\"under $\".concat(params.maxPrice));\n                }\n                if (params.minPrice && params.maxPrice) {\n                    paramDetails[paramDetails.length - 1] = \"$\".concat(params.minPrice, \"-$\").concat(params.maxPrice);\n                }\n                if (params.directOnly) {\n                    paramDetails.push(\"direct\");\n                }\n                if (params.cabinClass) {\n                    paramDetails.push(\"\".concat(params.cabinClass, \" class\"));\n                }\n                // Natural acknowledgment\n                if (paramDetails.length > 0) {\n                    acknowledgment = \"Great! Searching for \".concat(paramDetails.join(\", \"), \" flights from \").concat(origin, \" to \").concat(destination, \"...\");\n                } else {\n                    acknowledgment = \"Perfect! Let me find flights from \".concat(origin, \" to \").concat(destination, \" for you...\");\n                }\n                await addMessageWithTyping({\n                    id: Date.now().toString(),\n                    role: \"assistant\",\n                    content: acknowledgment,\n                    timestamp: new Date()\n                });\n                const departureDate = params.departureDate || getFutureDate(7);\n                console.log(\"[AI Chatbox] About to call searchFlights with:\", {\n                    origin,\n                    destination,\n                    departureDate,\n                    params\n                });\n                try {\n                    const flights = await searchFlights(origin, destination, departureDate, params);\n                    console.log(\"[AI Chatbox] searchFlights returned:\", flights.length, \"results\");\n                    // Update context and clear resolved cities\n                    setConversationContext({\n                        lastSearchType: \"flight\",\n                        lastOrigin: origin,\n                        lastDestination: destination,\n                        lastParams: {\n                            ...params,\n                            departureDate\n                        },\n                        resolvedCities: undefined\n                    });\n                    setIsLoading(false);\n                    if (flights.length === 0) {\n                        await addMessageWithTyping({\n                            id: Date.now().toString(),\n                            role: \"assistant\",\n                            content: \"Hmm, I couldn't find flights with those exact requirements. Would you like to:\\n• Adjust your budget?\\n• Include connecting flights?\\n• Try different dates?\",\n                            timestamp: new Date(),\n                            suggestions: [\n                                \"Show me all options\",\n                                \"Try cheaper flights\",\n                                \"Next month instead\"\n                            ]\n                        });\n                        return;\n                    }\n                    await addMessageWithTyping({\n                        id: Date.now().toString(),\n                        role: \"assistant\",\n                        content: \"Found \".concat(flights.length, \" great flight\").concat(flights.length > 1 ? \"s\" : \"\", \" from \").concat(origin, \" to \").concat(destination, \"!\"),\n                        timestamp: new Date(),\n                        flightResults: flights\n                    });\n                    return;\n                } catch (error) {\n                    setIsLoading(false);\n                    await addMessageWithTyping({\n                        id: Date.now().toString(),\n                        role: \"assistant\",\n                        content: error.message || \"Sorry, I had trouble searching for flights. Please try again with different cities.\",\n                        timestamp: new Date(),\n                        suggestions: [\n                            \"Lagos to London\",\n                            \"New York to Paris\",\n                            \"Dubai to Tokyo\"\n                        ]\n                    });\n                    return;\n                }\n            } else if (fromMatch || toMatch || lowerMessage.includes(\"london\")) {\n                // User mentioned a city but not full route - ask for missing info naturally\n                const mentionedCity = fromMatch ? fromMatch[1] : toMatch ? toMatch[1] : \"London\";\n                // Set pending search context\n                setConversationContext({\n                    ...conversationContext,\n                    pendingSearch: {\n                        type: \"flight\",\n                        destination: toMatch ? mentionedCity : undefined,\n                        origin: fromMatch ? mentionedCity : undefined,\n                        missingInfo: toMatch ? [\n                            \"origin\"\n                        ] : [\n                            \"destination\"\n                        ]\n                    }\n                });\n                await addMessageWithTyping({\n                    id: Date.now().toString(),\n                    role: \"assistant\",\n                    content: \"I see you want to \".concat(toMatch ? \"fly to\" : \"go to\", \" \").concat(mentionedCity, \"! Where are you flying from?\"),\n                    timestamp: new Date(),\n                    suggestions: [\n                        \"From Lagos\",\n                        \"From New York\",\n                        \"From Dubai\"\n                    ]\n                });\n                setIsLoading(false);\n                return;\n            } else {\n                await addMessageWithTyping({\n                    id: Date.now().toString(),\n                    role: \"assistant\",\n                    content: \"I'd love to help you book a flight! Where are you traveling from and to?\",\n                    timestamp: new Date(),\n                    suggestions: [\n                        \"Lagos to London\",\n                        \"New York to Paris\",\n                        \"Dubai to Tokyo\"\n                    ]\n                });\n                setIsLoading(false);\n                return;\n            }\n        }\n        // Hotel booking intent\n        if (lowerMessage.includes(\"hotel\") || lowerMessage.includes(\"accommodation\") || lowerMessage.includes(\"stay\")) {\n            console.log(\"[AI Chatbox] Hotel intent detected!\");\n            // Improved regex to capture multi-word locations including neighborhoods\n            // Captures up to 4 words between location keywords and stop words\n            const locationMatch = lowerMessage.match(/(?:in|near|at)\\s+([a-z]+(?:\\s+[a-z]+){0,3})\\s*(?:with|under|over|for|on|next|tomorrow|today|,|\\d|$)/i);\n            console.log(\"[AI Chatbox] Location match:\", locationMatch);\n            if (locationMatch) {\n                const location = locationMatch[1];\n                console.log(\"[AI Chatbox] Extracted location:\", location);\n                // Build conversational acknowledgment of parameters\n                let acknowledgment = getRandomResponse(\"searching\");\n                const paramDetails = [];\n                if (params.maxPrice) {\n                    paramDetails.push(\"under $\".concat(params.maxPrice, \"/night\"));\n                }\n                if (params.minPrice && params.maxPrice) {\n                    paramDetails[paramDetails.length - 1] = \"$\".concat(params.minPrice, \"-$\").concat(params.maxPrice, \"/night\");\n                }\n                if (params.amenities && params.amenities.length > 0) {\n                    const amenityList = params.amenities.join(\", \");\n                    paramDetails.push(\"with \".concat(amenityList));\n                }\n                if (params.minRating) {\n                    paramDetails.push(\"\".concat(params.minRating, \"+ stars\"));\n                }\n                if (paramDetails.length > 0) {\n                    acknowledgment = \"Got it! Searching for hotels \".concat(paramDetails.join(\", \"), \"...\");\n                }\n                // Check if we'll use geocoding\n                const willUseGeocoding = !getCityCode(location);\n                // Add a note about geocoding if applicable\n                if (willUseGeocoding) {\n                    acknowledgment += \" I'll use geocoding to find the exact location of \\\"\".concat(location, '\"!');\n                }\n                await addMessageWithTyping({\n                    id: Date.now().toString(),\n                    role: \"assistant\",\n                    content: acknowledgment,\n                    timestamp: new Date()\n                });\n                const checkInDate = params.checkInDate || getFutureDate(7);\n                const checkOutDate = params.checkOutDate || getFutureDate(9);\n                console.log(\"[AI Chatbox] About to call searchHotels with:\", {\n                    location,\n                    checkInDate,\n                    checkOutDate,\n                    params\n                });\n                const hotels = await searchHotels(location, checkInDate, checkOutDate, params);\n                console.log(\"[AI Chatbox] searchHotels returned:\", hotels.length, \"results\");\n                // Update context\n                setConversationContext({\n                    lastSearchType: \"hotel\",\n                    lastLocation: location,\n                    lastParams: {\n                        ...params,\n                        checkInDate,\n                        checkOutDate\n                    }\n                });\n                setIsLoading(false);\n                if (hotels.length === 0) {\n                    // Determine if we used geocoding or city code\n                    const usedGeocoding = !getCityCode(location);\n                    let noResultsMessage = \"Hmm, I couldn't find any hotels in \\\"\".concat(location, '\"');\n                    if (usedGeocoding) {\n                        noResultsMessage += \". I tried geocoding this location, but couldn't find it or no hotels are available there\";\n                    } else if (paramDetails.length > 0) {\n                        noResultsMessage += \" matching all those requirements (\".concat(paramDetails.join(\", \"), \")\");\n                    }\n                    noResultsMessage += \". Let's try something else!\";\n                    await addMessageWithTyping({\n                        id: Date.now().toString(),\n                        role: \"assistant\",\n                        content: noResultsMessage,\n                        timestamp: new Date(),\n                        suggestions: [\n                            \"Try a different city\",\n                            \"Remove filters\",\n                            \"Show nearby cities\"\n                        ]\n                    });\n                    return;\n                }\n                await addMessageWithTyping({\n                    id: Date.now().toString(),\n                    role: \"assistant\",\n                    content: \"Perfect! I found \".concat(hotels.length, \" amazing hotel\").concat(hotels.length > 1 ? \"s\" : \"\", \" in \").concat(location).concat(paramDetails.length > 0 ? \" matching your preferences\" : \"\", \"! These are some of the best options - take a look!\"),\n                    timestamp: new Date(),\n                    hotelResults: hotels\n                });\n                return;\n            } else {\n                await addMessageWithTyping({\n                    id: Date.now().toString(),\n                    role: \"assistant\",\n                    content: \"Awesome! I'll help you find the perfect hotel! Which city are you interested in? Just tell me like 'I need a hotel in Paris'\",\n                    timestamp: new Date(),\n                    suggestions: [\n                        \"Paris\",\n                        \"Dubai\",\n                        \"New York\"\n                    ]\n                });\n                setIsLoading(false);\n                return;\n            }\n        }\n        // Handle contextual follow-up queries\n        if (conversationContext.lastSearchType && !lowerMessage.includes(\"from\") && !lowerMessage.includes(\"to\") && !lowerMessage.includes(\"in\")) {\n            // Check for refinement queries like \"cheaper\", \"with pool\", \"direct flights\"\n            const isRefinement = lowerMessage.match(/\\b(cheaper|more expensive|luxury|budget|with|direct|non-stop|show|find)\\b/i);\n            if (isRefinement) {\n                const newParams = extractParameters(userMessage);\n                const mergedParams = {\n                    ...conversationContext.lastParams,\n                    ...newParams\n                };\n                if (conversationContext.lastSearchType === \"flight\" && conversationContext.lastOrigin && conversationContext.lastDestination) {\n                    var _conversationContext_lastParams;\n                    await addMessageWithTyping({\n                        id: Date.now().toString(),\n                        role: \"assistant\",\n                        content: \"Absolutely! Let me refine that search for you...\",\n                        timestamp: new Date()\n                    });\n                    const departureDate = mergedParams.departureDate || ((_conversationContext_lastParams = conversationContext.lastParams) === null || _conversationContext_lastParams === void 0 ? void 0 : _conversationContext_lastParams.departureDate) || getFutureDate(7);\n                    const flights = await searchFlights(conversationContext.lastOrigin, conversationContext.lastDestination, departureDate, mergedParams);\n                    setConversationContext({\n                        ...conversationContext,\n                        lastParams: mergedParams\n                    });\n                    setIsLoading(false);\n                    if (flights.length === 0) {\n                        await addMessageWithTyping({\n                            id: Date.now().toString(),\n                            role: \"assistant\",\n                            content: \"I couldn't find flights with those specific filters. Want to try different criteria?\",\n                            timestamp: new Date()\n                        });\n                        return;\n                    }\n                    await addMessageWithTyping({\n                        id: Date.now().toString(),\n                        role: \"assistant\",\n                        content: \"Here we go! Found \".concat(flights.length, \" flight\").concat(flights.length > 1 ? \"s\" : \"\", \" with your updated preferences!\"),\n                        timestamp: new Date(),\n                        flightResults: flights\n                    });\n                    return;\n                }\n                if (conversationContext.lastSearchType === \"hotel\" && conversationContext.lastLocation) {\n                    var _conversationContext_lastParams1, _conversationContext_lastParams2;\n                    await addMessageWithTyping({\n                        id: Date.now().toString(),\n                        role: \"assistant\",\n                        content: \"Sure thing! Updating your hotel search...\",\n                        timestamp: new Date()\n                    });\n                    const checkInDate = mergedParams.checkInDate || ((_conversationContext_lastParams1 = conversationContext.lastParams) === null || _conversationContext_lastParams1 === void 0 ? void 0 : _conversationContext_lastParams1.checkInDate) || getFutureDate(7);\n                    const checkOutDate = mergedParams.checkOutDate || ((_conversationContext_lastParams2 = conversationContext.lastParams) === null || _conversationContext_lastParams2 === void 0 ? void 0 : _conversationContext_lastParams2.checkOutDate) || getFutureDate(9);\n                    const hotels = await searchHotels(conversationContext.lastLocation, checkInDate, checkOutDate, mergedParams);\n                    setConversationContext({\n                        ...conversationContext,\n                        lastParams: mergedParams\n                    });\n                    setIsLoading(false);\n                    if (hotels.length === 0) {\n                        await addMessageWithTyping({\n                            id: Date.now().toString(),\n                            role: \"assistant\",\n                            content: \"Hmm, no hotels match those specific requirements. Want to broaden the search?\",\n                            timestamp: new Date()\n                        });\n                        return;\n                    }\n                    await addMessageWithTyping({\n                        id: Date.now().toString(),\n                        role: \"assistant\",\n                        content: \"Perfect! Here are \".concat(hotels.length, \" hotel\").concat(hotels.length > 1 ? \"s\" : \"\", \" with your new filters!\"),\n                        timestamp: new Date(),\n                        hotelResults: hotels\n                    });\n                    return;\n                }\n            }\n        }\n        // Thanks/appreciation\n        if (lowerMessage.match(/(thanks|thank you|appreciate)/i)) {\n            await addMessageWithTyping({\n                id: Date.now().toString(),\n                role: \"assistant\",\n                content: \"You're very welcome! \\uD83D\\uDE0A It's my pleasure to help! Need anything else for your trip?\",\n                timestamp: new Date()\n            });\n            setIsLoading(false);\n            return;\n        }\n        // Very vague travel interest without destination\n        if (lowerMessage.match(/\\b(feel like|want to|thinking about|planning)\\s+(travel|travelling|traveling|trip|vacation|holiday)\\b/i)) {\n            await addMessageWithTyping({\n                id: Date.now().toString(),\n                role: \"assistant\",\n                content: \"That's exciting! ✈️ I'd love to help you plan your trip! Where are you thinking of going?\",\n                timestamp: new Date(),\n                suggestions: [\n                    \"Dubai\",\n                    \"Paris\",\n                    \"New York\",\n                    \"London\"\n                ]\n            });\n            setIsLoading(false);\n            return;\n        }\n        // General travel intent - mentions going somewhere but not specific enough\n        const generalTravelMatch = lowerMessage.match(/(?:want to|going to|trip to|visit|travel to|headed to)\\s+([a-z\\s]+)/i);\n        if (generalTravelMatch) {\n            const destination = generalTravelMatch[1].trim();\n            await addMessageWithTyping({\n                id: Date.now().toString(),\n                role: \"assistant\",\n                content: \"Awesome! \".concat(destination.charAt(0).toUpperCase() + destination.slice(1), \" sounds amazing! What do you need help with?\"),\n                timestamp: new Date(),\n                suggestions: [\n                    \"Flight to \".concat(destination.charAt(0).toUpperCase() + destination.slice(1)),\n                    \"Hotels in \".concat(destination.charAt(0).toUpperCase() + destination.slice(1)),\n                    \"Both flight and hotel\"\n                ]\n            });\n            setIsLoading(false);\n            return;\n        }\n        // Default response with personality\n        setIsLoading(false);\n        await addMessageWithTyping({\n            id: Date.now().toString(),\n            role: \"assistant\",\n            content: \"Hmm, I'm not quite sure what you're looking for. But don't worry, I'm here to help! \\n\\nI can help you with:\\n• Finding and booking flights (by price, cabin class, direct/connecting)\\n• Searching for amazing hotels (by budget, amenities, ratings)\\n\\nJust tell me what you need in your own words!\",\n            timestamp: new Date(),\n            suggestions: [\n                \"Flight from Lagos to London under $500\",\n                \"Luxury hotels in Paris with pool\",\n                \"Direct flights to Dubai\",\n                \"Budget hotel with WiFi and parking\"\n            ]\n        });\n    };\n    const handleSendMessage = async (messageText)=>{\n        const text = messageText || inputValue.trim();\n        if (!text || isLoading) return;\n        const userMessage = {\n            id: Date.now().toString(),\n            role: \"user\",\n            content: text,\n            timestamp: new Date()\n        };\n        setMessages((prev)=>[\n                ...prev,\n                userMessage\n            ]);\n        setInputValue(\"\");\n        // Update conversation history for Claude\n        setConversationHistory((prev)=>[\n                ...prev,\n                {\n                    role: \"user\",\n                    content: text\n                }\n            ]);\n        await parseUserIntent(text);\n    };\n    const handleSuggestionClick = (suggestion)=>{\n        handleSendMessage(suggestion.trim());\n    };\n    const handleViewDetails = async (type, item)=>{\n        setBookingFlow({\n            active: true,\n            type,\n            selectedItem: item,\n            step: \"confirm\"\n        });\n        await addMessageWithTyping({\n            id: Date.now().toString(),\n            role: \"assistant\",\n            content: \"\".concat(getRandomResponse(\"excitement\"), \" You picked a great one! Let me get that booking ready for you... \\uD83D\\uDCDD\"),\n            timestamp: new Date()\n        });\n    };\n    const handleViewMore = (type)=>{\n        const encouragement = \"Want to see all the options? Let me take you to the full search page! \\uD83D\\uDE80\";\n        addMessageWithTyping({\n            id: Date.now().toString(),\n            role: \"assistant\",\n            content: encouragement,\n            timestamp: new Date()\n        });\n        setTimeout(()=>{\n            setIsOpen(false);\n            if (type === \"flight\" && conversationContext.lastOrigin && conversationContext.lastDestination) {\n                var _conversationContext_lastParams, _conversationContext_lastParams1, _conversationContext_lastParams2, _conversationContext_lastParams3, _conversationContext_lastParams4;\n                // Build query params for flight search\n                const params = new URLSearchParams({\n                    origin: conversationContext.lastOrigin,\n                    destination: conversationContext.lastDestination,\n                    fromAI: \"true\",\n                    ...((_conversationContext_lastParams = conversationContext.lastParams) === null || _conversationContext_lastParams === void 0 ? void 0 : _conversationContext_lastParams.departureDate) && {\n                        departureDate: conversationContext.lastParams.departureDate\n                    },\n                    ...((_conversationContext_lastParams1 = conversationContext.lastParams) === null || _conversationContext_lastParams1 === void 0 ? void 0 : _conversationContext_lastParams1.returnDate) && {\n                        returnDate: conversationContext.lastParams.returnDate\n                    },\n                    ...((_conversationContext_lastParams2 = conversationContext.lastParams) === null || _conversationContext_lastParams2 === void 0 ? void 0 : _conversationContext_lastParams2.adults) && {\n                        adults: conversationContext.lastParams.adults.toString()\n                    },\n                    ...((_conversationContext_lastParams3 = conversationContext.lastParams) === null || _conversationContext_lastParams3 === void 0 ? void 0 : _conversationContext_lastParams3.maxPrice) && {\n                        maxPrice: conversationContext.lastParams.maxPrice.toString()\n                    },\n                    ...((_conversationContext_lastParams4 = conversationContext.lastParams) === null || _conversationContext_lastParams4 === void 0 ? void 0 : _conversationContext_lastParams4.directFlight) !== undefined && {\n                        directFlight: conversationContext.lastParams.directFlight.toString()\n                    }\n                });\n                router.push(\"/dashboard/flights/search?\".concat(params.toString()));\n            } else if (type === \"hotel\" && conversationContext.lastLocation) {\n                var _conversationContext_lastParams5, _conversationContext_lastParams6, _conversationContext_lastParams7, _conversationContext_lastParams8, _conversationContext_lastParams9;\n                // Build query params for hotel search\n                const params = new URLSearchParams({\n                    location: conversationContext.lastLocation,\n                    fromAI: \"true\",\n                    ...((_conversationContext_lastParams5 = conversationContext.lastParams) === null || _conversationContext_lastParams5 === void 0 ? void 0 : _conversationContext_lastParams5.checkInDate) && {\n                        checkInDate: conversationContext.lastParams.checkInDate\n                    },\n                    ...((_conversationContext_lastParams6 = conversationContext.lastParams) === null || _conversationContext_lastParams6 === void 0 ? void 0 : _conversationContext_lastParams6.checkOutDate) && {\n                        checkOutDate: conversationContext.lastParams.checkOutDate\n                    },\n                    ...((_conversationContext_lastParams7 = conversationContext.lastParams) === null || _conversationContext_lastParams7 === void 0 ? void 0 : _conversationContext_lastParams7.adults) && {\n                        adults: conversationContext.lastParams.adults.toString()\n                    },\n                    ...((_conversationContext_lastParams8 = conversationContext.lastParams) === null || _conversationContext_lastParams8 === void 0 ? void 0 : _conversationContext_lastParams8.maxPrice) && {\n                        maxPrice: conversationContext.lastParams.maxPrice.toString()\n                    },\n                    ...((_conversationContext_lastParams9 = conversationContext.lastParams) === null || _conversationContext_lastParams9 === void 0 ? void 0 : _conversationContext_lastParams9.minRating) && {\n                        minRating: conversationContext.lastParams.minRating.toString()\n                    }\n                });\n                router.push(\"/dashboard/hotels/search?\".concat(params.toString()));\n            } else {\n                // Fallback to basic search page if context is missing\n                if (type === \"flight\") {\n                    router.push(\"/dashboard/flights/search\");\n                } else {\n                    router.push(\"/dashboard/hotels/search\");\n                }\n            }\n        }, 500);\n    };\n    const handleConfirmBooking = async ()=>{\n        if (!bookingFlow) return;\n        await addMessageWithTyping({\n            id: Date.now().toString(),\n            role: \"assistant\",\n            content: getRandomResponse(\"bookingSuccess\"),\n            timestamp: new Date(),\n            bookingConfirmation: {\n                type: bookingFlow.type,\n                details: bookingFlow.selectedItem,\n                total: bookingFlow.selectedItem.price\n            }\n        });\n        setBookingFlow(null);\n        // Add a follow-up message\n        setTimeout(async ()=>{\n            await addMessageWithTyping({\n                id: Date.now().toString(),\n                role: \"assistant\",\n                content: \"Is there anything else I can help you with? Maybe add a hotel to go with that flight? Or another destination?\",\n                timestamp: new Date(),\n                suggestions: [\n                    \"Find me a hotel too\",\n                    \"Book another trip\",\n                    \"No, I'm all set!\"\n                ]\n            });\n        }, 2000);\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n        children: [\n            !isOpen && !forceOpen && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                onClick: ()=>setIsOpen(true),\n                className: \"fixed bottom-6 right-6 z-40 group\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"absolute inset-0 bg-gradient-to-r from-blue-600 to-purple-600 rounded-full blur-xl opacity-50 group-hover:opacity-75 transition animate-pulse\"\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Users\\\\TolaAwoniyi\\\\Downloads\\\\bvodo\\\\frontend\\\\src\\\\components\\\\AIChatbox.tsx\",\n                        lineNumber: 1749,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"relative flex items-center gap-2 md:gap-3 px-4 md:px-6 py-3 md:py-4 bg-gradient-to-r from-blue-600 to-purple-600 rounded-full shadow-2xl hover:shadow-3xl transition-all hover:scale-105\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowRight_Calendar_Clock_CreditCard_DollarSign_Hotel_Loader2_MapPin_MessageCircle_PartyPopper_Plane_Send_Sparkles_Star_ThumbsUp_X_lucide_react__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n                                className: \"w-4 h-4 md:w-5 md:h-5 text-white animate-pulse\"\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Users\\\\TolaAwoniyi\\\\Downloads\\\\bvodo\\\\frontend\\\\src\\\\components\\\\AIChatbox.tsx\",\n                                lineNumber: 1751,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                className: \"text-white font-semibold text-sm md:text-base\",\n                                children: \"Chat with AI\"\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Users\\\\TolaAwoniyi\\\\Downloads\\\\bvodo\\\\frontend\\\\src\\\\components\\\\AIChatbox.tsx\",\n                                lineNumber: 1752,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowRight_Calendar_Clock_CreditCard_DollarSign_Hotel_Loader2_MapPin_MessageCircle_PartyPopper_Plane_Send_Sparkles_Star_ThumbsUp_X_lucide_react__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\n                                className: \"w-4 h-4 md:w-5 md:h-5 text-white\"\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Users\\\\TolaAwoniyi\\\\Downloads\\\\bvodo\\\\frontend\\\\src\\\\components\\\\AIChatbox.tsx\",\n                                lineNumber: 1753,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"C:\\\\Users\\\\TolaAwoniyi\\\\Downloads\\\\bvodo\\\\frontend\\\\src\\\\components\\\\AIChatbox.tsx\",\n                        lineNumber: 1750,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"C:\\\\Users\\\\TolaAwoniyi\\\\Downloads\\\\bvodo\\\\frontend\\\\src\\\\components\\\\AIChatbox.tsx\",\n                lineNumber: 1745,\n                columnNumber: 9\n            }, this),\n            isOpen && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: forceOpen ? \"w-full h-full flex flex-col bg-white overflow-hidden\" : \"fixed inset-0 md:inset-auto md:bottom-6 md:right-6 z-50 md:w-[480px] md:h-[700px] flex flex-col bg-white md:rounded-3xl shadow-2xl border-0 md:border md:border-gray-200 overflow-hidden\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"relative bg-gradient-to-r from-blue-600 to-purple-600 p-4 md:p-6\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"absolute inset-0 bg-gradient-to-r from-blue-600 to-purple-600 opacity-90\"\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Users\\\\TolaAwoniyi\\\\Downloads\\\\bvodo\\\\frontend\\\\src\\\\components\\\\AIChatbox.tsx\",\n                                lineNumber: 1766,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"relative flex items-center justify-between\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"flex items-center gap-2 md:gap-3\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"p-1.5 md:p-2 bg-white/20 backdrop-blur-xl rounded-lg md:rounded-xl\",\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowRight_Calendar_Clock_CreditCard_DollarSign_Hotel_Loader2_MapPin_MessageCircle_PartyPopper_Plane_Send_Sparkles_Star_ThumbsUp_X_lucide_react__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n                                                    className: \"w-4 h-4 md:w-5 md:h-5 text-white animate-pulse\"\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\Users\\\\TolaAwoniyi\\\\Downloads\\\\bvodo\\\\frontend\\\\src\\\\components\\\\AIChatbox.tsx\",\n                                                    lineNumber: 1770,\n                                                    columnNumber: 19\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\TolaAwoniyi\\\\Downloads\\\\bvodo\\\\frontend\\\\src\\\\components\\\\AIChatbox.tsx\",\n                                                lineNumber: 1769,\n                                                columnNumber: 17\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                                        className: \"text-base md:text-lg font-bold text-white\",\n                                                        children: \"Your Travel Buddy\"\n                                                    }, void 0, false, {\n                                                        fileName: \"C:\\\\Users\\\\TolaAwoniyi\\\\Downloads\\\\bvodo\\\\frontend\\\\src\\\\components\\\\AIChatbox.tsx\",\n                                                        lineNumber: 1773,\n                                                        columnNumber: 19\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"flex items-center gap-1.5 md:gap-2\",\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                className: \"w-1.5 h-1.5 md:w-2 md:h-2 bg-green-400 rounded-full animate-pulse\"\n                                                            }, void 0, false, {\n                                                                fileName: \"C:\\\\Users\\\\TolaAwoniyi\\\\Downloads\\\\bvodo\\\\frontend\\\\src\\\\components\\\\AIChatbox.tsx\",\n                                                                lineNumber: 1775,\n                                                                columnNumber: 21\n                                                            }, this),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                                className: \"text-[10px] md:text-xs text-blue-100\",\n                                                                children: \"Online & ready to help!\"\n                                                            }, void 0, false, {\n                                                                fileName: \"C:\\\\Users\\\\TolaAwoniyi\\\\Downloads\\\\bvodo\\\\frontend\\\\src\\\\components\\\\AIChatbox.tsx\",\n                                                                lineNumber: 1776,\n                                                                columnNumber: 21\n                                                            }, this)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"C:\\\\Users\\\\TolaAwoniyi\\\\Downloads\\\\bvodo\\\\frontend\\\\src\\\\components\\\\AIChatbox.tsx\",\n                                                        lineNumber: 1774,\n                                                        columnNumber: 19\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"C:\\\\Users\\\\TolaAwoniyi\\\\Downloads\\\\bvodo\\\\frontend\\\\src\\\\components\\\\AIChatbox.tsx\",\n                                                lineNumber: 1772,\n                                                columnNumber: 17\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"C:\\\\Users\\\\TolaAwoniyi\\\\Downloads\\\\bvodo\\\\frontend\\\\src\\\\components\\\\AIChatbox.tsx\",\n                                        lineNumber: 1768,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        onClick: ()=>setIsOpen(false),\n                                        className: \"p-2 hover:bg-white/20 rounded-lg md:rounded-xl transition flex-shrink-0\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowRight_Calendar_Clock_CreditCard_DollarSign_Hotel_Loader2_MapPin_MessageCircle_PartyPopper_Plane_Send_Sparkles_Star_ThumbsUp_X_lucide_react__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {\n                                            className: \"w-5 h-5 md:w-6 md:h-6 text-white\"\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\TolaAwoniyi\\\\Downloads\\\\bvodo\\\\frontend\\\\src\\\\components\\\\AIChatbox.tsx\",\n                                            lineNumber: 1784,\n                                            columnNumber: 17\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Users\\\\TolaAwoniyi\\\\Downloads\\\\bvodo\\\\frontend\\\\src\\\\components\\\\AIChatbox.tsx\",\n                                        lineNumber: 1780,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"C:\\\\Users\\\\TolaAwoniyi\\\\Downloads\\\\bvodo\\\\frontend\\\\src\\\\components\\\\AIChatbox.tsx\",\n                                lineNumber: 1767,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"C:\\\\Users\\\\TolaAwoniyi\\\\Downloads\\\\bvodo\\\\frontend\\\\src\\\\components\\\\AIChatbox.tsx\",\n                        lineNumber: 1765,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex-1 overflow-y-auto p-3 md:p-6 space-y-3 md:space-y-4 bg-gradient-to-br from-gray-50 to-blue-50/20\",\n                        children: [\n                            messages.map((message)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"flex \".concat(message.role === \"user\" ? \"justify-end\" : \"justify-start\"),\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"max-w-[90%] md:max-w-[85%] \".concat(message.role === \"user\" ? \"bg-gradient-to-r from-blue-600 to-purple-600 text-white\" : \"bg-white border border-gray-200\", \" rounded-xl md:rounded-2xl p-3 md:p-4 shadow-md\"),\n                                        children: [\n                                            message.role === \"assistant\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"flex items-center gap-2 mb-2\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"p-1.5 bg-gradient-to-r from-blue-600 to-purple-600 rounded-lg\",\n                                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowRight_Calendar_Clock_CreditCard_DollarSign_Hotel_Loader2_MapPin_MessageCircle_PartyPopper_Plane_Send_Sparkles_Star_ThumbsUp_X_lucide_react__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n                                                            className: \"w-3 h-3 text-white\"\n                                                        }, void 0, false, {\n                                                            fileName: \"C:\\\\Users\\\\TolaAwoniyi\\\\Downloads\\\\bvodo\\\\frontend\\\\src\\\\components\\\\AIChatbox.tsx\",\n                                                            lineNumber: 1806,\n                                                            columnNumber: 25\n                                                        }, this)\n                                                    }, void 0, false, {\n                                                        fileName: \"C:\\\\Users\\\\TolaAwoniyi\\\\Downloads\\\\bvodo\\\\frontend\\\\src\\\\components\\\\AIChatbox.tsx\",\n                                                        lineNumber: 1805,\n                                                        columnNumber: 23\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                        className: \"text-xs font-semibold text-gray-700\",\n                                                        children: \"AI Assistant\"\n                                                    }, void 0, false, {\n                                                        fileName: \"C:\\\\Users\\\\TolaAwoniyi\\\\Downloads\\\\bvodo\\\\frontend\\\\src\\\\components\\\\AIChatbox.tsx\",\n                                                        lineNumber: 1808,\n                                                        columnNumber: 23\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"C:\\\\Users\\\\TolaAwoniyi\\\\Downloads\\\\bvodo\\\\frontend\\\\src\\\\components\\\\AIChatbox.tsx\",\n                                                lineNumber: 1804,\n                                                columnNumber: 21\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                className: \"text-sm leading-relaxed whitespace-pre-line \".concat(message.role === \"user\" ? \"text-white\" : \"text-gray-800\"),\n                                                children: message.content\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\TolaAwoniyi\\\\Downloads\\\\bvodo\\\\frontend\\\\src\\\\components\\\\AIChatbox.tsx\",\n                                                lineNumber: 1811,\n                                                columnNumber: 19\n                                            }, this),\n                                            message.flightResults && message.flightResults.length > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"mt-4 space-y-3\",\n                                                children: [\n                                                    message.flightResults.slice(0, 2).map((flight)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"bg-gradient-to-br from-blue-50 to-purple-50 border-2 border-blue-200 rounded-xl p-4 hover:border-blue-400 transition-all hover:shadow-lg\",\n                                                            children: [\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                    className: \"flex items-start justify-between mb-3\",\n                                                                    children: [\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                            className: \"flex items-center gap-3\",\n                                                                            children: [\n                                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                    className: \"p-2 bg-blue-600 rounded-lg\",\n                                                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowRight_Calendar_Clock_CreditCard_DollarSign_Hotel_Loader2_MapPin_MessageCircle_PartyPopper_Plane_Send_Sparkles_Star_ThumbsUp_X_lucide_react__WEBPACK_IMPORTED_MODULE_8__[\"default\"], {\n                                                                                        className: \"w-5 h-5 text-white\"\n                                                                                    }, void 0, false, {\n                                                                                        fileName: \"C:\\\\Users\\\\TolaAwoniyi\\\\Downloads\\\\bvodo\\\\frontend\\\\src\\\\components\\\\AIChatbox.tsx\",\n                                                                                        lineNumber: 1830,\n                                                                                        columnNumber: 33\n                                                                                    }, this)\n                                                                                }, void 0, false, {\n                                                                                    fileName: \"C:\\\\Users\\\\TolaAwoniyi\\\\Downloads\\\\bvodo\\\\frontend\\\\src\\\\components\\\\AIChatbox.tsx\",\n                                                                                    lineNumber: 1829,\n                                                                                    columnNumber: 31\n                                                                                }, this),\n                                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                    children: [\n                                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                            className: \"font-bold text-gray-900 text-sm\",\n                                                                                            children: flight.airline\n                                                                                        }, void 0, false, {\n                                                                                            fileName: \"C:\\\\Users\\\\TolaAwoniyi\\\\Downloads\\\\bvodo\\\\frontend\\\\src\\\\components\\\\AIChatbox.tsx\",\n                                                                                            lineNumber: 1833,\n                                                                                            columnNumber: 33\n                                                                                        }, this),\n                                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                            className: \"text-xs text-gray-600\",\n                                                                                            children: flight.route\n                                                                                        }, void 0, false, {\n                                                                                            fileName: \"C:\\\\Users\\\\TolaAwoniyi\\\\Downloads\\\\bvodo\\\\frontend\\\\src\\\\components\\\\AIChatbox.tsx\",\n                                                                                            lineNumber: 1834,\n                                                                                            columnNumber: 33\n                                                                                        }, this)\n                                                                                    ]\n                                                                                }, void 0, true, {\n                                                                                    fileName: \"C:\\\\Users\\\\TolaAwoniyi\\\\Downloads\\\\bvodo\\\\frontend\\\\src\\\\components\\\\AIChatbox.tsx\",\n                                                                                    lineNumber: 1832,\n                                                                                    columnNumber: 31\n                                                                                }, this)\n                                                                            ]\n                                                                        }, void 0, true, {\n                                                                            fileName: \"C:\\\\Users\\\\TolaAwoniyi\\\\Downloads\\\\bvodo\\\\frontend\\\\src\\\\components\\\\AIChatbox.tsx\",\n                                                                            lineNumber: 1828,\n                                                                            columnNumber: 29\n                                                                        }, this),\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                            className: \"text-right\",\n                                                                            children: [\n                                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                    className: \"text-xl font-bold text-blue-600\",\n                                                                                    children: [\n                                                                                        \"$\",\n                                                                                        flight.price\n                                                                                    ]\n                                                                                }, void 0, true, {\n                                                                                    fileName: \"C:\\\\Users\\\\TolaAwoniyi\\\\Downloads\\\\bvodo\\\\frontend\\\\src\\\\components\\\\AIChatbox.tsx\",\n                                                                                    lineNumber: 1838,\n                                                                                    columnNumber: 31\n                                                                                }, this),\n                                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                    className: \"text-xs text-gray-600\",\n                                                                                    children: \"per person\"\n                                                                                }, void 0, false, {\n                                                                                    fileName: \"C:\\\\Users\\\\TolaAwoniyi\\\\Downloads\\\\bvodo\\\\frontend\\\\src\\\\components\\\\AIChatbox.tsx\",\n                                                                                    lineNumber: 1839,\n                                                                                    columnNumber: 31\n                                                                                }, this)\n                                                                            ]\n                                                                        }, void 0, true, {\n                                                                            fileName: \"C:\\\\Users\\\\TolaAwoniyi\\\\Downloads\\\\bvodo\\\\frontend\\\\src\\\\components\\\\AIChatbox.tsx\",\n                                                                            lineNumber: 1837,\n                                                                            columnNumber: 29\n                                                                        }, this)\n                                                                    ]\n                                                                }, void 0, true, {\n                                                                    fileName: \"C:\\\\Users\\\\TolaAwoniyi\\\\Downloads\\\\bvodo\\\\frontend\\\\src\\\\components\\\\AIChatbox.tsx\",\n                                                                    lineNumber: 1827,\n                                                                    columnNumber: 27\n                                                                }, this),\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                    className: \"flex items-center justify-between text-xs text-gray-700 mb-3\",\n                                                                    children: [\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                            className: \"flex items-center gap-1\",\n                                                                            children: [\n                                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowRight_Calendar_Clock_CreditCard_DollarSign_Hotel_Loader2_MapPin_MessageCircle_PartyPopper_Plane_Send_Sparkles_Star_ThumbsUp_X_lucide_react__WEBPACK_IMPORTED_MODULE_9__[\"default\"], {\n                                                                                    className: \"w-3 h-3\"\n                                                                                }, void 0, false, {\n                                                                                    fileName: \"C:\\\\Users\\\\TolaAwoniyi\\\\Downloads\\\\bvodo\\\\frontend\\\\src\\\\components\\\\AIChatbox.tsx\",\n                                                                                    lineNumber: 1844,\n                                                                                    columnNumber: 31\n                                                                                }, this),\n                                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                                    children: flight.duration\n                                                                                }, void 0, false, {\n                                                                                    fileName: \"C:\\\\Users\\\\TolaAwoniyi\\\\Downloads\\\\bvodo\\\\frontend\\\\src\\\\components\\\\AIChatbox.tsx\",\n                                                                                    lineNumber: 1845,\n                                                                                    columnNumber: 31\n                                                                                }, this)\n                                                                            ]\n                                                                        }, void 0, true, {\n                                                                            fileName: \"C:\\\\Users\\\\TolaAwoniyi\\\\Downloads\\\\bvodo\\\\frontend\\\\src\\\\components\\\\AIChatbox.tsx\",\n                                                                            lineNumber: 1843,\n                                                                            columnNumber: 29\n                                                                        }, this),\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                            className: \"px-2 py-1 bg-green-100 text-green-700 rounded-full font-medium\",\n                                                                            children: flight.stops === 0 ? \"Direct ✨\" : \"\".concat(flight.stops, \" stop\").concat(flight.stops > 1 ? \"s\" : \"\")\n                                                                        }, void 0, false, {\n                                                                            fileName: \"C:\\\\Users\\\\TolaAwoniyi\\\\Downloads\\\\bvodo\\\\frontend\\\\src\\\\components\\\\AIChatbox.tsx\",\n                                                                            lineNumber: 1847,\n                                                                            columnNumber: 29\n                                                                        }, this)\n                                                                    ]\n                                                                }, void 0, true, {\n                                                                    fileName: \"C:\\\\Users\\\\TolaAwoniyi\\\\Downloads\\\\bvodo\\\\frontend\\\\src\\\\components\\\\AIChatbox.tsx\",\n                                                                    lineNumber: 1842,\n                                                                    columnNumber: 27\n                                                                }, this),\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                                    onClick: ()=>handleViewDetails(\"flight\", flight),\n                                                                    className: \"w-full px-4 py-2 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-lg font-medium hover:shadow-lg transition-all text-sm flex items-center justify-center gap-2\",\n                                                                    children: [\n                                                                        \"Yes! Book This One\",\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowRight_Calendar_Clock_CreditCard_DollarSign_Hotel_Loader2_MapPin_MessageCircle_PartyPopper_Plane_Send_Sparkles_Star_ThumbsUp_X_lucide_react__WEBPACK_IMPORTED_MODULE_10__[\"default\"], {\n                                                                            className: \"w-4 h-4\"\n                                                                        }, void 0, false, {\n                                                                            fileName: \"C:\\\\Users\\\\TolaAwoniyi\\\\Downloads\\\\bvodo\\\\frontend\\\\src\\\\components\\\\AIChatbox.tsx\",\n                                                                            lineNumber: 1856,\n                                                                            columnNumber: 29\n                                                                        }, this)\n                                                                    ]\n                                                                }, void 0, true, {\n                                                                    fileName: \"C:\\\\Users\\\\TolaAwoniyi\\\\Downloads\\\\bvodo\\\\frontend\\\\src\\\\components\\\\AIChatbox.tsx\",\n                                                                    lineNumber: 1851,\n                                                                    columnNumber: 27\n                                                                }, this)\n                                                            ]\n                                                        }, flight.id, true, {\n                                                            fileName: \"C:\\\\Users\\\\TolaAwoniyi\\\\Downloads\\\\bvodo\\\\frontend\\\\src\\\\components\\\\AIChatbox.tsx\",\n                                                            lineNumber: 1823,\n                                                            columnNumber: 25\n                                                        }, this)),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                        onClick: ()=>handleViewMore(\"flight\"),\n                                                        className: \"w-full px-4 py-2 bg-white border-2 border-blue-600 text-blue-600 rounded-lg font-medium hover:bg-blue-50 transition-all text-sm\",\n                                                        children: [\n                                                            \"Show Me All \",\n                                                            message.flightResults.length,\n                                                            \" Options →\"\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"C:\\\\Users\\\\TolaAwoniyi\\\\Downloads\\\\bvodo\\\\frontend\\\\src\\\\components\\\\AIChatbox.tsx\",\n                                                        lineNumber: 1860,\n                                                        columnNumber: 23\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"C:\\\\Users\\\\TolaAwoniyi\\\\Downloads\\\\bvodo\\\\frontend\\\\src\\\\components\\\\AIChatbox.tsx\",\n                                                lineNumber: 1821,\n                                                columnNumber: 21\n                                            }, this),\n                                            message.hotelResults && message.hotelResults.length > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"mt-4 space-y-3\",\n                                                children: [\n                                                    message.hotelResults.slice(0, 2).map((hotel)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"bg-gradient-to-br from-purple-50 to-pink-50 border-2 border-purple-200 rounded-xl overflow-hidden hover:border-purple-400 transition-all hover:shadow-lg\",\n                                                            children: [\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                    className: \"h-32 bg-cover bg-center\",\n                                                                    style: {\n                                                                        backgroundImage: \"url(\".concat(hotel.image, \")\")\n                                                                    }\n                                                                }, void 0, false, {\n                                                                    fileName: \"C:\\\\Users\\\\TolaAwoniyi\\\\Downloads\\\\bvodo\\\\frontend\\\\src\\\\components\\\\AIChatbox.tsx\",\n                                                                    lineNumber: 1877,\n                                                                    columnNumber: 27\n                                                                }, this),\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                    className: \"p-4\",\n                                                                    children: [\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                            className: \"flex items-start justify-between mb-2\",\n                                                                            children: [\n                                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                    className: \"flex-1\",\n                                                                                    children: [\n                                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                            className: \"font-bold text-gray-900 text-sm mb-1\",\n                                                                                            children: hotel.name\n                                                                                        }, void 0, false, {\n                                                                                            fileName: \"C:\\\\Users\\\\TolaAwoniyi\\\\Downloads\\\\bvodo\\\\frontend\\\\src\\\\components\\\\AIChatbox.tsx\",\n                                                                                            lineNumber: 1884,\n                                                                                            columnNumber: 33\n                                                                                        }, this),\n                                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                            className: \"flex items-center gap-1 text-xs text-gray-600 mb-2\",\n                                                                                            children: [\n                                                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowRight_Calendar_Clock_CreditCard_DollarSign_Hotel_Loader2_MapPin_MessageCircle_PartyPopper_Plane_Send_Sparkles_Star_ThumbsUp_X_lucide_react__WEBPACK_IMPORTED_MODULE_11__[\"default\"], {\n                                                                                                    className: \"w-3 h-3\"\n                                                                                                }, void 0, false, {\n                                                                                                    fileName: \"C:\\\\Users\\\\TolaAwoniyi\\\\Downloads\\\\bvodo\\\\frontend\\\\src\\\\components\\\\AIChatbox.tsx\",\n                                                                                                    lineNumber: 1886,\n                                                                                                    columnNumber: 35\n                                                                                                }, this),\n                                                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                                                    children: hotel.location\n                                                                                                }, void 0, false, {\n                                                                                                    fileName: \"C:\\\\Users\\\\TolaAwoniyi\\\\Downloads\\\\bvodo\\\\frontend\\\\src\\\\components\\\\AIChatbox.tsx\",\n                                                                                                    lineNumber: 1887,\n                                                                                                    columnNumber: 35\n                                                                                                }, this)\n                                                                                            ]\n                                                                                        }, void 0, true, {\n                                                                                            fileName: \"C:\\\\Users\\\\TolaAwoniyi\\\\Downloads\\\\bvodo\\\\frontend\\\\src\\\\components\\\\AIChatbox.tsx\",\n                                                                                            lineNumber: 1885,\n                                                                                            columnNumber: 33\n                                                                                        }, this),\n                                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                            className: \"flex items-center gap-1\",\n                                                                                            children: [\n                                                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowRight_Calendar_Clock_CreditCard_DollarSign_Hotel_Loader2_MapPin_MessageCircle_PartyPopper_Plane_Send_Sparkles_Star_ThumbsUp_X_lucide_react__WEBPACK_IMPORTED_MODULE_12__[\"default\"], {\n                                                                                                    className: \"w-3 h-3 text-yellow-500 fill-yellow-500\"\n                                                                                                }, void 0, false, {\n                                                                                                    fileName: \"C:\\\\Users\\\\TolaAwoniyi\\\\Downloads\\\\bvodo\\\\frontend\\\\src\\\\components\\\\AIChatbox.tsx\",\n                                                                                                    lineNumber: 1890,\n                                                                                                    columnNumber: 35\n                                                                                                }, this),\n                                                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                                                    className: \"text-xs font-semibold text-gray-700\",\n                                                                                                    children: [\n                                                                                                        hotel.rating,\n                                                                                                        \" ⭐\"\n                                                                                                    ]\n                                                                                                }, void 0, true, {\n                                                                                                    fileName: \"C:\\\\Users\\\\TolaAwoniyi\\\\Downloads\\\\bvodo\\\\frontend\\\\src\\\\components\\\\AIChatbox.tsx\",\n                                                                                                    lineNumber: 1891,\n                                                                                                    columnNumber: 35\n                                                                                                }, this)\n                                                                                            ]\n                                                                                        }, void 0, true, {\n                                                                                            fileName: \"C:\\\\Users\\\\TolaAwoniyi\\\\Downloads\\\\bvodo\\\\frontend\\\\src\\\\components\\\\AIChatbox.tsx\",\n                                                                                            lineNumber: 1889,\n                                                                                            columnNumber: 33\n                                                                                        }, this)\n                                                                                    ]\n                                                                                }, void 0, true, {\n                                                                                    fileName: \"C:\\\\Users\\\\TolaAwoniyi\\\\Downloads\\\\bvodo\\\\frontend\\\\src\\\\components\\\\AIChatbox.tsx\",\n                                                                                    lineNumber: 1883,\n                                                                                    columnNumber: 31\n                                                                                }, this),\n                                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                    className: \"text-right\",\n                                                                                    children: [\n                                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                            className: \"text-xl font-bold text-purple-600\",\n                                                                                            children: [\n                                                                                                \"$\",\n                                                                                                hotel.price\n                                                                                            ]\n                                                                                        }, void 0, true, {\n                                                                                            fileName: \"C:\\\\Users\\\\TolaAwoniyi\\\\Downloads\\\\bvodo\\\\frontend\\\\src\\\\components\\\\AIChatbox.tsx\",\n                                                                                            lineNumber: 1895,\n                                                                                            columnNumber: 33\n                                                                                        }, this),\n                                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                            className: \"text-xs text-gray-600\",\n                                                                                            children: \"per night\"\n                                                                                        }, void 0, false, {\n                                                                                            fileName: \"C:\\\\Users\\\\TolaAwoniyi\\\\Downloads\\\\bvodo\\\\frontend\\\\src\\\\components\\\\AIChatbox.tsx\",\n                                                                                            lineNumber: 1896,\n                                                                                            columnNumber: 33\n                                                                                        }, this)\n                                                                                    ]\n                                                                                }, void 0, true, {\n                                                                                    fileName: \"C:\\\\Users\\\\TolaAwoniyi\\\\Downloads\\\\bvodo\\\\frontend\\\\src\\\\components\\\\AIChatbox.tsx\",\n                                                                                    lineNumber: 1894,\n                                                                                    columnNumber: 31\n                                                                                }, this)\n                                                                            ]\n                                                                        }, void 0, true, {\n                                                                            fileName: \"C:\\\\Users\\\\TolaAwoniyi\\\\Downloads\\\\bvodo\\\\frontend\\\\src\\\\components\\\\AIChatbox.tsx\",\n                                                                            lineNumber: 1882,\n                                                                            columnNumber: 29\n                                                                        }, this),\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                                            onClick: ()=>handleViewDetails(\"hotel\", hotel),\n                                                                            className: \"w-full px-4 py-2 bg-gradient-to-r from-purple-600 to-pink-600 text-white rounded-lg font-medium hover:shadow-lg transition-all text-sm flex items-center justify-center gap-2\",\n                                                                            children: [\n                                                                                \"Perfect! Book This\",\n                                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowRight_Calendar_Clock_CreditCard_DollarSign_Hotel_Loader2_MapPin_MessageCircle_PartyPopper_Plane_Send_Sparkles_Star_ThumbsUp_X_lucide_react__WEBPACK_IMPORTED_MODULE_10__[\"default\"], {\n                                                                                    className: \"w-4 h-4\"\n                                                                                }, void 0, false, {\n                                                                                    fileName: \"C:\\\\Users\\\\TolaAwoniyi\\\\Downloads\\\\bvodo\\\\frontend\\\\src\\\\components\\\\AIChatbox.tsx\",\n                                                                                    lineNumber: 1904,\n                                                                                    columnNumber: 31\n                                                                                }, this)\n                                                                            ]\n                                                                        }, void 0, true, {\n                                                                            fileName: \"C:\\\\Users\\\\TolaAwoniyi\\\\Downloads\\\\bvodo\\\\frontend\\\\src\\\\components\\\\AIChatbox.tsx\",\n                                                                            lineNumber: 1899,\n                                                                            columnNumber: 29\n                                                                        }, this)\n                                                                    ]\n                                                                }, void 0, true, {\n                                                                    fileName: \"C:\\\\Users\\\\TolaAwoniyi\\\\Downloads\\\\bvodo\\\\frontend\\\\src\\\\components\\\\AIChatbox.tsx\",\n                                                                    lineNumber: 1881,\n                                                                    columnNumber: 27\n                                                                }, this)\n                                                            ]\n                                                        }, hotel.id, true, {\n                                                            fileName: \"C:\\\\Users\\\\TolaAwoniyi\\\\Downloads\\\\bvodo\\\\frontend\\\\src\\\\components\\\\AIChatbox.tsx\",\n                                                            lineNumber: 1873,\n                                                            columnNumber: 25\n                                                        }, this)),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                        onClick: ()=>handleViewMore(\"hotel\"),\n                                                        className: \"w-full px-4 py-2 bg-white border-2 border-purple-600 text-purple-600 rounded-lg font-medium hover:bg-purple-50 transition-all text-sm\",\n                                                        children: [\n                                                            \"Explore All \",\n                                                            message.hotelResults.length,\n                                                            \" Hotels →\"\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"C:\\\\Users\\\\TolaAwoniyi\\\\Downloads\\\\bvodo\\\\frontend\\\\src\\\\components\\\\AIChatbox.tsx\",\n                                                        lineNumber: 1909,\n                                                        columnNumber: 23\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"C:\\\\Users\\\\TolaAwoniyi\\\\Downloads\\\\bvodo\\\\frontend\\\\src\\\\components\\\\AIChatbox.tsx\",\n                                                lineNumber: 1871,\n                                                columnNumber: 21\n                                            }, this),\n                                            message.bookingConfirmation && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"mt-4 p-4 bg-gradient-to-br from-green-50 to-emerald-50 border-2 border-green-300 rounded-xl\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"flex items-center gap-2 mb-3\",\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowRight_Calendar_Clock_CreditCard_DollarSign_Hotel_Loader2_MapPin_MessageCircle_PartyPopper_Plane_Send_Sparkles_Star_ThumbsUp_X_lucide_react__WEBPACK_IMPORTED_MODULE_13__[\"default\"], {\n                                                                className: \"w-6 h-6 text-green-600\"\n                                                            }, void 0, false, {\n                                                                fileName: \"C:\\\\Users\\\\TolaAwoniyi\\\\Downloads\\\\bvodo\\\\frontend\\\\src\\\\components\\\\AIChatbox.tsx\",\n                                                                lineNumber: 1922,\n                                                                columnNumber: 25\n                                                            }, this),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                className: \"font-bold text-green-900\",\n                                                                children: \"Booking Confirmed!\"\n                                                            }, void 0, false, {\n                                                                fileName: \"C:\\\\Users\\\\TolaAwoniyi\\\\Downloads\\\\bvodo\\\\frontend\\\\src\\\\components\\\\AIChatbox.tsx\",\n                                                                lineNumber: 1923,\n                                                                columnNumber: 25\n                                                            }, this)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"C:\\\\Users\\\\TolaAwoniyi\\\\Downloads\\\\bvodo\\\\frontend\\\\src\\\\components\\\\AIChatbox.tsx\",\n                                                        lineNumber: 1921,\n                                                        columnNumber: 23\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"text-sm text-gray-700 space-y-2\",\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                className: \"flex justify-between\",\n                                                                children: [\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                        className: \"text-gray-600\",\n                                                                        children: \"Total Amount:\"\n                                                                    }, void 0, false, {\n                                                                        fileName: \"C:\\\\Users\\\\TolaAwoniyi\\\\Downloads\\\\bvodo\\\\frontend\\\\src\\\\components\\\\AIChatbox.tsx\",\n                                                                        lineNumber: 1927,\n                                                                        columnNumber: 27\n                                                                    }, this),\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                        className: \"font-bold text-green-600\",\n                                                                        children: [\n                                                                            \"$\",\n                                                                            message.bookingConfirmation.total\n                                                                        ]\n                                                                    }, void 0, true, {\n                                                                        fileName: \"C:\\\\Users\\\\TolaAwoniyi\\\\Downloads\\\\bvodo\\\\frontend\\\\src\\\\components\\\\AIChatbox.tsx\",\n                                                                        lineNumber: 1928,\n                                                                        columnNumber: 27\n                                                                    }, this)\n                                                                ]\n                                                            }, void 0, true, {\n                                                                fileName: \"C:\\\\Users\\\\TolaAwoniyi\\\\Downloads\\\\bvodo\\\\frontend\\\\src\\\\components\\\\AIChatbox.tsx\",\n                                                                lineNumber: 1926,\n                                                                columnNumber: 25\n                                                            }, this),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                className: \"pt-2 border-t border-green-200 text-xs text-gray-600\",\n                                                                children: \"Confirmation details sent to your email. Have an amazing trip!                        \"\n                                                            }, void 0, false, {\n                                                                fileName: \"C:\\\\Users\\\\TolaAwoniyi\\\\Downloads\\\\bvodo\\\\frontend\\\\src\\\\components\\\\AIChatbox.tsx\",\n                                                                lineNumber: 1930,\n                                                                columnNumber: 25\n                                                            }, this)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"C:\\\\Users\\\\TolaAwoniyi\\\\Downloads\\\\bvodo\\\\frontend\\\\src\\\\components\\\\AIChatbox.tsx\",\n                                                        lineNumber: 1925,\n                                                        columnNumber: 23\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"C:\\\\Users\\\\TolaAwoniyi\\\\Downloads\\\\bvodo\\\\frontend\\\\src\\\\components\\\\AIChatbox.tsx\",\n                                                lineNumber: 1920,\n                                                columnNumber: 21\n                                            }, this),\n                                            message.suggestions && message.suggestions.length > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"mt-3 space-y-2\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                        className: \"text-xs font-semibold text-gray-600\",\n                                                        children: \"Quick ideas for you:\"\n                                                    }, void 0, false, {\n                                                        fileName: \"C:\\\\Users\\\\TolaAwoniyi\\\\Downloads\\\\bvodo\\\\frontend\\\\src\\\\components\\\\AIChatbox.tsx\",\n                                                        lineNumber: 1939,\n                                                        columnNumber: 23\n                                                    }, this),\n                                                    message.suggestions.map((suggestion, idx)=>{\n                                                        // Determine icon based on suggestion content\n                                                        const suggestionLower = suggestion.toLowerCase();\n                                                        let Icon = _barrel_optimize_names_ArrowRight_Calendar_Clock_CreditCard_DollarSign_Hotel_Loader2_MapPin_MessageCircle_PartyPopper_Plane_Send_Sparkles_Star_ThumbsUp_X_lucide_react__WEBPACK_IMPORTED_MODULE_5__[\"default\"]; // default\n                                                        let iconColor = \"text-purple-600\";\n                                                        if (suggestionLower.includes(\"flight\") || suggestionLower.includes(\"fly\")) {\n                                                            Icon = _barrel_optimize_names_ArrowRight_Calendar_Clock_CreditCard_DollarSign_Hotel_Loader2_MapPin_MessageCircle_PartyPopper_Plane_Send_Sparkles_Star_ThumbsUp_X_lucide_react__WEBPACK_IMPORTED_MODULE_8__[\"default\"];\n                                                            iconColor = \"text-blue-600\";\n                                                        } else if (suggestionLower.includes(\"hotel\") || suggestionLower.includes(\"stay\")) {\n                                                            Icon = _barrel_optimize_names_ArrowRight_Calendar_Clock_CreditCard_DollarSign_Hotel_Loader2_MapPin_MessageCircle_PartyPopper_Plane_Send_Sparkles_Star_ThumbsUp_X_lucide_react__WEBPACK_IMPORTED_MODULE_14__[\"default\"];\n                                                            iconColor = \"text-cyan-600\";\n                                                        } else if (suggestionLower.includes(\"budget\") || suggestionLower.includes(\"price\") || suggestionLower.includes(\"$\")) {\n                                                            Icon = _barrel_optimize_names_ArrowRight_Calendar_Clock_CreditCard_DollarSign_Hotel_Loader2_MapPin_MessageCircle_PartyPopper_Plane_Send_Sparkles_Star_ThumbsUp_X_lucide_react__WEBPACK_IMPORTED_MODULE_15__[\"default\"];\n                                                            iconColor = \"text-green-600\";\n                                                        } else if (suggestionLower.includes(\"luxury\") || suggestionLower.includes(\"5-star\")) {\n                                                            Icon = _barrel_optimize_names_ArrowRight_Calendar_Clock_CreditCard_DollarSign_Hotel_Loader2_MapPin_MessageCircle_PartyPopper_Plane_Send_Sparkles_Star_ThumbsUp_X_lucide_react__WEBPACK_IMPORTED_MODULE_12__[\"default\"];\n                                                            iconColor = \"text-yellow-600\";\n                                                        } else if (suggestionLower.includes(\"downtown\") || suggestionLower.includes(\"near\") || suggestionLower.includes(\"location\")) {\n                                                            Icon = _barrel_optimize_names_ArrowRight_Calendar_Clock_CreditCard_DollarSign_Hotel_Loader2_MapPin_MessageCircle_PartyPopper_Plane_Send_Sparkles_Star_ThumbsUp_X_lucide_react__WEBPACK_IMPORTED_MODULE_11__[\"default\"];\n                                                            iconColor = \"text-red-600\";\n                                                        } else if (suggestionLower.includes(\"date\") || suggestionLower.includes(\"when\") || suggestionLower.includes(\"next\")) {\n                                                            Icon = _barrel_optimize_names_ArrowRight_Calendar_Clock_CreditCard_DollarSign_Hotel_Loader2_MapPin_MessageCircle_PartyPopper_Plane_Send_Sparkles_Star_ThumbsUp_X_lucide_react__WEBPACK_IMPORTED_MODULE_16__[\"default\"];\n                                                            iconColor = \"text-indigo-600\";\n                                                        }\n                                                        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                            onClick: ()=>handleSuggestionClick(suggestion),\n                                                            className: \"flex items-center gap-2 w-full text-left px-3 py-2 text-xs bg-gradient-to-r from-blue-50 to-purple-50 hover:from-blue-100 hover:to-purple-100 border border-blue-200 rounded-lg transition-all hover:shadow-md text-gray-700 hover:text-gray-900 font-medium group\",\n                                                            children: [\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(Icon, {\n                                                                    className: \"w-4 h-4 \".concat(iconColor, \" flex-shrink-0 group-hover:scale-110 transition-transform\")\n                                                                }, void 0, false, {\n                                                                    fileName: \"C:\\\\Users\\\\TolaAwoniyi\\\\Downloads\\\\bvodo\\\\frontend\\\\src\\\\components\\\\AIChatbox.tsx\",\n                                                                    lineNumber: 1972,\n                                                                    columnNumber: 29\n                                                                }, this),\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                    className: \"flex-1\",\n                                                                    children: suggestion\n                                                                }, void 0, false, {\n                                                                    fileName: \"C:\\\\Users\\\\TolaAwoniyi\\\\Downloads\\\\bvodo\\\\frontend\\\\src\\\\components\\\\AIChatbox.tsx\",\n                                                                    lineNumber: 1973,\n                                                                    columnNumber: 29\n                                                                }, this),\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowRight_Calendar_Clock_CreditCard_DollarSign_Hotel_Loader2_MapPin_MessageCircle_PartyPopper_Plane_Send_Sparkles_Star_ThumbsUp_X_lucide_react__WEBPACK_IMPORTED_MODULE_17__[\"default\"], {\n                                                                    className: \"w-3 h-3 text-gray-400 opacity-0 group-hover:opacity-100 transition-opacity\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"C:\\\\Users\\\\TolaAwoniyi\\\\Downloads\\\\bvodo\\\\frontend\\\\src\\\\components\\\\AIChatbox.tsx\",\n                                                                    lineNumber: 1974,\n                                                                    columnNumber: 29\n                                                                }, this)\n                                                            ]\n                                                        }, idx, true, {\n                                                            fileName: \"C:\\\\Users\\\\TolaAwoniyi\\\\Downloads\\\\bvodo\\\\frontend\\\\src\\\\components\\\\AIChatbox.tsx\",\n                                                            lineNumber: 1967,\n                                                            columnNumber: 27\n                                                        }, this);\n                                                    })\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"C:\\\\Users\\\\TolaAwoniyi\\\\Downloads\\\\bvodo\\\\frontend\\\\src\\\\components\\\\AIChatbox.tsx\",\n                                                lineNumber: 1938,\n                                                columnNumber: 21\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                className: \"text-xs mt-2 opacity-60\",\n                                                children: message.timestamp.toLocaleTimeString(\"en-US\", {\n                                                    hour: \"2-digit\",\n                                                    minute: \"2-digit\"\n                                                })\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\TolaAwoniyi\\\\Downloads\\\\bvodo\\\\frontend\\\\src\\\\components\\\\AIChatbox.tsx\",\n                                                lineNumber: 1981,\n                                                columnNumber: 19\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"C:\\\\Users\\\\TolaAwoniyi\\\\Downloads\\\\bvodo\\\\frontend\\\\src\\\\components\\\\AIChatbox.tsx\",\n                                        lineNumber: 1796,\n                                        columnNumber: 17\n                                    }, this)\n                                }, message.id, false, {\n                                    fileName: \"C:\\\\Users\\\\TolaAwoniyi\\\\Downloads\\\\bvodo\\\\frontend\\\\src\\\\components\\\\AIChatbox.tsx\",\n                                    lineNumber: 1792,\n                                    columnNumber: 15\n                                }, this)),\n                            bookingFlow && bookingFlow.step === \"confirm\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"bg-white border-2 border-blue-300 rounded-2xl p-4 shadow-lg\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"flex items-center gap-2 mb-3\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowRight_Calendar_Clock_CreditCard_DollarSign_Hotel_Loader2_MapPin_MessageCircle_PartyPopper_Plane_Send_Sparkles_Star_ThumbsUp_X_lucide_react__WEBPACK_IMPORTED_MODULE_18__[\"default\"], {\n                                                className: \"w-5 h-5 text-blue-600\"\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\TolaAwoniyi\\\\Downloads\\\\bvodo\\\\frontend\\\\src\\\\components\\\\AIChatbox.tsx\",\n                                                lineNumber: 1995,\n                                                columnNumber: 19\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                className: \"font-bold text-gray-900\",\n                                                children: \"Ready to Book?\"\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\TolaAwoniyi\\\\Downloads\\\\bvodo\\\\frontend\\\\src\\\\components\\\\AIChatbox.tsx\",\n                                                lineNumber: 1996,\n                                                columnNumber: 19\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"C:\\\\Users\\\\TolaAwoniyi\\\\Downloads\\\\bvodo\\\\frontend\\\\src\\\\components\\\\AIChatbox.tsx\",\n                                        lineNumber: 1994,\n                                        columnNumber: 17\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"space-y-3 mb-4\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"p-3 bg-gray-50 rounded-lg\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"text-sm font-semibold text-gray-900 mb-1\",\n                                                        children: bookingFlow.type === \"flight\" ? bookingFlow.selectedItem.airline : bookingFlow.selectedItem.name\n                                                    }, void 0, false, {\n                                                        fileName: \"C:\\\\Users\\\\TolaAwoniyi\\\\Downloads\\\\bvodo\\\\frontend\\\\src\\\\components\\\\AIChatbox.tsx\",\n                                                        lineNumber: 2000,\n                                                        columnNumber: 21\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"text-xs text-gray-600\",\n                                                        children: bookingFlow.type === \"flight\" ? bookingFlow.selectedItem.route : bookingFlow.selectedItem.location\n                                                    }, void 0, false, {\n                                                        fileName: \"C:\\\\Users\\\\TolaAwoniyi\\\\Downloads\\\\bvodo\\\\frontend\\\\src\\\\components\\\\AIChatbox.tsx\",\n                                                        lineNumber: 2005,\n                                                        columnNumber: 21\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"C:\\\\Users\\\\TolaAwoniyi\\\\Downloads\\\\bvodo\\\\frontend\\\\src\\\\components\\\\AIChatbox.tsx\",\n                                                lineNumber: 1999,\n                                                columnNumber: 19\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"flex justify-between items-center p-3 bg-blue-50 rounded-lg\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                        className: \"text-sm font-semibold text-gray-700\",\n                                                        children: \"Total:\"\n                                                    }, void 0, false, {\n                                                        fileName: \"C:\\\\Users\\\\TolaAwoniyi\\\\Downloads\\\\bvodo\\\\frontend\\\\src\\\\components\\\\AIChatbox.tsx\",\n                                                        lineNumber: 2012,\n                                                        columnNumber: 21\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                        className: \"text-xl font-bold text-blue-600\",\n                                                        children: [\n                                                            \"$\",\n                                                            bookingFlow.selectedItem.price\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"C:\\\\Users\\\\TolaAwoniyi\\\\Downloads\\\\bvodo\\\\frontend\\\\src\\\\components\\\\AIChatbox.tsx\",\n                                                        lineNumber: 2013,\n                                                        columnNumber: 21\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"C:\\\\Users\\\\TolaAwoniyi\\\\Downloads\\\\bvodo\\\\frontend\\\\src\\\\components\\\\AIChatbox.tsx\",\n                                                lineNumber: 2011,\n                                                columnNumber: 19\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"C:\\\\Users\\\\TolaAwoniyi\\\\Downloads\\\\bvodo\\\\frontend\\\\src\\\\components\\\\AIChatbox.tsx\",\n                                        lineNumber: 1998,\n                                        columnNumber: 17\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"flex gap-2\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                onClick: ()=>setBookingFlow(null),\n                                                className: \"flex-1 px-4 py-2 bg-gray-200 text-gray-700 rounded-lg font-medium hover:bg-gray-300 transition-all text-sm\",\n                                                children: \"Wait, Go Back\"\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\TolaAwoniyi\\\\Downloads\\\\bvodo\\\\frontend\\\\src\\\\components\\\\AIChatbox.tsx\",\n                                                lineNumber: 2017,\n                                                columnNumber: 19\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                onClick: handleConfirmBooking,\n                                                className: \"flex-1 px-4 py-2 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-lg font-medium hover:shadow-lg transition-all text-sm flex items-center justify-center gap-2\",\n                                                children: [\n                                                    \"Yes, Book It!\",\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowRight_Calendar_Clock_CreditCard_DollarSign_Hotel_Loader2_MapPin_MessageCircle_PartyPopper_Plane_Send_Sparkles_Star_ThumbsUp_X_lucide_react__WEBPACK_IMPORTED_MODULE_13__[\"default\"], {\n                                                        className: \"w-4 h-4\"\n                                                    }, void 0, false, {\n                                                        fileName: \"C:\\\\Users\\\\TolaAwoniyi\\\\Downloads\\\\bvodo\\\\frontend\\\\src\\\\components\\\\AIChatbox.tsx\",\n                                                        lineNumber: 2028,\n                                                        columnNumber: 21\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"C:\\\\Users\\\\TolaAwoniyi\\\\Downloads\\\\bvodo\\\\frontend\\\\src\\\\components\\\\AIChatbox.tsx\",\n                                                lineNumber: 2023,\n                                                columnNumber: 19\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"C:\\\\Users\\\\TolaAwoniyi\\\\Downloads\\\\bvodo\\\\frontend\\\\src\\\\components\\\\AIChatbox.tsx\",\n                                        lineNumber: 2016,\n                                        columnNumber: 17\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"C:\\\\Users\\\\TolaAwoniyi\\\\Downloads\\\\bvodo\\\\frontend\\\\src\\\\components\\\\AIChatbox.tsx\",\n                                lineNumber: 1993,\n                                columnNumber: 15\n                            }, this),\n                            isTyping && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex justify-start\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"bg-white border border-gray-200 rounded-2xl p-4 shadow-md\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"flex items-center gap-2\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"flex gap-1\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"w-2 h-2 bg-blue-600 rounded-full animate-bounce\"\n                                                    }, void 0, false, {\n                                                        fileName: \"C:\\\\Users\\\\TolaAwoniyi\\\\Downloads\\\\bvodo\\\\frontend\\\\src\\\\components\\\\AIChatbox.tsx\",\n                                                        lineNumber: 2040,\n                                                        columnNumber: 23\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"w-2 h-2 bg-blue-600 rounded-full animate-bounce\",\n                                                        style: {\n                                                            animationDelay: \"0.2s\"\n                                                        }\n                                                    }, void 0, false, {\n                                                        fileName: \"C:\\\\Users\\\\TolaAwoniyi\\\\Downloads\\\\bvodo\\\\frontend\\\\src\\\\components\\\\AIChatbox.tsx\",\n                                                        lineNumber: 2041,\n                                                        columnNumber: 23\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"w-2 h-2 bg-blue-600 rounded-full animate-bounce\",\n                                                        style: {\n                                                            animationDelay: \"0.4s\"\n                                                        }\n                                                    }, void 0, false, {\n                                                        fileName: \"C:\\\\Users\\\\TolaAwoniyi\\\\Downloads\\\\bvodo\\\\frontend\\\\src\\\\components\\\\AIChatbox.tsx\",\n                                                        lineNumber: 2042,\n                                                        columnNumber: 23\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"C:\\\\Users\\\\TolaAwoniyi\\\\Downloads\\\\bvodo\\\\frontend\\\\src\\\\components\\\\AIChatbox.tsx\",\n                                                lineNumber: 2039,\n                                                columnNumber: 21\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                className: \"text-sm text-gray-600\",\n                                                children: \"Typing...\"\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\TolaAwoniyi\\\\Downloads\\\\bvodo\\\\frontend\\\\src\\\\components\\\\AIChatbox.tsx\",\n                                                lineNumber: 2044,\n                                                columnNumber: 21\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"C:\\\\Users\\\\TolaAwoniyi\\\\Downloads\\\\bvodo\\\\frontend\\\\src\\\\components\\\\AIChatbox.tsx\",\n                                        lineNumber: 2038,\n                                        columnNumber: 19\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Users\\\\TolaAwoniyi\\\\Downloads\\\\bvodo\\\\frontend\\\\src\\\\components\\\\AIChatbox.tsx\",\n                                    lineNumber: 2037,\n                                    columnNumber: 17\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Users\\\\TolaAwoniyi\\\\Downloads\\\\bvodo\\\\frontend\\\\src\\\\components\\\\AIChatbox.tsx\",\n                                lineNumber: 2036,\n                                columnNumber: 15\n                            }, this),\n                            isLoading && !isTyping && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex justify-start\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"bg-white border border-gray-200 rounded-2xl p-4 shadow-md\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"flex items-center gap-2\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowRight_Calendar_Clock_CreditCard_DollarSign_Hotel_Loader2_MapPin_MessageCircle_PartyPopper_Plane_Send_Sparkles_Star_ThumbsUp_X_lucide_react__WEBPACK_IMPORTED_MODULE_19__[\"default\"], {\n                                                className: \"w-4 h-4 text-blue-600 animate-spin\"\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\TolaAwoniyi\\\\Downloads\\\\bvodo\\\\frontend\\\\src\\\\components\\\\AIChatbox.tsx\",\n                                                lineNumber: 2054,\n                                                columnNumber: 21\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                className: \"text-sm text-gray-600\",\n                                                children: \"Searching...\"\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\TolaAwoniyi\\\\Downloads\\\\bvodo\\\\frontend\\\\src\\\\components\\\\AIChatbox.tsx\",\n                                                lineNumber: 2055,\n                                                columnNumber: 21\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"C:\\\\Users\\\\TolaAwoniyi\\\\Downloads\\\\bvodo\\\\frontend\\\\src\\\\components\\\\AIChatbox.tsx\",\n                                        lineNumber: 2053,\n                                        columnNumber: 19\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Users\\\\TolaAwoniyi\\\\Downloads\\\\bvodo\\\\frontend\\\\src\\\\components\\\\AIChatbox.tsx\",\n                                    lineNumber: 2052,\n                                    columnNumber: 17\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Users\\\\TolaAwoniyi\\\\Downloads\\\\bvodo\\\\frontend\\\\src\\\\components\\\\AIChatbox.tsx\",\n                                lineNumber: 2051,\n                                columnNumber: 15\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                ref: messagesEndRef\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Users\\\\TolaAwoniyi\\\\Downloads\\\\bvodo\\\\frontend\\\\src\\\\components\\\\AIChatbox.tsx\",\n                                lineNumber: 2061,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"C:\\\\Users\\\\TolaAwoniyi\\\\Downloads\\\\bvodo\\\\frontend\\\\src\\\\components\\\\AIChatbox.tsx\",\n                        lineNumber: 1790,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"p-3 md:p-4 bg-white border-t border-gray-200\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"flex items-center gap-2\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                    ref: inputRef,\n                                    type: \"text\",\n                                    value: inputValue,\n                                    onChange: (e)=>setInputValue(e.target.value),\n                                    onKeyPress: (e)=>e.key === \"Enter\" && handleSendMessage(),\n                                    placeholder: \"Type naturally...\",\n                                    disabled: isLoading,\n                                    className: \"flex-1 px-3 md:px-4 py-2.5 md:py-3 bg-gray-50 border border-gray-200 rounded-lg md:rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm disabled:opacity-50 placeholder:text-gray-400\"\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Users\\\\TolaAwoniyi\\\\Downloads\\\\bvodo\\\\frontend\\\\src\\\\components\\\\AIChatbox.tsx\",\n                                    lineNumber: 2067,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    onClick: ()=>handleSendMessage(),\n                                    disabled: !inputValue.trim() || isLoading,\n                                    className: \"p-2.5 md:p-3 bg-gradient-to-r from-blue-600 to-purple-600 rounded-lg md:rounded-xl hover:shadow-lg transition-all disabled:opacity-50 disabled:cursor-not-allowed hover:scale-105 flex-shrink-0\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowRight_Calendar_Clock_CreditCard_DollarSign_Hotel_Loader2_MapPin_MessageCircle_PartyPopper_Plane_Send_Sparkles_Star_ThumbsUp_X_lucide_react__WEBPACK_IMPORTED_MODULE_20__[\"default\"], {\n                                        className: \"w-4 h-4 md:w-5 md:h-5 text-white\"\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Users\\\\TolaAwoniyi\\\\Downloads\\\\bvodo\\\\frontend\\\\src\\\\components\\\\AIChatbox.tsx\",\n                                        lineNumber: 2082,\n                                        columnNumber: 17\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Users\\\\TolaAwoniyi\\\\Downloads\\\\bvodo\\\\frontend\\\\src\\\\components\\\\AIChatbox.tsx\",\n                                    lineNumber: 2077,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"C:\\\\Users\\\\TolaAwoniyi\\\\Downloads\\\\bvodo\\\\frontend\\\\src\\\\components\\\\AIChatbox.tsx\",\n                            lineNumber: 2066,\n                            columnNumber: 13\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Users\\\\TolaAwoniyi\\\\Downloads\\\\bvodo\\\\frontend\\\\src\\\\components\\\\AIChatbox.tsx\",\n                        lineNumber: 2065,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"C:\\\\Users\\\\TolaAwoniyi\\\\Downloads\\\\bvodo\\\\frontend\\\\src\\\\components\\\\AIChatbox.tsx\",\n                lineNumber: 1760,\n                columnNumber: 9\n            }, this)\n        ]\n    }, void 0, true);\n}\n_s(AIChatbox, \"Y6oc7o0INQYYJWNPzZNVgliRPMI=\", false, function() {\n    return [\n        next_navigation__WEBPACK_IMPORTED_MODULE_2__.useRouter\n    ];\n});\n_c = AIChatbox;\nvar _c;\n$RefreshReg$(_c, \"AIChatbox\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9jb21wb25lbnRzL0FJQ2hhdGJveC50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFFb0Q7QUFDUjtBQXFCdEI7QUFDbUc7QUFDdkU7QUFxRWxELDJCQUEyQjtBQUMzQixNQUFNd0IsMEJBQTBCO0lBQzlCQyxXQUFXO1FBQ1Q7UUFDQTtRQUNBO0tBQ0Q7SUFDREMsV0FBVztRQUNUO1FBQ0E7UUFDQTtRQUNBO0tBQ0Q7SUFDREMsV0FBVztRQUNUO1FBQ0E7S0FDRDtJQUNEQyxhQUFhO1FBQ1g7UUFDQTtRQUNBO0tBQ0Q7SUFDREMsWUFBWTtRQUNWO1FBQ0E7UUFDQTtRQUNBO0tBQ0Q7SUFDREMsZ0JBQWdCO1FBQ2Q7UUFDQTtRQUNBO0tBQ0Q7QUFDSDtBQUVBLE1BQU1DLG9CQUFvQixDQUFDQztJQUN6QixNQUFNQyxZQUFZVCx1QkFBdUIsQ0FBQ1EsU0FBUztJQUNuRCxPQUFPQyxTQUFTLENBQUNDLEtBQUtDLEtBQUssQ0FBQ0QsS0FBS0UsTUFBTSxLQUFLSCxVQUFVSSxNQUFNLEVBQUU7QUFDaEU7QUFPZSxTQUFTQztRQUFVLEVBQUVDLGNBQWMsRUFBRUMsWUFBWSxLQUFLLEVBQWtCLEdBQXJELGlFQUF3RCxDQUFDOztJQUN6RixNQUFNLENBQUNDLFFBQVFDLFVBQVUsR0FBRzFDLCtDQUFRQSxDQUFDd0M7SUFDckMsTUFBTSxDQUFDRyxVQUFVQyxZQUFZLEdBQUc1QywrQ0FBUUEsQ0FBWTtRQUNsRDtZQUNFNkMsSUFBSTtZQUNKQyxNQUFNO1lBQ05DLFNBQVNoQixrQkFBa0I7WUFDM0JpQixXQUFXLElBQUlDO1lBQ2ZDLGFBQWE7Z0JBQ1g7Z0JBQ0E7Z0JBQ0E7Z0JBQ0E7YUFDRDtRQUNIO0tBQ0Q7SUFDRCxNQUFNLENBQUNDLFlBQVlDLGNBQWMsR0FBR3BELCtDQUFRQSxDQUFDO0lBQzdDLE1BQU0sQ0FBQ3FELFdBQVdDLGFBQWEsR0FBR3RELCtDQUFRQSxDQUFDO0lBQzNDLE1B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a0YsT0FBT3hUO29DQUNQeVQsVUFBVSxDQUFDQyxJQUFNelQsY0FBY3lULEVBQUVDLE1BQU0sQ0FBQ0gsS0FBSztvQ0FDN0NJLFlBQVksQ0FBQ0YsSUFBTUEsRUFBRUcsR0FBRyxLQUFLLFdBQVdyQztvQ0FDeENzQyxhQUFZO29DQUNaQyxVQUFVN1Q7b0NBQ1Z1UyxXQUFVOzs7Ozs7OENBRVosOERBQUNGO29DQUNDQyxTQUFTLElBQU1oQjtvQ0FDZnVDLFVBQVUsQ0FBQy9ULFdBQVdzQixJQUFJLE1BQU1wQjtvQ0FDaEN1UyxXQUFVOzhDQUVWLDRFQUFDdFYsK01BQUlBO3dDQUFDc1YsV0FBVTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBUWhDO0dBNzVEd0J0VDs7UUFxRFBuQyxzREFBU0E7OztLQXJERm1DIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL3NyYy9jb21wb25lbnRzL0FJQ2hhdGJveC50c3g/YzQ0MCJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIGNsaWVudCc7XG5cbmltcG9ydCB7IHVzZVN0YXRlLCB1c2VSZWYsIHVzZUVmZmVjdCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IHVzZVJvdXRlciB9IGZyb20gJ25leHQvbmF2aWdhdGlvbic7XG5pbXBvcnQge1xuICBNZXNzYWdlQ2lyY2xlLFxuICBYLFxuICBTZW5kLFxuICBQbGFuZSxcbiAgSG90ZWwsXG4gIFNwYXJrbGVzLFxuICBMb2FkZXIyLFxuICBDYWxlbmRhcixcbiAgTWFwUGluLFxuICBVc2VycyxcbiAgQXJyb3dSaWdodCxcbiAgU3RhcixcbiAgQ2xvY2ssXG4gIERvbGxhclNpZ24sXG4gIENoZWNrQ2lyY2xlLFxuICBDcmVkaXRDYXJkLFxuICBCdWlsZGluZzIsXG4gIFRodW1ic1VwLFxuICBQYXJ0eVBvcHBlcixcbn0gZnJvbSAnbHVjaWRlLXJlYWN0JztcbmltcG9ydCB7IGdldENpdHlDb2RlIGFzIGdldENpdHlDb2RlRnJvbU1hcCwgZ2V0Q2l0eUNvZGVXaXRoQ29udGV4dCwgZ2V0QW1iaWd1b3VzQ2l0eU9wdGlvbnMgfSBmcm9tICdAL3V0aWxzL2NpdHlNYXBwaW5nJztcbmltcG9ydCB7IGdldEFwaUVuZHBvaW50IH0gZnJvbSAnQC9saWIvYXBpLWNvbmZpZyc7XG5cbmludGVyZmFjZSBGbGlnaHRSZXN1bHQge1xuICBpZDogc3RyaW5nO1xuICBhaXJsaW5lOiBzdHJpbmc7XG4gIGFpcmxpbmVDb2RlOiBzdHJpbmc7XG4gIHJvdXRlOiBzdHJpbmc7XG4gIGRlcGFydHVyZTogc3RyaW5nO1xuICBhcnJpdmFsOiBzdHJpbmc7XG4gIGR1cmF0aW9uOiBzdHJpbmc7XG4gIHByaWNlOiBzdHJpbmc7XG4gIHN0b3BzOiBudW1iZXI7XG4gIGNhYmluOiBzdHJpbmc7XG59XG5cbmludGVyZmFjZSBIb3RlbFJlc3VsdCB7XG4gIGlkOiBzdHJpbmc7XG4gIG5hbWU6IHN0cmluZztcbiAgbG9jYXRpb246IHN0cmluZztcbiAgcmF0aW5nOiBudW1iZXI7XG4gIHByaWNlOiBzdHJpbmc7XG4gIGltYWdlOiBzdHJpbmc7XG4gIGFtZW5pdGllczogc3RyaW5nW107XG59XG5cbmludGVyZmFjZSBTZWFyY2hQYXJhbXMge1xuICAvLyBDb21tb24gcGFyYW1ldGVyc1xuICBtYXhQcmljZT86IG51bWJlcjtcbiAgbWluUHJpY2U/OiBudW1iZXI7XG5cbiAgLy8gRGF0ZSBwYXJhbWV0ZXJzXG4gIGRlcGFydHVyZURhdGU/OiBzdHJpbmc7XG4gIHJldHVybkRhdGU/OiBzdHJpbmc7XG4gIGNoZWNrSW5EYXRlPzogc3RyaW5nO1xuICBjaGVja091dERhdGU/OiBzdHJpbmc7XG5cbiAgLy8gSG90ZWwtc3BlY2lmaWNcbiAgYW1lbml0aWVzPzogc3RyaW5nW107XG4gIG1pblJhdGluZz86IG51bWJlcjtcbiAgbWF4RGlzdGFuY2U/OiBudW1iZXI7XG4gIGxvY2F0aW9uPzogc3RyaW5nO1xuXG4gIC8vIEZsaWdodC1zcGVjaWZpY1xuICBvcmlnaW4/OiBzdHJpbmc7XG4gIGRlc3RpbmF0aW9uPzogc3RyaW5nO1xuICBkaXJlY3RPbmx5PzogYm9vbGVhbjtcbiAgZGlyZWN0RmxpZ2h0PzogYm9vbGVhbjtcbiAgY2FiaW5DbGFzcz86ICdFY29ub215JyB8ICdCdXNpbmVzcycgfCAnRmlyc3QnO1xuICBhZHVsdHM/OiBudW1iZXI7XG4gIGNoaWxkcmVuPzogbnVtYmVyO1xuICBpbmZhbnRzPzogbnVtYmVyO1xufVxuXG5pbnRlcmZhY2UgTWVzc2FnZSB7XG4gIGlkOiBzdHJpbmc7XG4gIHJvbGU6ICd1c2VyJyB8ICdhc3Npc3RhbnQnO1xuICBjb250ZW50OiBzdHJpbmc7XG4gIHRpbWVzdGFtcDogRGF0ZTtcbiAgc3VnZ2VzdGlvbnM/OiBzdHJpbmdbXTtcbiAgZmxpZ2h0UmVzdWx0cz86IEZsaWdodFJlc3VsdFtdO1xuICBob3RlbFJlc3VsdHM/OiBIb3RlbFJlc3VsdFtdO1xuICBib29raW5nQ29uZmlybWF0aW9uPzoge1xuICAgIHR5cGU6ICdmbGlnaHQnIHwgJ2hvdGVsJztcbiAgICBkZXRhaWxzOiBhbnk7XG4gICAgdG90YWw6IHN0cmluZztcbiAgfTtcbiAgdHlwaW5nPzogYm9vbGVhbjtcbn1cblxuLy8gQ29udmVyc2F0aW9uYWwgcmVzcG9uc2VzXG5jb25zdCBjb252ZXJzYXRpb25hbFJlc3BvbnNlcyA9IHtcbiAgZ3JlZXRpbmdzOiBbXG4gICAgXCJIZXkgdGhlcmUhIFJlYWR5IHRvIHBsYW4geW91ciBuZXh0IGFkdmVudHVyZT8gSSdtIGhlcmUgdG8gaGVscCB5b3UgZmluZCB0aGUgcGVyZmVjdCBmbGlnaHQgb3IgaG90ZWwhXCIsXG4gICAgXCJIaSEgU28gZXhjaXRlZCB0byBoZWxwIHlvdSB0cmF2ZWwgdG9kYXkhIFdoZXJlIGFyZSB5b3UgdGhpbmtpbmcgb2YgZ29pbmc/XCIsXG4gICAgXCJIZWxsbyEgTGV0J3MgbWFrZSB5b3VyIHRyYXZlbCBkcmVhbXMgY29tZSB0cnVlISBXaGV0aGVyIGl0J3MgYnVzaW5lc3Mgb3IgcGxlYXN1cmUsIEkndmUgZ290IHlvdSBjb3ZlcmVkIVwiLFxuICBdLFxuICBzZWFyY2hpbmc6IFtcbiAgICBcIk9vaCwgZ3JlYXQgY2hvaWNlISBMZXQgbWUgZmluZCB0aGUgYmVzdCBvcHRpb25zIGZvciB5b3UuLi5cIixcbiAgICBcIk9uIGl0ISBTZWFyY2hpbmcgdGhyb3VnaCB0aG91c2FuZHMgb2Ygb3B0aW9ucyB0byBmaW5kIHlvdSB0aGUgcGVyZmVjdCBtYXRjaC4uLlwiLFxuICAgIFwiRXhjZWxsZW50ISBHaXZlIG1lIGp1c3QgYSBzZWMgd2hpbGUgSSBwdWxsIHVwIHRoZSBiZXN0IGRlYWxzLi4uXCIsXG4gICAgXCJMb3ZlIGl0ISBMZXQgbWUgd29yayBteSBtYWdpYyBhbmQgZmluZCB5b3Ugc29tZXRoaW5nIGFtYXppbmcuLi5cIixcbiAgXSxcbiAgbm9SZXN1bHRzOiBbXG4gICAgXCJIbW0sIEkgY291bGRuJ3QgZmluZCBhbnl0aGluZyBmb3IgdGhhdCBsb2NhdGlvbi4gQ291bGQgeW91IHRyeSBhIGRpZmZlcmVudCBjaXR5PyBNYXliZSBjaGVjayB0aGUgc3BlbGxpbmc/XCIsXG4gICAgXCJPb3BzISBUaGF0IGxvY2F0aW9uIGlzbid0IHJpbmdpbmcgYW55IGJlbGxzLiBDYW4geW91IHRyeSBhbm90aGVyIGNpdHkgbmFtZT8gSSdtIGhlcmUgdG8gaGVscCFcIixcbiAgXSxcbiAgaGVscGZ1bFRpcHM6IFtcbiAgICBcIlBybyB0aXA6IEkgY2FuIHVuZGVyc3RhbmQgcmVxdWVzdHMgbGlrZSAnRmluZCBtZSBhIGZsaWdodCBmcm9tIExhZ29zIHRvIExvbmRvbiB1bmRlciAkNTAwJ1wiLFxuICAgIFwiSnVzdCBjaGF0IG5hdHVyYWxseSEgVHJ5ICdJIG5lZWQgYSBob3RlbCBpbiBkb3dudG93biBDYWxnYXJ5JyBvciAnSG90ZWwgbmVhciBUaW1lcyBTcXVhcmUnXCIsXG4gICAgXCJZb3UgY2FuIHNwZWNpZnkgbmVpZ2hib3Job29kcyB0b28hIExpa2UgJ2hvdGVsIGluIHNldG9uIGNhbGdhcnknIG9yICduZWFyIGxhcyB2ZWdhcyBzdHJpcCdcIixcbiAgXSxcbiAgZXhjaXRlbWVudDogW1xuICAgIFwiQXdlc29tZSBjaG9pY2UhXCIsXG4gICAgXCJHcmVhdCBwaWNrIVwiLFxuICAgIFwiTG92ZSBpdCFcIixcbiAgICBcIlBlcmZlY3QhXCIsXG4gIF0sXG4gIGJvb2tpbmdTdWNjZXNzOiBbXG4gICAgXCJXb29ob28hIFlvdXIgYm9va2luZyBpcyBjb25maXJtZWQhIFBhY2sgeW91ciBiYWdzLCBhZHZlbnR1cmUgYXdhaXRzIVwiLFxuICAgIFwiQWxsIHNldCEgWW91ciB0cmlwIGlzIGJvb2tlZCEgVGltZSB0byBnZXQgZXhjaXRlZCFcIixcbiAgICBcIkRvbmUgYW5kIGR1c3RlZCEgWW91ciBib29raW5nIGlzIGNvbmZpcm1lZCEgSGF2ZSBhbiBhbWF6aW5nIHRyaXAhXCIsXG4gIF0sXG59O1xuXG5jb25zdCBnZXRSYW5kb21SZXNwb25zZSA9IChjYXRlZ29yeToga2V5b2YgdHlwZW9mIGNvbnZlcnNhdGlvbmFsUmVzcG9uc2VzKTogc3RyaW5nID0+IHtcbiAgY29uc3QgcmVzcG9uc2VzID0gY29udmVyc2F0aW9uYWxSZXNwb25zZXNbY2F0ZWdvcnldO1xuICByZXR1cm4gcmVzcG9uc2VzW01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIHJlc3BvbnNlcy5sZW5ndGgpXTtcbn07XG5cbmludGVyZmFjZSBBSUNoYXRib3hQcm9wcyB7XG4gIGluaXRpYWxNZXNzYWdlPzogc3RyaW5nO1xuICBmb3JjZU9wZW4/OiBib29sZWFuO1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBBSUNoYXRib3goeyBpbml0aWFsTWVzc2FnZSwgZm9yY2VPcGVuID0gZmFsc2UgfTogQUlDaGF0Ym94UHJvcHMgPSB7fSkge1xuICBjb25zdCBbaXNPcGVuLCBzZXRJc09wZW5dID0gdXNlU3RhdGUoZm9yY2VPcGVuKTtcbiAgY29uc3QgW21lc3NhZ2VzLCBzZXRNZXNzYWdlc10gPSB1c2VTdGF0ZTxNZXNzYWdlW10+KFtcbiAgICB7XG4gICAgICBpZDogJzEnLFxuICAgICAgcm9sZTogJ2Fzc2lzdGFudCcsXG4gICAgICBjb250ZW50OiBnZXRSYW5kb21SZXNwb25zZSgnZ3JlZXRpbmdzJyksXG4gICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCksXG4gICAgICBzdWdnZXN0aW9uczogW1xuICAgICAgICAnRmxpZ2h0IGZyb20gTGFnb3MgdG8gTG9uZG9uIHVuZGVyICQ2MDAnLFxuICAgICAgICAnTHV4dXJ5IGhvdGVsIGluIGRvd250b3duIENhbGdhcnknLFxuICAgICAgICAnSG90ZWwgbmVhciBUaW1lcyBTcXVhcmUgTmV3IFlvcmsnLFxuICAgICAgICAnRmxpZ2h0IGZyb20gTmV3IFlvcmsgdG8gUGFyaXMnLFxuICAgICAgXSxcbiAgICB9LFxuICBdKTtcbiAgY29uc3QgW2lucHV0VmFsdWUsIHNldElucHV0VmFsdWVdID0gdXNlU3RhdGUoJycpO1xuICBjb25zdCBbaXNMb2FkaW5nLCBzZXRJc0xvYWRpbmddID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbaXNUeXBpbmcsIHNldElzVHlwaW5nXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2NsYXVkZUF2YWlsYWJsZSwgc2V0Q2xhdWRlQXZhaWxhYmxlXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2NvbnZlcnNhdGlvbkhpc3RvcnksIHNldENvbnZlcnNhdGlvbkhpc3RvcnldID0gdXNlU3RhdGU8QXJyYXk8eyByb2xlOiAndXNlcicgfCAnYXNzaXN0YW50JzsgY29udGVudDogc3RyaW5nIH0+PihbXSk7XG4gIGNvbnN0IFtjb252ZXJzYXRpb25Db250ZXh0LCBzZXRDb252ZXJzYXRpb25Db250ZXh0XSA9IHVzZVN0YXRlPHtcbiAgICBsYXN0U2VhcmNoVHlwZT86ICdmbGlnaHQnIHwgJ2hvdGVsJztcbiAgICBsYXN0T3JpZ2luPzogc3RyaW5nO1xuICAgIGxhc3REZXN0aW5hdGlvbj86IHN0cmluZztcbiAgICBsYXN0TG9jYXRpb24/OiBzdHJpbmc7XG4gICAgbGFzdFBhcmFtcz86IFNlYXJjaFBhcmFtcztcbiAgICBwZW5kaW5nU2VhcmNoPzoge1xuICAgICAgdHlwZTogJ2ZsaWdodCcgfCAnaG90ZWwnO1xuICAgICAgb3JpZ2luPzogc3RyaW5nO1xuICAgICAgZGVzdGluYXRpb24/OiBzdHJpbmc7XG4gICAgICBsb2NhdGlvbj86IHN0cmluZztcbiAgICAgIG1pc3NpbmdJbmZvOiBzdHJpbmdbXTtcbiAgICB9O1xuICAgIHBlbmRpbmdEaXNhbWJpZ3VhdGlvbj86IHtcbiAgICAgIHR5cGU6ICdvcmlnaW4nIHwgJ2Rlc3RpbmF0aW9uJyB8ICdsb2NhdGlvbic7XG4gICAgICBjaXR5TmFtZTogc3RyaW5nO1xuICAgICAgb3B0aW9uczogQXJyYXk8eyBuYW1lOiBzdHJpbmc7IGNvZGU6IHN0cmluZzsgY291bnRyeTogc3RyaW5nOyBjb250ZXh0OiBzdHJpbmcgfT47XG4gICAgICBvcmlnaW5hbFF1ZXJ5OiBzdHJpbmc7XG4gICAgfTtcbiAgICByZXNvbHZlZENpdGllcz86IHtcbiAgICAgIG9yaWdpbj86IHsgbmFtZTogc3RyaW5nOyBjb2RlOiBzdHJpbmcgfTtcbiAgICAgIGRlc3RpbmF0aW9uPzogeyBuYW1lOiBzdHJpbmc7IGNvZGU6IHN0cmluZyB9O1xuICAgIH07XG4gIH0+KHt9KTtcbiAgY29uc3QgW2Jvb2tpbmdGbG93LCBzZXRCb29raW5nRmxvd10gPSB1c2VTdGF0ZTx7XG4gICAgYWN0aXZlOiBib29sZWFuO1xuICAgIHR5cGU6ICdmbGlnaHQnIHwgJ2hvdGVsJztcbiAgICBzZWxlY3RlZEl0ZW06IGFueTtcbiAgICBzdGVwOiAnY29uZmlybScgfCAncGF5bWVudCcgfCAnY29tcGxldGUnO1xuICB9IHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IG1lc3NhZ2VzRW5kUmVmID0gdXNlUmVmPEhUTUxEaXZFbGVtZW50PihudWxsKTtcbiAgY29uc3QgaW5wdXRSZWYgPSB1c2VSZWY8SFRNTElucHV0RWxlbWVudD4obnVsbCk7XG4gIGNvbnN0IHJvdXRlciA9IHVzZVJvdXRlcigpO1xuXG4gIGNvbnN0IHNjcm9sbFRvQm90dG9tID0gKCkgPT4ge1xuICAgIG1lc3NhZ2VzRW5kUmVmLmN1cnJlbnQ/LnNjcm9sbEludG9WaWV3KHsgYmVoYXZpb3I6ICdzbW9vdGgnIH0pO1xuICB9O1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgc2Nyb2xsVG9Cb3R0b20oKTtcbiAgfSwgW21lc3NhZ2VzLCBpc1R5cGluZ10pO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGlzT3BlbiAmJiBpbnB1dFJlZi5jdXJyZW50KSB7XG4gICAgICBpbnB1dFJlZi5jdXJyZW50LmZvY3VzKCk7XG4gICAgfVxuICB9LCBbaXNPcGVuXSk7XG5cbiAgLy8gSGFuZGxlIGluaXRpYWxNZXNzYWdlIHByb3BcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoaW5pdGlhbE1lc3NhZ2UgJiYgaW5pdGlhbE1lc3NhZ2UudHJpbSgpKSB7XG4gICAgICBzZXRJbnB1dFZhbHVlKGluaXRpYWxNZXNzYWdlLnRyaW0oKSk7XG4gICAgICAvLyBGb2N1cyB0aGUgaW5wdXQgYWZ0ZXIgc2V0dGluZyB0aGUgdmFsdWVcbiAgICAgIGlmIChpbnB1dFJlZi5jdXJyZW50KSB7XG4gICAgICAgIGlucHV0UmVmLmN1cnJlbnQuZm9jdXMoKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIFtpbml0aWFsTWVzc2FnZV0pO1xuXG4gIC8vIENoZWNrIENsYXVkZSBBSSBhdmFpbGFiaWxpdHkgb24gbW91bnRcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCBjaGVja0NsYXVkZUF2YWlsYWJpbGl0eSA9IGFzeW5jICgpID0+IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goZ2V0QXBpRW5kcG9pbnQoJ2FpLWNoYXQvYXZhaWxhYmlsaXR5JykpO1xuICAgICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgICBzZXRDbGF1ZGVBdmFpbGFibGUoZGF0YS5hdmFpbGFibGUpO1xuICAgICAgICBjb25zb2xlLmxvZygnW0NsYXVkZSBBSV0gQXZhaWxhYmlsaXR5OicsIGRhdGEuYXZhaWxhYmxlKTtcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tDbGF1ZGUgQUldIEZhaWxlZCB0byBjaGVjayBhdmFpbGFiaWxpdHk6JywgZXJyb3IpO1xuICAgICAgICBzZXRDbGF1ZGVBdmFpbGFibGUoZmFsc2UpO1xuICAgICAgfVxuICAgIH07XG4gICAgY2hlY2tDbGF1ZGVBdmFpbGFiaWxpdHkoKTtcbiAgfSwgW10pO1xuXG4gIC8vIFNpbXVsYXRlIHR5cGluZyBlZmZlY3RcbiAgY29uc3QgYWRkTWVzc2FnZVdpdGhUeXBpbmcgPSBhc3luYyAobWVzc2FnZTogTWVzc2FnZSkgPT4ge1xuICAgIC8vIFNob3cgdHlwaW5nIGluZGljYXRvclxuICAgIHNldElzVHlwaW5nKHRydWUpO1xuICAgIGF3YWl0IG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIDgwMCkpO1xuICAgIHNldElzVHlwaW5nKGZhbHNlKTtcblxuICAgIC8vIEFkZCBtZXNzYWdlXG4gICAgc2V0TWVzc2FnZXMoKHByZXYpID0+IFsuLi5wcmV2LCBtZXNzYWdlXSk7XG5cbiAgICAvLyBVcGRhdGUgY29udmVyc2F0aW9uIGhpc3RvcnkgZm9yIENsYXVkZSAob25seSBhZGQgYXNzaXN0YW50IHRleHQgbWVzc2FnZXMsIG5vdCByZXN1bHRzKVxuICAgIGlmIChtZXNzYWdlLnJvbGUgPT09ICdhc3Npc3RhbnQnICYmIG1lc3NhZ2UuY29udGVudCAmJiAhbWVzc2FnZS5mbGlnaHRSZXN1bHRzICYmICFtZXNzYWdlLmhvdGVsUmVzdWx0cykge1xuICAgICAgc2V0Q29udmVyc2F0aW9uSGlzdG9yeSgocHJldikgPT4gW1xuICAgICAgICAuLi5wcmV2LFxuICAgICAgICB7IHJvbGU6ICdhc3Npc3RhbnQnLCBjb250ZW50OiBtZXNzYWdlLmNvbnRlbnQgfSxcbiAgICAgIF0pO1xuICAgIH1cbiAgfTtcblxuICAvLyBIZWxwZXIgdG8gZ2V0IElBVEEgY29kZSBmcm9tIGNpdHkgbmFtZSAodXNlcyBjZW50cmFsaXplZCB1dGlsaXR5KVxuICBjb25zdCBnZXRDaXR5Q29kZSA9IChjaXR5OiBzdHJpbmcpOiBzdHJpbmcgfCBudWxsID0+IHtcbiAgICBjb25zdCBjb2RlID0gZ2V0Q2l0eUNvZGVGcm9tTWFwKGNpdHkpO1xuICAgIGNvbnNvbGUubG9nKCdbZ2V0Q2l0eUNvZGVdIElucHV0OicsIGNpdHksICfihpIgQ29kZTonLCBjb2RlKTtcbiAgICByZXR1cm4gY29kZTtcbiAgfTtcblxuICAvLyBSZWFsIGZsaWdodCBzZWFyY2ggdXNpbmcgQVBJXG4gIGNvbnN0IHNlYXJjaEZsaWdodHMgPSBhc3luYyAoXG4gICAgb3JpZ2luOiBzdHJpbmcsXG4gICAgZGVzdGluYXRpb246IHN0cmluZyxcbiAgICBkZXBhcnR1cmVEYXRlOiBzdHJpbmcsXG4gICAgcGFyYW1zPzogU2VhcmNoUGFyYW1zXG4gICk6IFByb21pc2U8RmxpZ2h0UmVzdWx0W10+ID0+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3Qgb3JpZ2luQ29kZSA9IGdldENpdHlDb2RlKG9yaWdpbik7XG4gICAgICBjb25zdCBkZXN0Q29kZSA9IGdldENpdHlDb2RlKGRlc3RpbmF0aW9uKTtcblxuICAgICAgY29uc29sZS5sb2coJ1tzZWFyY2hGbGlnaHRzXSBDb252ZXJ0aW5nIGNpdGllcyB0byBJQVRBIGNvZGVzOicsIHtcbiAgICAgICAgb3JpZ2luLFxuICAgICAgICBvcmlnaW5Db2RlLFxuICAgICAgICBkZXN0aW5hdGlvbixcbiAgICAgICAgZGVzdENvZGUsXG4gICAgICAgIGRlcGFydHVyZURhdGVcbiAgICAgIH0pO1xuXG4gICAgICAvLyBWYWxpZGF0ZSB0aGF0IGJvdGggY2l0aWVzIHdlcmUgcmVjb2duaXplZFxuICAgICAgaWYgKCFvcmlnaW5Db2RlIHx8ICFkZXN0Q29kZSkge1xuICAgICAgICBjb25zdCBtaXNzaW5nQ2l0aWVzID0gW107XG4gICAgICAgIGlmICghb3JpZ2luQ29kZSkgbWlzc2luZ0NpdGllcy5wdXNoKGBcIiR7b3JpZ2lufVwiYCk7XG4gICAgICAgIGlmICghZGVzdENvZGUpIG1pc3NpbmdDaXRpZXMucHVzaChgXCIke2Rlc3RpbmF0aW9ufVwiYCk7XG5cbiAgICAgICAgY29uc29sZS5lcnJvcignW3NlYXJjaEZsaWdodHNdIFVua25vd24gY2l0eSBjb2RlczonLCB7IG9yaWdpbiwgb3JpZ2luQ29kZSwgZGVzdGluYXRpb24sIGRlc3RDb2RlIH0pO1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEkgZG9uJ3QgcmVjb2duaXplICR7bWlzc2luZ0NpdGllcy5qb2luKCcgYW5kICcpfS4gUGxlYXNlIHVzZSBtYWpvciBjaXR5IG5hbWVzIGxpa2UgXCJMYWdvc1wiLCBcIkxvbmRvblwiLCBcIk5ldyBZb3JrXCIsIGV0Yy5gKTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgcXVlcnlQYXJhbXMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKHtcbiAgICAgICAgb3JpZ2luOiBvcmlnaW5Db2RlLFxuICAgICAgICBkZXN0aW5hdGlvbjogZGVzdENvZGUsXG4gICAgICAgIGRlcGFydHVyZURhdGU6IGRlcGFydHVyZURhdGUsXG4gICAgICAgIGFkdWx0czogJzEnLFxuICAgICAgICBtYXg6ICcxMCcsXG4gICAgICB9KTtcblxuICAgICAgaWYgKHBhcmFtcz8ubWF4UHJpY2UpIHtcbiAgICAgICAgcXVlcnlQYXJhbXMuYXBwZW5kKCdtYXhQcmljZScsIHBhcmFtcy5tYXhQcmljZS50b1N0cmluZygpKTtcbiAgICAgIH1cbiAgICAgIGlmIChwYXJhbXM/LmRpcmVjdE9ubHkpIHtcbiAgICAgICAgcXVlcnlQYXJhbXMuYXBwZW5kKCdub25TdG9wJywgJ3RydWUnKTtcbiAgICAgIH1cbiAgICAgIGlmIChwYXJhbXM/LmNhYmluQ2xhc3MpIHtcbiAgICAgICAgY29uc3QgY2xhc3NNYXA6IHsgW2tleTogc3RyaW5nXTogc3RyaW5nIH0gPSB7XG4gICAgICAgICAgJ0Vjb25vbXknOiAnRUNPTk9NWScsXG4gICAgICAgICAgJ0J1c2luZXNzJzogJ0JVU0lORVNTJyxcbiAgICAgICAgICAnRmlyc3QnOiAnRklSU1QnLFxuICAgICAgICB9O1xuICAgICAgICBxdWVyeVBhcmFtcy5hcHBlbmQoJ3RyYXZlbENsYXNzJywgY2xhc3NNYXBbcGFyYW1zLmNhYmluQ2xhc3NdIHx8ICdFQ09OT01ZJyk7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGFwaVVybCA9IGAke2dldEFwaUVuZHBvaW50KCdmbGlnaHRzL3NlYXJjaCcpfT8ke3F1ZXJ5UGFyYW1zfWA7XG4gICAgICBjb25zb2xlLmxvZygnW3NlYXJjaEZsaWdodHNdIE1ha2luZyBBUEkgY2FsbCB0bzonLCBhcGlVcmwpO1xuXG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGFwaVVybCk7XG5cbiAgICAgIGNvbnNvbGUubG9nKCdbc2VhcmNoRmxpZ2h0c10gQVBJIHJlc3BvbnNlIHN0YXR1czonLCByZXNwb25zZS5zdGF0dXMpO1xuXG4gICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignRmFpbGVkIHRvIHNlYXJjaCBmbGlnaHRzJyk7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHJlc3BvbnNlRGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgIGNvbnNvbGUubG9nKCdbc2VhcmNoRmxpZ2h0c10gQVBJIHJldHVybmVkIGRhdGE6JywgcmVzcG9uc2VEYXRhKTtcblxuICAgICAgLy8gRXh0cmFjdCB0aGUgZmxpZ2h0cyBhcnJheSBmcm9tIHRoZSByZXNwb25zZVxuICAgICAgY29uc3QgZmxpZ2h0cyA9IHJlc3BvbnNlRGF0YS5kYXRhIHx8IFtdO1xuICAgICAgY29uc29sZS5sb2coJ1tzZWFyY2hGbGlnaHRzXSBFeHRyYWN0ZWQgZmxpZ2h0czonLCBmbGlnaHRzLmxlbmd0aCwgJ29mZmVycycpO1xuXG4gICAgICAvLyBUcmFuc2Zvcm0gQVBJIHJlc3BvbnNlIHRvIG91ciBGbGlnaHRSZXN1bHQgZm9ybWF0XG4gICAgICByZXR1cm4gZmxpZ2h0cy5zbGljZSgwLCA1KS5tYXAoKG9mZmVyOiBhbnkpID0+IHtcbiAgICAgICAgY29uc3QgZmlyc3RTZWdtZW50ID0gb2ZmZXIuaXRpbmVyYXJpZXNbMF0uc2VnbWVudHNbMF07XG4gICAgICAgIGNvbnN0IGxhc3RTZWdtZW50ID0gb2ZmZXIuaXRpbmVyYXJpZXNbMF0uc2VnbWVudHNbb2ZmZXIuaXRpbmVyYXJpZXNbMF0uc2VnbWVudHMubGVuZ3RoIC0gMV07XG4gICAgICAgIGNvbnN0IHN0b3BzID0gb2ZmZXIuaXRpbmVyYXJpZXNbMF0uc2VnbWVudHMubGVuZ3RoIC0gMTtcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGlkOiBvZmZlci5pZCxcbiAgICAgICAgICBhaXJsaW5lOiBmaXJzdFNlZ21lbnQuY2FycmllckNvZGUsXG4gICAgICAgICAgYWlybGluZUNvZGU6IGZpcnN0U2VnbWVudC5jYXJyaWVyQ29kZSxcbiAgICAgICAgICByb3V0ZTogYCR7b3JpZ2lufSDihpIgJHtkZXN0aW5hdGlvbn1gLFxuICAgICAgICAgIGRlcGFydHVyZTogbmV3IERhdGUoZmlyc3RTZWdtZW50LmRlcGFydHVyZS5hdCkudG9Mb2NhbGVUaW1lU3RyaW5nKCdlbi1VUycsIHsgaG91cjogJzItZGlnaXQnLCBtaW51dGU6ICcyLWRpZ2l0JyB9KSxcbiAgICAgICAgICBhcnJpdmFsOiBuZXcgRGF0ZShsYXN0U2VnbWVudC5hcnJpdmFsLmF0KS50b0xvY2FsZVRpbWVTdHJpbmcoJ2VuLVVTJywgeyBob3VyOiAnMi1kaWdpdCcsIG1pbnV0ZTogJzItZGlnaXQnIH0pLFxuICAgICAgICAgIGR1cmF0aW9uOiBvZmZlci5pdGluZXJhcmllc1swXS5kdXJhdGlvbi5yZXBsYWNlKCdQVCcsICcnKS50b0xvd2VyQ2FzZSgpLFxuICAgICAgICAgIHByaWNlOiBwYXJzZUZsb2F0KG9mZmVyLnByaWNlLnRvdGFsKS50b0ZpeGVkKDApLFxuICAgICAgICAgIHN0b3BzOiBzdG9wcyxcbiAgICAgICAgICBjYWJpbjogb2ZmZXIudHJhdmVsZXJQcmljaW5nc1swXS5mYXJlRGV0YWlsc0J5U2VnbWVudFswXS5jYWJpbiB8fCAnRWNvbm9teScsXG4gICAgICAgIH07XG4gICAgICB9KTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRmxpZ2h0IHNlYXJjaCBlcnJvcjonLCBlcnJvcik7XG4gICAgICAvLyBSZXR1cm4gZW1wdHkgYXJyYXkgb24gZXJyb3IgLSB3aWxsIGJlIGhhbmRsZWQgYnkgdGhlIFVJXG4gICAgICByZXR1cm4gW107XG4gICAgfVxuICB9O1xuXG4gIC8vIFJlYWwgaG90ZWwgc2VhcmNoIHVzaW5nIEFQSVxuICBjb25zdCBzZWFyY2hIb3RlbHMgPSBhc3luYyAoXG4gICAgbG9jYXRpb246IHN0cmluZyxcbiAgICBjaGVja0luRGF0ZTogc3RyaW5nLFxuICAgIGNoZWNrT3V0RGF0ZTogc3RyaW5nLFxuICAgIHBhcmFtcz86IFNlYXJjaFBhcmFtc1xuICApOiBQcm9taXNlPEhvdGVsUmVzdWx0W10+ID0+IHtcbiAgICB0cnkge1xuICAgICAgY29uc29sZS5sb2coJ1tzZWFyY2hIb3RlbHNdIFNlYXJjaGluZyBob3RlbHMgZm9yIGxvY2F0aW9uOicsIHsgbG9jYXRpb24sIGNoZWNrSW5EYXRlLCBjaGVja091dERhdGUgfSk7XG5cbiAgICAgIC8vIFRyeSB0byBnZXQgY2l0eSBjb2RlIGZpcnN0IChzYW1lIGxvZ2ljIGFzIG1haW4gc2VhcmNoIHBhZ2UpXG4gICAgICBjb25zdCBjaXR5Q29kZSA9IGdldENpdHlDb2RlKGxvY2F0aW9uKTtcblxuICAgICAgY29uc3QgcXVlcnlQYXJhbXMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKHtcbiAgICAgICAgY2hlY2tJbkRhdGU6IGNoZWNrSW5EYXRlLFxuICAgICAgICBjaGVja091dERhdGU6IGNoZWNrT3V0RGF0ZSxcbiAgICAgICAgYWR1bHRzOiAnMScsXG4gICAgICAgIHJhZGl1czogJzUnLFxuICAgICAgICByYWRpdXNVbml0OiAnS00nLFxuICAgICAgICBjdXJyZW5jeTogJ1VTRCcsXG4gICAgICB9KTtcblxuICAgICAgLy8gSWYgd2UgaGF2ZSBhIHZhbGlkIGNpdHkgY29kZSBmcm9tIG91ciBtYXAsIHVzZSBpdDsgb3RoZXJ3aXNlIHVzZSBmdWxsIGFkZHJlc3MgZm9yIGdlb2NvZGluZ1xuICAgICAgaWYgKGNpdHlDb2RlKSB7XG4gICAgICAgIHF1ZXJ5UGFyYW1zLmFwcGVuZCgnY2l0eUNvZGUnLCBjaXR5Q29kZSk7XG4gICAgICAgIGNvbnNvbGUubG9nKCdbc2VhcmNoSG90ZWxzXSBVc2luZyBjaXR5IGNvZGUgc2VhcmNoOicsIGNpdHlDb2RlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIFVzZSBmdWxsIGFkZHJlc3MgLSBiYWNrZW5kIHdpbGwgZ2VvY29kZSBpdFxuICAgICAgICBxdWVyeVBhcmFtcy5hcHBlbmQoJ2FkZHJlc3MnLCBsb2NhdGlvbik7XG4gICAgICAgIGNvbnNvbGUubG9nKCdbc2VhcmNoSG90ZWxzXSBVc2luZyBhZGRyZXNzLWJhc2VkIHNlYXJjaCBmb3I6JywgbG9jYXRpb24pO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBhcGlVcmwgPSBgJHtnZXRBcGlFbmRwb2ludCgnaG90ZWxzL3NlYXJjaCcpfT8ke3F1ZXJ5UGFyYW1zfWA7XG4gICAgICBjb25zb2xlLmxvZygnW3NlYXJjaEhvdGVsc10gTWFraW5nIEFQSSBjYWxsIHRvOicsIGFwaVVybCk7XG5cbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYXBpVXJsKTtcbiAgICAgIGNvbnNvbGUubG9nKCdbc2VhcmNoSG90ZWxzXSBBUEkgcmVzcG9uc2Ugc3RhdHVzOicsIHJlc3BvbnNlLnN0YXR1cyk7XG5cbiAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgY29uc3QgZXJyb3JEYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbc2VhcmNoSG90ZWxzXSBBUEkgZXJyb3I6JywgZXJyb3JEYXRhKTtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGVycm9yRGF0YS5tZXNzYWdlIHx8ICdGYWlsZWQgdG8gc2VhcmNoIGhvdGVscycpO1xuICAgICAgfVxuXG4gICAgICBjb25zdCByZXNwb25zZURhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICBjb25zb2xlLmxvZygnW3NlYXJjaEhvdGVsc10gQVBJIHJldHVybmVkIGRhdGE6JywgcmVzcG9uc2VEYXRhKTtcblxuICAgICAgLy8gQ2hlY2sgaWYgcmVzcG9uc2UgaW5kaWNhdGVzIGZhaWx1cmVcbiAgICAgIGlmIChyZXNwb25zZURhdGEuc3VjY2VzcyA9PT0gZmFsc2UpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignW3NlYXJjaEhvdGVsc10gU2VhcmNoIGZhaWxlZDonLCByZXNwb25zZURhdGEubWVzc2FnZSk7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihyZXNwb25zZURhdGEubWVzc2FnZSB8fCAnTm8gaG90ZWxzIGZvdW5kJyk7XG4gICAgICB9XG5cbiAgICAgIC8vIEV4dHJhY3QgaG90ZWxzIGFycmF5IGZyb20gcmVzcG9uc2UgKGhhbmRsZSBib3RoIHtkYXRhOiBbLi4uXX0gYW5kIFsuLi5dIGZvcm1hdHMpXG4gICAgICBjb25zdCBkYXRhID0gcmVzcG9uc2VEYXRhLmRhdGEgfHwgcmVzcG9uc2VEYXRhO1xuICAgICAgY29uc29sZS5sb2coJ1tzZWFyY2hIb3RlbHNdIEV4dHJhY3RlZCBob3RlbHMgYXJyYXk6JywgZGF0YS5sZW5ndGgsICdob3RlbHMnKTtcblxuICAgICAgLy8gVHJhbnNmb3JtIEFQSSByZXNwb25zZSB0byBvdXIgSG90ZWxSZXN1bHQgZm9ybWF0IGFuZCBhcHBseSBmaWx0ZXJzXG4gICAgICBsZXQgaG90ZWxzID0gZGF0YS5zbGljZSgwLCAxMCkubWFwKChpdGVtOiBhbnkpID0+IHtcbiAgICAgICAgY29uc3QgaG90ZWwgPSBpdGVtLmhvdGVsO1xuICAgICAgICBjb25zdCBvZmZlcnMgPSBpdGVtLm9mZmVycyB8fCBbXTtcbiAgICAgICAgY29uc3QgbG93ZXN0UHJpY2UgPSBvZmZlcnMubGVuZ3RoID4gMFxuICAgICAgICAgID8gb2ZmZXJzLnJlZHVjZSgobWluOiBhbnksIG9mZmVyOiBhbnkpID0+XG4gICAgICAgICAgICAgIHBhcnNlRmxvYXQob2ZmZXIucHJpY2UudG90YWwpIDwgcGFyc2VGbG9hdChtaW4ucHJpY2UudG90YWwpID8gb2ZmZXIgOiBtaW5cbiAgICAgICAgICAgIClcbiAgICAgICAgICA6IG51bGw7XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBpZDogaG90ZWwuaG90ZWxJZCxcbiAgICAgICAgICBuYW1lOiBob3RlbC5uYW1lLFxuICAgICAgICAgIGxvY2F0aW9uOiBob3RlbC5hZGRyZXNzPy5jaXR5TmFtZSB8fCBsb2NhdGlvbixcbiAgICAgICAgICByYXRpbmc6IGhvdGVsLnJhdGluZyB8fCA0LjUsIC8vIERlZmF1bHQgdG8gNC41IHRvIHBhc3MgbHV4dXJ5IGZpbHRlcnNcbiAgICAgICAgICBwcmljZTogbG93ZXN0UHJpY2UgPyBwYXJzZUZsb2F0KGxvd2VzdFByaWNlLnByaWNlLnRvdGFsKS50b0ZpeGVkKDApIDogJzE1MCcsXG4gICAgICAgICAgaW1hZ2U6IGhvdGVsLm1lZGlhICYmIGhvdGVsLm1lZGlhLmxlbmd0aCA+IDBcbiAgICAgICAgICAgID8gaG90ZWwubWVkaWFbMF0udXJpXG4gICAgICAgICAgICA6ICdodHRwczovL2ltYWdlcy51bnNwbGFzaC5jb20vcGhvdG8tMTU2NjA3Mzc3MTI1OS02YTg1MDYwOTk5NDU/dz00MDAnLFxuICAgICAgICAgIGFtZW5pdGllczogaG90ZWwuYW1lbml0aWVzIHx8IFsnV2lGaSddLFxuICAgICAgICB9O1xuICAgICAgfSk7XG5cbiAgICAgIC8vIEFwcGx5IGZpbHRlcnNcbiAgICAgIGNvbnNvbGUubG9nKCdbc2VhcmNoSG90ZWxzXSBCZWZvcmUgZmlsdGVyaW5nOicsIGhvdGVscy5sZW5ndGgsICdob3RlbHMnKTtcbiAgICAgIGNvbnNvbGUubG9nKCdbc2VhcmNoSG90ZWxzXSBGaWx0ZXIgcGFyYW1zOicsIHBhcmFtcyk7XG5cbiAgICAgIGlmIChwYXJhbXMpIHtcbiAgICAgICAgaWYgKHBhcmFtcy5tYXhQcmljZSAhPT0gdW5kZWZpbmVkICYmIHBhcmFtcy5tYXhQcmljZSAhPT0gbnVsbCkge1xuICAgICAgICAgIGNvbnNvbGUubG9nKCdbc2VhcmNoSG90ZWxzXSBBcHBseWluZyBtYXhQcmljZSBmaWx0ZXI6JywgcGFyYW1zLm1heFByaWNlKTtcbiAgICAgICAgICBjb25zdCBiZWZvcmVDb3VudCA9IGhvdGVscy5sZW5ndGg7XG4gICAgICAgICAgaG90ZWxzID0gaG90ZWxzLmZpbHRlcigoaDogSG90ZWxSZXN1bHQpID0+IHBhcnNlRmxvYXQoaC5wcmljZSkgPD0gcGFyYW1zLm1heFByaWNlISk7XG4gICAgICAgICAgY29uc29sZS5sb2coJ1tzZWFyY2hIb3RlbHNdIEFmdGVyIG1heFByaWNlIGZpbHRlcjonLCBiZWZvcmVDb3VudCwgJ+KGkicsIGhvdGVscy5sZW5ndGgsICdob3RlbHMnKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocGFyYW1zLm1pblJhdGluZyAhPT0gdW5kZWZpbmVkICYmIHBhcmFtcy5taW5SYXRpbmcgIT09IG51bGwpIHtcbiAgICAgICAgICBjb25zb2xlLmxvZygnW3NlYXJjaEhvdGVsc10gQXBwbHlpbmcgbWluUmF0aW5nIGZpbHRlcjonLCBwYXJhbXMubWluUmF0aW5nKTtcbiAgICAgICAgICBjb25zdCBiZWZvcmVDb3VudCA9IGhvdGVscy5sZW5ndGg7XG4gICAgICAgICAgaG90ZWxzID0gaG90ZWxzLmZpbHRlcigoaDogSG90ZWxSZXN1bHQpID0+IGgucmF0aW5nID49IHBhcmFtcy5taW5SYXRpbmchKTtcbiAgICAgICAgICBjb25zb2xlLmxvZygnW3NlYXJjaEhvdGVsc10gQWZ0ZXIgbWluUmF0aW5nIGZpbHRlcjonLCBiZWZvcmVDb3VudCwgJ+KGkicsIGhvdGVscy5sZW5ndGgsICdob3RlbHMnKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBjb25zb2xlLmxvZygnW3NlYXJjaEhvdGVsc10gUmV0dXJuaW5nIGhvdGVsczonLCBob3RlbHMubGVuZ3RoLCAncmVzdWx0cycpO1xuICAgICAgcmV0dXJuIGhvdGVscztcbiAgICB9IGNhdGNoIChlcnJvcjogYW55KSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdbc2VhcmNoSG90ZWxzXSBIb3RlbCBzZWFyY2ggZXJyb3I6JywgZXJyb3IpO1xuICAgICAgLy8gUmV0dXJuIGVtcHR5IGFycmF5IGJ1dCBsb2cgdGhlIGVycm9yIG1lc3NhZ2UgZm9yIGJldHRlciBkZWJ1Z2dpbmdcbiAgICAgIC8vIFRoZSBlcnJvciBtZXNzYWdlIHdpbGwgYmUgc2hvd24gaW4gdGhlIFVJIGJ5IHRoZSBjYWxsaW5nIGZ1bmN0aW9uXG4gICAgICByZXR1cm4gW107XG4gICAgfVxuICB9O1xuXG4gIC8vIEhlbHBlciBmdW5jdGlvbiB0byBnZXQgZnV0dXJlIGRhdGVcbiAgY29uc3QgZ2V0RnV0dXJlRGF0ZSA9IChkYXlzOiBudW1iZXIpOiBzdHJpbmcgPT4ge1xuICAgIGNvbnN0IGRhdGUgPSBuZXcgRGF0ZSgpO1xuICAgIGRhdGUuc2V0RGF0ZShkYXRlLmdldERhdGUoKSArIGRheXMpO1xuICAgIHJldHVybiBkYXRlLnRvSVNPU3RyaW5nKCkuc3BsaXQoJ1QnKVswXTtcbiAgfTtcblxuICAvLyBIZWxwZXIgZnVuY3Rpb24gdG8gcGFyc2UgZGF0ZXMgZnJvbSBuYXR1cmFsIGxhbmd1YWdlXG4gIGNvbnN0IHBhcnNlRGF0ZUZyb21NZXNzYWdlID0gKG1lc3NhZ2U6IHN0cmluZyk6IHsgZGVwYXJ0dXJlRGF0ZT86IHN0cmluZzsgY2hlY2tJbkRhdGU/OiBzdHJpbmc7IGNoZWNrT3V0RGF0ZT86IHN0cmluZzsgcmV0dXJuRGF0ZT86IHN0cmluZyB9ID0+IHtcbiAgICBjb25zdCBsb3dlck1lc3NhZ2UgPSBtZXNzYWdlLnRvTG93ZXJDYXNlKCk7XG4gICAgY29uc3QgZGF0ZXM6IHsgZGVwYXJ0dXJlRGF0ZT86IHN0cmluZzsgY2hlY2tJbkRhdGU/OiBzdHJpbmc7IGNoZWNrT3V0RGF0ZT86IHN0cmluZzsgcmV0dXJuRGF0ZT86IHN0cmluZyB9ID0ge307XG5cbiAgICBjb25zb2xlLmxvZygnW3BhcnNlRGF0ZUZyb21NZXNzYWdlXSBJbnB1dDonLCBtZXNzYWdlKTtcblxuICAgIC8vIE1vbnRoIG5hbWVzIG1hcHBpbmdcbiAgICBjb25zdCBtb250aE5hbWVzOiB7IFtrZXk6IHN0cmluZ106IG51bWJlciB9ID0ge1xuICAgICAgamFudWFyeTogMCwgamFuOiAwLFxuICAgICAgZmVicnVhcnk6IDEsIGZlYjogMSxcbiAgICAgIG1hcmNoOiAyLCBtYXI6IDIsXG4gICAgICBhcHJpbDogMywgYXByOiAzLFxuICAgICAgbWF5OiA0LFxuICAgICAganVuZTogNSwganVuOiA1LFxuICAgICAganVseTogNiwganVsOiA2LFxuICAgICAgYXVndXN0OiA3LCBhdWc6IDcsXG4gICAgICBzZXB0ZW1iZXI6IDgsIHNlcDogOCwgc2VwdDogOCxcbiAgICAgIG9jdG9iZXI6IDksIG9jdDogOSxcbiAgICAgIG5vdmVtYmVyOiAxMCwgbm92OiAxMCxcbiAgICAgIGRlY2VtYmVyOiAxMSwgZGVjOiAxMSxcbiAgICB9O1xuXG4gICAgLy8gUmVsYXRpdmUgZGF0ZSBwYXR0ZXJuc1xuICAgIGlmICgvXFxiKHRvbW9ycm93KVxcYi9pLnRlc3QobG93ZXJNZXNzYWdlKSkge1xuICAgICAgZGF0ZXMuZGVwYXJ0dXJlRGF0ZSA9IGdldEZ1dHVyZURhdGUoMSk7XG4gICAgICBkYXRlcy5jaGVja0luRGF0ZSA9IGdldEZ1dHVyZURhdGUoMSk7XG4gICAgfSBlbHNlIGlmICgvXFxiKG5leHQgd2VlaylcXGIvaS50ZXN0KGxvd2VyTWVzc2FnZSkpIHtcbiAgICAgIGRhdGVzLmRlcGFydHVyZURhdGUgPSBnZXRGdXR1cmVEYXRlKDcpO1xuICAgICAgZGF0ZXMuY2hlY2tJbkRhdGUgPSBnZXRGdXR1cmVEYXRlKDcpO1xuICAgIH0gZWxzZSBpZiAoL1xcYihuZXh0IG1vbnRoKVxcYi9pLnRlc3QobG93ZXJNZXNzYWdlKSkge1xuICAgICAgZGF0ZXMuZGVwYXJ0dXJlRGF0ZSA9IGdldEZ1dHVyZURhdGUoMzApO1xuICAgICAgZGF0ZXMuY2hlY2tJbkRhdGUgPSBnZXRGdXR1cmVEYXRlKDMwKTtcbiAgICB9IGVsc2UgaWYgKC9cXGIodG9kYXkpXFxiL2kudGVzdChsb3dlck1lc3NhZ2UpKSB7XG4gICAgICBkYXRlcy5kZXBhcnR1cmVEYXRlID0gZ2V0RnV0dXJlRGF0ZSgwKTtcbiAgICAgIGRhdGVzLmNoZWNrSW5EYXRlID0gZ2V0RnV0dXJlRGF0ZSgwKTtcbiAgICB9XG5cbiAgICAvLyBTcGVjaWZpYyBkYXRlIHBhdHRlcm5zOiBcIjIxc3RcIiwgXCIyNXRoXCIsIFwiM3JkXCIsIGV0Yy5cbiAgICBjb25zdCBkYXlPcmRpbmFsTWF0Y2ggPSBsb3dlck1lc3NhZ2UubWF0Y2goL1xcYihcXGR7MSwyfSkoPzpzdHxuZHxyZHx0aClcXGIvKTtcbiAgICBpZiAoZGF5T3JkaW5hbE1hdGNoKSB7XG4gICAgICBjb25zdCBkYXkgPSBwYXJzZUludChkYXlPcmRpbmFsTWF0Y2hbMV0pO1xuICAgICAgY29uc3QgdG9kYXkgPSBuZXcgRGF0ZSgpO1xuICAgICAgbGV0IHRhcmdldERhdGUgPSBuZXcgRGF0ZSh0b2RheS5nZXRGdWxsWWVhcigpLCB0b2RheS5nZXRNb250aCgpLCBkYXkpO1xuXG4gICAgICAvLyBJZiB0aGUgZGF0ZSBoYXMgcGFzc2VkIHRoaXMgbW9udGgsIGFzc3VtZSBuZXh0IG1vbnRoXG4gICAgICBpZiAodGFyZ2V0RGF0ZSA8IHRvZGF5KSB7XG4gICAgICAgIHRhcmdldERhdGUgPSBuZXcgRGF0ZSh0b2RheS5nZXRGdWxsWWVhcigpLCB0b2RheS5nZXRNb250aCgpICsgMSwgZGF5KTtcbiAgICAgIH1cblxuICAgICAgZGF0ZXMuZGVwYXJ0dXJlRGF0ZSA9IHRhcmdldERhdGUudG9JU09TdHJpbmcoKS5zcGxpdCgnVCcpWzBdO1xuICAgICAgZGF0ZXMuY2hlY2tJbkRhdGUgPSB0YXJnZXREYXRlLnRvSVNPU3RyaW5nKCkuc3BsaXQoJ1QnKVswXTtcbiAgICB9XG5cbiAgICAvLyBNb250aCArIGRheSBwYXR0ZXJuczogXCJpbiBEZWNlbWJlclwiLCBcIkRlY2VtYmVyIDI1dGhcIiwgXCIyNXRoIERlY2VtYmVyXCIsIFwiRGVjIDIxXCJcbiAgICBmb3IgKGNvbnN0IFttb250aE5hbWUsIG1vbnRoSW5kZXhdIG9mIE9iamVjdC5lbnRyaWVzKG1vbnRoTmFtZXMpKSB7XG4gICAgICBjb25zdCBtb250aERheVBhdHRlcm4gPSBuZXcgUmVnRXhwKGBcXFxcYigke21vbnRoTmFtZX0pXFxcXHMqKFxcXFxkezEsMn0pKD86c3R8bmR8cmR8dGgpP1xcXFxiYCwgJ2knKTtcbiAgICAgIGNvbnN0IGRheU1vbnRoUGF0dGVybiA9IG5ldyBSZWdFeHAoYFxcXFxiKFxcXFxkezEsMn0pKD86c3R8bmR8cmR8dGgpP1xcXFxzKigke21vbnRoTmFtZX0pXFxcXGJgLCAnaScpO1xuICAgICAgY29uc3QgaW5Nb250aFBhdHRlcm4gPSBuZXcgUmVnRXhwKGBcXFxcYmluXFxcXHMrKCR7bW9udGhOYW1lfSlcXFxcYmAsICdpJyk7XG5cbiAgICAgIGxldCBtYXRjaCA9IGxvd2VyTWVzc2FnZS5tYXRjaChtb250aERheVBhdHRlcm4pO1xuICAgICAgaWYgKG1hdGNoKSB7XG4gICAgICAgIGNvbnN0IGRheSA9IHBhcnNlSW50KG1hdGNoWzJdKTtcbiAgICAgICAgY29uc3QgdGFyZ2V0RGF0ZSA9IGdldERhdGVGb3JNb250aERheShtb250aEluZGV4LCBkYXkpO1xuICAgICAgICBkYXRlcy5kZXBhcnR1cmVEYXRlID0gdGFyZ2V0RGF0ZS50b0lTT1N0cmluZygpLnNwbGl0KCdUJylbMF07XG4gICAgICAgIGRhdGVzLmNoZWNrSW5EYXRlID0gdGFyZ2V0RGF0ZS50b0lTT1N0cmluZygpLnNwbGl0KCdUJylbMF07XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuXG4gICAgICBtYXRjaCA9IGxvd2VyTWVzc2FnZS5tYXRjaChkYXlNb250aFBhdHRlcm4pO1xuICAgICAgaWYgKG1hdGNoKSB7XG4gICAgICAgIGNvbnN0IGRheSA9IHBhcnNlSW50KG1hdGNoWzFdKTtcbiAgICAgICAgY29uc3QgdGFyZ2V0RGF0ZSA9IGdldERhdGVGb3JNb250aERheShtb250aEluZGV4LCBkYXkpO1xuICAgICAgICBkYXRlcy5kZXBhcnR1cmVEYXRlID0gdGFyZ2V0RGF0ZS50b0lTT1N0cmluZygpLnNwbGl0KCdUJylbMF07XG4gICAgICAgIGRhdGVzLmNoZWNrSW5EYXRlID0gdGFyZ2V0RGF0ZS50b0lTT1N0cmluZygpLnNwbGl0KCdUJylbMF07XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuXG4gICAgICBtYXRjaCA9IGxvd2VyTWVzc2FnZS5tYXRjaChpbk1vbnRoUGF0dGVybik7XG4gICAgICBpZiAobWF0Y2gpIHtcbiAgICAgICAgLy8gRm9yIFwiaW4gRGVjZW1iZXJcIiB3aXRob3V0IHNwZWNpZmljIGRheSwgdXNlIDFzdCBvZiB0aGF0IG1vbnRoXG4gICAgICAgIGNvbnN0IHRhcmdldERhdGUgPSBnZXREYXRlRm9yTW9udGhEYXkobW9udGhJbmRleCwgMSk7XG4gICAgICAgIGRhdGVzLmRlcGFydHVyZURhdGUgPSB0YXJnZXREYXRlLnRvSVNPU3RyaW5nKCkuc3BsaXQoJ1QnKVswXTtcbiAgICAgICAgZGF0ZXMuY2hlY2tJbkRhdGUgPSB0YXJnZXREYXRlLnRvSVNPU3RyaW5nKCkuc3BsaXQoJ1QnKVswXTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gRGF0ZSByYW5nZSBwYXR0ZXJucyBmb3IgaG90ZWxzOiBcImZyb20gMjV0aCB0byAyN3RoXCIsIFwiMjV0aC0yN3RoXCIsIFwiZnJvbSBEZWMgMjUgdG8gRGVjIDI3XCJcbiAgICBjb25zdCBkYXRlUmFuZ2VNYXRjaCA9IGxvd2VyTWVzc2FnZS5tYXRjaCgvXFxiKD86ZnJvbVxccyspPyhcXGR7MSwyfSkoPzpzdHxuZHxyZHx0aCk/XFxzKig/OnRvfC0pXFxzKihcXGR7MSwyfSkoPzpzdHxuZHxyZHx0aCk/XFxiLyk7XG4gICAgaWYgKGRhdGVSYW5nZU1hdGNoKSB7XG4gICAgICBjb25zdCBzdGFydERheSA9IHBhcnNlSW50KGRhdGVSYW5nZU1hdGNoWzFdKTtcbiAgICAgIGNvbnN0IGVuZERheSA9IHBhcnNlSW50KGRhdGVSYW5nZU1hdGNoWzJdKTtcblxuICAgICAgY29uc3QgdG9kYXkgPSBuZXcgRGF0ZSgpO1xuICAgICAgbGV0IHN0YXJ0RGF0ZSA9IG5ldyBEYXRlKHRvZGF5LmdldEZ1bGxZZWFyKCksIHRvZGF5LmdldE1vbnRoKCksIHN0YXJ0RGF5KTtcbiAgICAgIGxldCBlbmREYXRlID0gbmV3IERhdGUodG9kYXkuZ2V0RnVsbFllYXIoKSwgdG9kYXkuZ2V0TW9udGgoKSwgZW5kRGF5KTtcblxuICAgICAgLy8gSWYgc3RhcnQgZGF0ZSBoYXMgcGFzc2VkLCBhc3N1bWUgbmV4dCBtb250aFxuICAgICAgaWYgKHN0YXJ0RGF0ZSA8IHRvZGF5KSB7XG4gICAgICAgIHN0YXJ0RGF0ZSA9IG5ldyBEYXRlKHRvZGF5LmdldEZ1bGxZZWFyKCksIHRvZGF5LmdldE1vbnRoKCkgKyAxLCBzdGFydERheSk7XG4gICAgICAgIGVuZERhdGUgPSBuZXcgRGF0ZSh0b2RheS5nZXRGdWxsWWVhcigpLCB0b2RheS5nZXRNb250aCgpICsgMSwgZW5kRGF5KTtcbiAgICAgIH1cblxuICAgICAgLy8gSWYgZW5kIGRheSBpcyBsZXNzIHRoYW4gc3RhcnQgZGF5LCBhc3N1bWUgaXQgc3BhbnMgaW50byBuZXh0IG1vbnRoXG4gICAgICBpZiAoZW5kRGF5IDwgc3RhcnREYXkpIHtcbiAgICAgICAgZW5kRGF0ZSA9IG5ldyBEYXRlKHN0YXJ0RGF0ZS5nZXRGdWxsWWVhcigpLCBzdGFydERhdGUuZ2V0TW9udGgoKSArIDEsIGVuZERheSk7XG4gICAgICB9XG5cbiAgICAgIGRhdGVzLmNoZWNrSW5EYXRlID0gc3RhcnREYXRlLnRvSVNPU3RyaW5nKCkuc3BsaXQoJ1QnKVswXTtcbiAgICAgIGRhdGVzLmNoZWNrT3V0RGF0ZSA9IGVuZERhdGUudG9JU09TdHJpbmcoKS5zcGxpdCgnVCcpWzBdO1xuICAgICAgZGF0ZXMuZGVwYXJ0dXJlRGF0ZSA9IHN0YXJ0RGF0ZS50b0lTT1N0cmluZygpLnNwbGl0KCdUJylbMF07XG4gICAgfVxuXG4gICAgLy8gSVNPIGRhdGUgZm9ybWF0OiBZWVlZLU1NLUREXG4gICAgY29uc3QgaXNvRGF0ZU1hdGNoID0gbG93ZXJNZXNzYWdlLm1hdGNoKC9cXGIoXFxkezR9LVxcZHsyfS1cXGR7Mn0pXFxiLyk7XG4gICAgaWYgKGlzb0RhdGVNYXRjaCkge1xuICAgICAgZGF0ZXMuZGVwYXJ0dXJlRGF0ZSA9IGlzb0RhdGVNYXRjaFsxXTtcbiAgICAgIGRhdGVzLmNoZWNrSW5EYXRlID0gaXNvRGF0ZU1hdGNoWzFdO1xuICAgIH1cblxuICAgIC8vIFVTIGRhdGUgZm9ybWF0OiBNTS9ERC9ZWVlZIG9yIE1NL0REL1lZXG4gICAgY29uc3QgdXNEYXRlTWF0Y2ggPSBsb3dlck1lc3NhZ2UubWF0Y2goL1xcYihcXGR7MSwyfSlcXC8oXFxkezEsMn0pXFwvKFxcZHsyLDR9KVxcYi8pO1xuICAgIGlmICh1c0RhdGVNYXRjaCkge1xuICAgICAgY29uc3QgbW9udGggPSBwYXJzZUludCh1c0RhdGVNYXRjaFsxXSkgLSAxO1xuICAgICAgY29uc3QgZGF5ID0gcGFyc2VJbnQodXNEYXRlTWF0Y2hbMl0pO1xuICAgICAgbGV0IHllYXIgPSBwYXJzZUludCh1c0RhdGVNYXRjaFszXSk7XG4gICAgICBpZiAoeWVhciA8IDEwMCkgeWVhciArPSAyMDAwOyAvLyBDb252ZXJ0IDItZGlnaXQgeWVhciB0byA0LWRpZ2l0XG5cbiAgICAgIGNvbnN0IHRhcmdldERhdGUgPSBuZXcgRGF0ZSh5ZWFyLCBtb250aCwgZGF5KTtcbiAgICAgIGRhdGVzLmRlcGFydHVyZURhdGUgPSB0YXJnZXREYXRlLnRvSVNPU3RyaW5nKCkuc3BsaXQoJ1QnKVswXTtcbiAgICAgIGRhdGVzLmNoZWNrSW5EYXRlID0gdGFyZ2V0RGF0ZS50b0lTT1N0cmluZygpLnNwbGl0KCdUJylbMF07XG4gICAgfVxuXG4gICAgY29uc29sZS5sb2coJ1twYXJzZURhdGVGcm9tTWVzc2FnZV0gUGFyc2VkIGRhdGVzOicsIGRhdGVzKTtcbiAgICByZXR1cm4gZGF0ZXM7XG4gIH07XG5cbiAgLy8gSGVscGVyIGZ1bmN0aW9uIHRvIGdldCBkYXRlIGZvciBzcGVjaWZpYyBtb250aCBhbmQgZGF5XG4gIGNvbnN0IGdldERhdGVGb3JNb250aERheSA9IChtb250aEluZGV4OiBudW1iZXIsIGRheTogbnVtYmVyKTogRGF0ZSA9PiB7XG4gICAgY29uc3QgdG9kYXkgPSBuZXcgRGF0ZSgpO1xuICAgIGxldCB0YXJnZXREYXRlID0gbmV3IERhdGUodG9kYXkuZ2V0RnVsbFllYXIoKSwgbW9udGhJbmRleCwgZGF5KTtcblxuICAgIC8vIElmIHRoZSBkYXRlIGhhcyBwYXNzZWQgdGhpcyB5ZWFyLCBhc3N1bWUgbmV4dCB5ZWFyXG4gICAgaWYgKHRhcmdldERhdGUgPCB0b2RheSkge1xuICAgICAgdGFyZ2V0RGF0ZSA9IG5ldyBEYXRlKHRvZGF5LmdldEZ1bGxZZWFyKCkgKyAxLCBtb250aEluZGV4LCBkYXkpO1xuICAgIH1cblxuICAgIHJldHVybiB0YXJnZXREYXRlO1xuICB9O1xuXG4gIC8vIFRyeSB0byBwYXJzZSBpbnRlbnQgdXNpbmcgQ2xhdWRlIEFJIHdpdGggZmFsbGJhY2sgdG8gcnVsZS1iYXNlZFxuICBjb25zdCBwYXJzZUludGVudFdpdGhDbGF1ZGUgPSBhc3luYyAodXNlck1lc3NhZ2U6IHN0cmluZyk6IFByb21pc2U8YW55IHwgbnVsbD4gPT4ge1xuICAgIGlmICghY2xhdWRlQXZhaWxhYmxlKSB7XG4gICAgICBjb25zb2xlLmxvZygnW0NsYXVkZSBBSV0gTm90IGF2YWlsYWJsZSwgdXNpbmcgcnVsZS1iYXNlZCBwYXJzaW5nJyk7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICB0cnkge1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChnZXRBcGlFbmRwb2ludCgnYWktY2hhdC9wYXJzZScpLCB7XG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgfSxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgIG1lc3NhZ2U6IHVzZXJNZXNzYWdlLFxuICAgICAgICAgIGNvbnZlcnNhdGlvbkhpc3Rvcnk6IGNvbnZlcnNhdGlvbkhpc3RvcnksXG4gICAgICAgIH0pLFxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICBjb25zb2xlLmxvZygnW0NsYXVkZSBBSV0gUGFyc2UgcmVzcG9uc2U6JywgZGF0YSk7XG5cbiAgICAgIGlmIChkYXRhLnN1Y2Nlc3MgJiYgZGF0YS5pbnRlbnQpIHtcbiAgICAgICAgY29uc29sZS5sb2coJ1tDbGF1ZGUgQUldIFN1Y2Nlc3NmdWxseSBwYXJzZWQgaW50ZW50OicsIGRhdGEuaW50ZW50KTtcbiAgICAgICAgcmV0dXJuIGRhdGEuaW50ZW50O1xuICAgICAgfSBlbHNlIGlmIChkYXRhLnVzZVJ1bGVCYXNlZCkge1xuICAgICAgICBjb25zb2xlLmxvZygnW0NsYXVkZSBBSV0gRmFsbGluZyBiYWNrIHRvIHJ1bGUtYmFzZWQgcGFyc2luZycpO1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignW0NsYXVkZSBBSV0gRXJyb3IgcGFyc2luZyBpbnRlbnQ6JywgZXJyb3IpO1xuICAgIH1cblxuICAgIHJldHVybiBudWxsO1xuICB9O1xuXG4gIC8vIEV4dHJhY3Qgc2VhcmNoIHBhcmFtZXRlcnMgZnJvbSB1c2VyIG1lc3NhZ2VcbiAgY29uc3QgZXh0cmFjdFBhcmFtZXRlcnMgPSAobWVzc2FnZTogc3RyaW5nKTogU2VhcmNoUGFyYW1zID0+IHtcbiAgICBjb25zdCBsb3dlck1lc3NhZ2UgPSBtZXNzYWdlLnRvTG93ZXJDYXNlKCk7XG4gICAgY29uc3QgcGFyYW1zOiBTZWFyY2hQYXJhbXMgPSB7fTtcblxuICAgIC8vIEV4dHJhY3QgZGF0ZXMgdXNpbmcgdGhlIG5ldyBwYXJzZXJcbiAgICBjb25zdCBwYXJzZWREYXRlcyA9IHBhcnNlRGF0ZUZyb21NZXNzYWdlKG1lc3NhZ2UpO1xuXG4gICAgLy8gVXNlIHBhcnNlZCBkYXRlcyBvciBkZWZhdWx0IHRvIDcgZGF5cyBmcm9tIG5vd1xuICAgIHBhcmFtcy5kZXBhcnR1cmVEYXRlID0gcGFyc2VkRGF0ZXMuZGVwYXJ0dXJlRGF0ZSB8fCBnZXRGdXR1cmVEYXRlKDcpO1xuICAgIHBhcmFtcy5jaGVja0luRGF0ZSA9IHBhcnNlZERhdGVzLmNoZWNrSW5EYXRlIHx8IGdldEZ1dHVyZURhdGUoNyk7XG4gICAgcGFyYW1zLnJldHVybkRhdGUgPSBwYXJzZWREYXRlcy5yZXR1cm5EYXRlO1xuXG4gICAgLy8gU2V0IGNoZWNrb3V0IGRhdGVcbiAgICBpZiAocGFyc2VkRGF0ZXMuY2hlY2tPdXREYXRlKSB7XG4gICAgICBwYXJhbXMuY2hlY2tPdXREYXRlID0gcGFyc2VkRGF0ZXMuY2hlY2tPdXREYXRlO1xuICAgIH0gZWxzZSBpZiAocGFyYW1zLmNoZWNrSW5EYXRlKSB7XG4gICAgICAvLyBEZWZhdWx0IHRvIDIgbmlnaHRzIGZvciBob3RlbHMgaWYgbm8gY2hlY2tvdXQgc3BlY2lmaWVkXG4gICAgICBjb25zdCBjaGVja0luID0gbmV3IERhdGUocGFyYW1zLmNoZWNrSW5EYXRlKTtcbiAgICAgIGNoZWNrSW4uc2V0RGF0ZShjaGVja0luLmdldERhdGUoKSArIDIpO1xuICAgICAgcGFyYW1zLmNoZWNrT3V0RGF0ZSA9IGNoZWNrSW4udG9JU09TdHJpbmcoKS5zcGxpdCgnVCcpWzBdO1xuICAgIH1cblxuICAgIC8vIFByaWNlIGV4dHJhY3Rpb25cbiAgICBjb25zdCBwcmljZVBhdHRlcm5zID0gW1xuICAgICAgLyg/OnVuZGVyfGxlc3MgdGhhbnxiZWxvd3xjaGVhcGVyIHRoYW58bWF4fG1heGltdW0pXFxzKlxcJD9cXHMqKFxcZCspL2ksXG4gICAgICAvKD86YnVkZ2V0fGNoZWFwfGFmZm9yZGFibGUpLio/KFxcZCspL2ksXG4gICAgICAvXFwkPyhcXGQrKVxccyooPzpvciBsZXNzfG1heGltdW18bWF4KS9pLFxuICAgIF07XG4gICAgZm9yIChjb25zdCBwYXR0ZXJuIG9mIHByaWNlUGF0dGVybnMpIHtcbiAgICAgIGNvbnN0IG1hdGNoID0gbG93ZXJNZXNzYWdlLm1hdGNoKHBhdHRlcm4pO1xuICAgICAgaWYgKG1hdGNoKSB7XG4gICAgICAgIHBhcmFtcy5tYXhQcmljZSA9IHBhcnNlSW50KG1hdGNoWzFdKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gUHJpY2UgcmFuZ2UgZXh0cmFjdGlvblxuICAgIGNvbnN0IHJhbmdlUGF0dGVybiA9IC9iZXR3ZWVuXFxzKlxcJD9cXHMqKFxcZCspXFxzKig/OmFuZHx0b3wtKVxccypcXCQ/XFxzKihcXGQrKS9pO1xuICAgIGNvbnN0IHJhbmdlTWF0Y2ggPSBsb3dlck1lc3NhZ2UubWF0Y2gocmFuZ2VQYXR0ZXJuKTtcbiAgICBpZiAocmFuZ2VNYXRjaCkge1xuICAgICAgcGFyYW1zLm1pblByaWNlID0gcGFyc2VJbnQocmFuZ2VNYXRjaFsxXSk7XG4gICAgICBwYXJhbXMubWF4UHJpY2UgPSBwYXJzZUludChyYW5nZU1hdGNoWzJdKTtcbiAgICB9XG5cbiAgICAvLyBNaW5pbXVtIHByaWNlXG4gICAgY29uc3QgbWluUHJpY2VQYXR0ZXJuID0gL1xcYig/OmFib3ZlfG1vcmUgdGhhbnxvdmVyfG1pbmltdW18bWluKVxccypcXCQ/XFxzKihcXGQrKS9pO1xuICAgIGNvbnN0IG1pblByaWNlTWF0Y2ggPSBsb3dlck1lc3NhZ2UubWF0Y2gobWluUHJpY2VQYXR0ZXJuKTtcbiAgICBpZiAobWluUHJpY2VNYXRjaCAmJiAhcGFyYW1zLm1pblByaWNlKSB7XG4gICAgICBwYXJhbXMubWluUHJpY2UgPSBwYXJzZUludChtaW5QcmljZU1hdGNoWzFdKTtcbiAgICB9XG5cbiAgICAvLyBBbWVuaXRpZXMgZXh0cmFjdGlvblxuICAgIGNvbnN0IGFtZW5pdHlLZXl3b3JkcyA9IHtcbiAgICAgIHBvb2w6IFsncG9vbCcsICdzd2ltbWluZyddLFxuICAgICAgZ3ltOiBbJ2d5bScsICdmaXRuZXNzJywgJ3dvcmtvdXQnXSxcbiAgICAgIHdpZmk6IFsnd2lmaScsICd3aS1maScsICdpbnRlcm5ldCddLFxuICAgICAgc3BhOiBbJ3NwYScsICdtYXNzYWdlJ10sXG4gICAgICBwYXJraW5nOiBbJ3BhcmtpbmcnLCAnZ2FyYWdlJ10sXG4gICAgICBicmVha2Zhc3Q6IFsnYnJlYWtmYXN0JywgJ21vcm5pbmcgbWVhbCddLFxuICAgICAgcmVzdGF1cmFudDogWydyZXN0YXVyYW50JywgJ2RpbmluZyddLFxuICAgICAgYmFyOiBbJ2JhcicsICdsb3VuZ2UnXSxcbiAgICB9O1xuXG4gICAgY29uc3QgZm91bmRBbWVuaXRpZXM6IHN0cmluZ1tdID0gW107XG4gICAgZm9yIChjb25zdCBbYW1lbml0eSwga2V5d29yZHNdIG9mIE9iamVjdC5lbnRyaWVzKGFtZW5pdHlLZXl3b3JkcykpIHtcbiAgICAgIGlmIChrZXl3b3Jkcy5zb21lKGtleXdvcmQgPT4gbG93ZXJNZXNzYWdlLmluY2x1ZGVzKGtleXdvcmQpKSkge1xuICAgICAgICBmb3VuZEFtZW5pdGllcy5wdXNoKGFtZW5pdHkpO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoZm91bmRBbWVuaXRpZXMubGVuZ3RoID4gMCkge1xuICAgICAgcGFyYW1zLmFtZW5pdGllcyA9IGZvdW5kQW1lbml0aWVzO1xuICAgIH1cblxuICAgIC8vIFJhdGluZyBleHRyYWN0aW9uXG4gICAgY29uc3QgcmF0aW5nUGF0dGVybnMgPSBbXG4gICAgICAvKFxcZCsoPzpcXC5cXGQrKT8pXFxzKnN0YXIvaSxcbiAgICAgIC8oPzpyYXRpbmd8cmF0ZWQpXFxzKihcXGQrKD86XFwuXFxkKyk/KS9pLFxuICAgICAgLyhcXGQrKVxcK1xccypzdGFyL2ksXG4gICAgXTtcbiAgICBmb3IgKGNvbnN0IHBhdHRlcm4gb2YgcmF0aW5nUGF0dGVybnMpIHtcbiAgICAgIGNvbnN0IG1hdGNoID0gbG93ZXJNZXNzYWdlLm1hdGNoKHBhdHRlcm4pO1xuICAgICAgaWYgKG1hdGNoKSB7XG4gICAgICAgIHBhcmFtcy5taW5SYXRpbmcgPSBwYXJzZUZsb2F0KG1hdGNoWzFdKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gUXVhbGl0eSBrZXl3b3Jkc1xuICAgIGlmIChsb3dlck1lc3NhZ2UubWF0Y2goL1xcYihsdXh1cnl8bHV4dXJpb3VzfHByZW1pdW18NVxccypzdGFyfGhpZ2gtZW5kfHVwc2NhbGUpXFxiL2kpKSB7XG4gICAgICBwYXJhbXMubWluUmF0aW5nID0gNC41O1xuICAgIH1cbiAgICAvLyBOb3RlOiBSZW1vdmVkIGhhcmRjb2RlZCBtYXhQcmljZSBmb3IgYnVkZ2V0IHF1ZXJpZXNcbiAgICAvLyBVc2VycyBzaG91bGQgc3BlY2lmeSBhY3R1YWwgYnVkZ2V0IChlLmcuLCBcInVuZGVyICQyMDBcIikgZm9yIGFjY3VyYXRlIHJlc3VsdHNcblxuICAgIC8vIERpcmVjdCBmbGlnaHRzXG4gICAgaWYgKGxvd2VyTWVzc2FnZS5tYXRjaCgvXFxiKGRpcmVjdHxub24tc3RvcHxub25zdG9wfG5vIHN0b3BzKVxcYi9pKSkge1xuICAgICAgcGFyYW1zLmRpcmVjdE9ubHkgPSB0cnVlO1xuICAgIH1cblxuICAgIC8vIENhYmluIGNsYXNzXG4gICAgaWYgKGxvd2VyTWVzc2FnZS5tYXRjaCgvXFxiKGJ1c2luZXNzXFxzKmNsYXNzfGJ1c2luZXNzKVxcYi9pKSkge1xuICAgICAgcGFyYW1zLmNhYmluQ2xhc3MgPSAnQnVzaW5lc3MnO1xuICAgIH1cbiAgICBpZiAobG93ZXJNZXNzYWdlLm1hdGNoKC9cXGIoZmlyc3RcXHMqY2xhc3N8Zmlyc3QpXFxiL2kpKSB7XG4gICAgICBwYXJhbXMuY2FiaW5DbGFzcyA9ICdGaXJzdCc7XG4gICAgfVxuICAgIGlmIChsb3dlck1lc3NhZ2UubWF0Y2goL1xcYihlY29ub215fGNvYWNoKVxcYi9pKSkge1xuICAgICAgcGFyYW1zLmNhYmluQ2xhc3MgPSAnRWNvbm9teSc7XG4gICAgfVxuXG4gICAgcmV0dXJuIHBhcmFtcztcbiAgfTtcblxuICBjb25zdCBwYXJzZVVzZXJJbnRlbnQgPSBhc3luYyAodXNlck1lc3NhZ2U6IHN0cmluZywgc2tpcERpc2FtYmlndWF0aW9uOiBib29sZWFuID0gZmFsc2UpID0+IHtcbiAgICBzZXRJc0xvYWRpbmcodHJ1ZSk7XG5cbiAgICAvLyBUcnkgQ2xhdWRlIEFJIGZpcnN0IGlmIGF2YWlsYWJsZVxuICAgIGNvbnN0IGNsYXVkZUludGVudCA9IGF3YWl0IHBhcnNlSW50ZW50V2l0aENsYXVkZSh1c2VyTWVzc2FnZSk7XG5cbiAgICBpZiAoY2xhdWRlSW50ZW50ICYmIGNsYXVkZUludGVudC5jb25maWRlbmNlID4gNTApIHtcbiAgICAgIGNvbnNvbGUubG9nKCdbQUkgQ2hhdGJveF0gVXNpbmcgQ2xhdWRlIEFJIHBhcnNlZCBpbnRlbnQ6JywgY2xhdWRlSW50ZW50KTtcblxuICAgICAgLy8gSGFuZGxlIENsYXVkZS1wYXJzZWQgaW50ZW50XG4gICAgICBpZiAoY2xhdWRlSW50ZW50LnR5cGUgPT09ICdmbGlnaHQnICYmIGNsYXVkZUludGVudC5vcmlnaW4gJiYgY2xhdWRlSW50ZW50LmRlc3RpbmF0aW9uKSB7XG4gICAgICAgIC8vIEV4dHJhY3QgcGFyYW1ldGVycyBmcm9tIENsYXVkZSBpbnRlbnRcbiAgICAgICAgY29uc3QgcGFyYW1zOiBTZWFyY2hQYXJhbXMgPSB7XG4gICAgICAgICAgZGVwYXJ0dXJlRGF0ZTogY2xhdWRlSW50ZW50LmRhdGVzPy5kZXBhcnR1cmUgfHwgZ2V0RnV0dXJlRGF0ZSg3KSxcbiAgICAgICAgICByZXR1cm5EYXRlOiBjbGF1ZGVJbnRlbnQuZGF0ZXM/LnJldHVybixcbiAgICAgICAgICBtYXhQcmljZTogY2xhdWRlSW50ZW50LnByZWZlcmVuY2VzPy5tYXhQcmljZSxcbiAgICAgICAgICBtaW5QcmljZTogY2xhdWRlSW50ZW50LnByZWZlcmVuY2VzPy5taW5QcmljZSxcbiAgICAgICAgICBkaXJlY3RPbmx5OiBjbGF1ZGVJbnRlbnQucHJlZmVyZW5jZXM/LmRpcmVjdEZsaWdodCxcbiAgICAgICAgICBjYWJpbkNsYXNzOiBjbGF1ZGVJbnRlbnQucHJlZmVyZW5jZXM/LmNhYmluQ2xhc3MgYXMgYW55LFxuICAgICAgICB9O1xuXG4gICAgICAgIGF3YWl0IGFkZE1lc3NhZ2VXaXRoVHlwaW5nKHtcbiAgICAgICAgICBpZDogRGF0ZS5ub3coKS50b1N0cmluZygpLFxuICAgICAgICAgIHJvbGU6ICdhc3Npc3RhbnQnLFxuICAgICAgICAgIGNvbnRlbnQ6IGBQZXJmZWN0ISBMZXQgbWUgZmluZCBmbGlnaHRzIGZyb20gJHtjbGF1ZGVJbnRlbnQub3JpZ2lufSB0byAke2NsYXVkZUludGVudC5kZXN0aW5hdGlvbn0gZm9yIHlvdS4uLmAsXG4gICAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLFxuICAgICAgICB9KTtcblxuICAgICAgICB0cnkge1xuICAgICAgICAgIGNvbnN0IGZsaWdodHMgPSBhd2FpdCBzZWFyY2hGbGlnaHRzKGNsYXVkZUludGVudC5vcmlnaW4sIGNsYXVkZUludGVudC5kZXN0aW5hdGlvbiwgcGFyYW1zLmRlcGFydHVyZURhdGUhLCBwYXJhbXMpO1xuXG4gICAgICAgICAgc2V0Q29udmVyc2F0aW9uQ29udGV4dCh7XG4gICAgICAgICAgICBsYXN0U2VhcmNoVHlwZTogJ2ZsaWdodCcsXG4gICAgICAgICAgICBsYXN0T3JpZ2luOiBjbGF1ZGVJbnRlbnQub3JpZ2luLFxuICAgICAgICAgICAgbGFzdERlc3RpbmF0aW9uOiBjbGF1ZGVJbnRlbnQuZGVzdGluYXRpb24sXG4gICAgICAgICAgICBsYXN0UGFyYW1zOiBwYXJhbXMsXG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICBzZXRJc0xvYWRpbmcoZmFsc2UpO1xuXG4gICAgICAgICAgaWYgKGZsaWdodHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICBhd2FpdCBhZGRNZXNzYWdlV2l0aFR5cGluZyh7XG4gICAgICAgICAgICAgIGlkOiBEYXRlLm5vdygpLnRvU3RyaW5nKCksXG4gICAgICAgICAgICAgIHJvbGU6ICdhc3Npc3RhbnQnLFxuICAgICAgICAgICAgICBjb250ZW50OiBgSG1tLCBJIGNvdWxkbid0IGZpbmQgZmxpZ2h0cyB3aXRoIHRob3NlIGV4YWN0IHJlcXVpcmVtZW50cy4gV291bGQgeW91IGxpa2UgdG8gYWRqdXN0IHlvdXIgc2VhcmNoP2AsXG4gICAgICAgICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKSxcbiAgICAgICAgICAgICAgc3VnZ2VzdGlvbnM6IFsnU2hvdyBtZSBhbGwgb3B0aW9ucycsICdUcnkgY2hlYXBlciBmbGlnaHRzJywgJ05leHQgbW9udGggaW5zdGVhZCddLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgYXdhaXQgYWRkTWVzc2FnZVdpdGhUeXBpbmcoe1xuICAgICAgICAgICAgaWQ6IERhdGUubm93KCkudG9TdHJpbmcoKSxcbiAgICAgICAgICAgIHJvbGU6ICdhc3Npc3RhbnQnLFxuICAgICAgICAgICAgY29udGVudDogYEZvdW5kICR7ZmxpZ2h0cy5sZW5ndGh9IGdyZWF0IGZsaWdodCR7ZmxpZ2h0cy5sZW5ndGggPiAxID8gJ3MnIDogJyd9IGZyb20gJHtjbGF1ZGVJbnRlbnQub3JpZ2lufSB0byAke2NsYXVkZUludGVudC5kZXN0aW5hdGlvbn0hYCxcbiAgICAgICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKSxcbiAgICAgICAgICAgIGZsaWdodFJlc3VsdHM6IGZsaWdodHMsXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9IGNhdGNoIChlcnJvcjogYW55KSB7XG4gICAgICAgICAgc2V0SXNMb2FkaW5nKGZhbHNlKTtcbiAgICAgICAgICBhd2FpdCBhZGRNZXNzYWdlV2l0aFR5cGluZyh7XG4gICAgICAgICAgICBpZDogRGF0ZS5ub3coKS50b1N0cmluZygpLFxuICAgICAgICAgICAgcm9sZTogJ2Fzc2lzdGFudCcsXG4gICAgICAgICAgICBjb250ZW50OiBlcnJvci5tZXNzYWdlIHx8ICdTb3JyeSwgSSBoYWQgdHJvdWJsZSBzZWFyY2hpbmcgZm9yIGZsaWdodHMuJyxcbiAgICAgICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKSxcbiAgICAgICAgICB9KTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoY2xhdWRlSW50ZW50LnR5cGUgPT09ICdob3RlbCcgJiYgY2xhdWRlSW50ZW50LmxvY2F0aW9uKSB7XG4gICAgICAgIGNvbnN0IHBhcmFtczogU2VhcmNoUGFyYW1zID0ge1xuICAgICAgICAgIGNoZWNrSW5EYXRlOiBjbGF1ZGVJbnRlbnQuZGF0ZXM/LmNoZWNrSW4gfHwgZ2V0RnV0dXJlRGF0ZSg3KSxcbiAgICAgICAgICBjaGVja091dERhdGU6IGNsYXVkZUludGVudC5kYXRlcz8uY2hlY2tPdXQgfHwgZ2V0RnV0dXJlRGF0ZSg5KSxcbiAgICAgICAgICBtYXhQcmljZTogY2xhdWRlSW50ZW50LnByZWZlcmVuY2VzPy5tYXhQcmljZSxcbiAgICAgICAgICBtaW5QcmljZTogY2xhdWRlSW50ZW50LnByZWZlcmVuY2VzPy5taW5QcmljZSxcbiAgICAgICAgICBtaW5SYXRpbmc6IGNsYXVkZUludGVudC5wcmVmZXJlbmNlcz8ubWluUmF0aW5nLFxuICAgICAgICAgIGFtZW5pdGllczogY2xhdWRlSW50ZW50LnByZWZlcmVuY2VzPy5hbWVuaXRpZXMsXG4gICAgICAgIH07XG5cbiAgICAgICAgYXdhaXQgYWRkTWVzc2FnZVdpdGhUeXBpbmcoe1xuICAgICAgICAgIGlkOiBEYXRlLm5vdygpLnRvU3RyaW5nKCksXG4gICAgICAgICAgcm9sZTogJ2Fzc2lzdGFudCcsXG4gICAgICAgICAgY29udGVudDogYEdyZWF0ISBTZWFyY2hpbmcgZm9yIGhvdGVscyBpbiAke2NsYXVkZUludGVudC5sb2NhdGlvbn0uLi5gLFxuICAgICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKSxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgY29uc3QgaG90ZWxzID0gYXdhaXQgc2VhcmNoSG90ZWxzKGNsYXVkZUludGVudC5sb2NhdGlvbiwgcGFyYW1zLmNoZWNrSW5EYXRlISwgcGFyYW1zLmNoZWNrT3V0RGF0ZSEsIHBhcmFtcyk7XG5cbiAgICAgICAgc2V0Q29udmVyc2F0aW9uQ29udGV4dCh7XG4gICAgICAgICAgbGFzdFNlYXJjaFR5cGU6ICdob3RlbCcsXG4gICAgICAgICAgbGFzdExvY2F0aW9uOiBjbGF1ZGVJbnRlbnQubG9jYXRpb24sXG4gICAgICAgICAgbGFzdFBhcmFtczogcGFyYW1zLFxuICAgICAgICB9KTtcblxuICAgICAgICBzZXRJc0xvYWRpbmcoZmFsc2UpO1xuXG4gICAgICAgIGlmIChob3RlbHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgYXdhaXQgYWRkTWVzc2FnZVdpdGhUeXBpbmcoe1xuICAgICAgICAgICAgaWQ6IERhdGUubm93KCkudG9TdHJpbmcoKSxcbiAgICAgICAgICAgIHJvbGU6ICdhc3Npc3RhbnQnLFxuICAgICAgICAgICAgY29udGVudDogYEkgY291bGRuJ3QgZmluZCBhbnkgaG90ZWxzIGluIFwiJHtjbGF1ZGVJbnRlbnQubG9jYXRpb259XCIuIExldCdzIHRyeSBzb21ldGhpbmcgZWxzZSFgLFxuICAgICAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLFxuICAgICAgICAgICAgc3VnZ2VzdGlvbnM6IFsnVHJ5IGEgZGlmZmVyZW50IGNpdHknLCAnUmVtb3ZlIGZpbHRlcnMnXSxcbiAgICAgICAgICB9KTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBhd2FpdCBhZGRNZXNzYWdlV2l0aFR5cGluZyh7XG4gICAgICAgICAgaWQ6IERhdGUubm93KCkudG9TdHJpbmcoKSxcbiAgICAgICAgICByb2xlOiAnYXNzaXN0YW50JyxcbiAgICAgICAgICBjb250ZW50OiBgUGVyZmVjdCEgSSBmb3VuZCAke2hvdGVscy5sZW5ndGh9IGFtYXppbmcgaG90ZWwke2hvdGVscy5sZW5ndGggPiAxID8gJ3MnIDogJyd9IGluICR7Y2xhdWRlSW50ZW50LmxvY2F0aW9ufSFgLFxuICAgICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKSxcbiAgICAgICAgICBob3RlbFJlc3VsdHM6IGhvdGVscyxcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH0gZWxzZSBpZiAoY2xhdWRlSW50ZW50LnR5cGUgPT09ICdib3RoJyAmJiBjbGF1ZGVJbnRlbnQubG9jYXRpb24pIHtcbiAgICAgICAgLy8gSGFuZGxlIGJvdGggZmxpZ2h0IGFuZCBob3RlbCBzZWFyY2hcbiAgICAgICAgY29uc3QgaG90ZWxQYXJhbXM6IFNlYXJjaFBhcmFtcyA9IHtcbiAgICAgICAgICBjaGVja0luRGF0ZTogY2xhdWRlSW50ZW50LmRhdGVzPy5jaGVja0luIHx8IGdldEZ1dHVyZURhdGUoNyksXG4gICAgICAgICAgY2hlY2tPdXREYXRlOiBjbGF1ZGVJbnRlbnQuZGF0ZXM/LmNoZWNrT3V0IHx8IGdldEZ1dHVyZURhdGUoOSksXG4gICAgICAgICAgbWF4UHJpY2U6IGNsYXVkZUludGVudC5wcmVmZXJlbmNlcz8ubWF4UHJpY2UsXG4gICAgICAgICAgbWluUHJpY2U6IGNsYXVkZUludGVudC5wcmVmZXJlbmNlcz8ubWluUHJpY2UsXG4gICAgICAgICAgbWluUmF0aW5nOiBjbGF1ZGVJbnRlbnQucHJlZmVyZW5jZXM/Lm1pblJhdGluZyxcbiAgICAgICAgICBhbWVuaXRpZXM6IGNsYXVkZUludGVudC5wcmVmZXJlbmNlcz8uYW1lbml0aWVzLFxuICAgICAgICB9O1xuXG4gICAgICAgIGF3YWl0IGFkZE1lc3NhZ2VXaXRoVHlwaW5nKHtcbiAgICAgICAgICBpZDogRGF0ZS5ub3coKS50b1N0cmluZygpLFxuICAgICAgICAgIHJvbGU6ICdhc3Npc3RhbnQnLFxuICAgICAgICAgIGNvbnRlbnQ6IGBHcmVhdCEgTGV0IG1lIHNlYXJjaCBmb3IgaG90ZWxzIGluICR7Y2xhdWRlSW50ZW50LmxvY2F0aW9ufSBmb3IgeW91Li4uYCxcbiAgICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCksXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGNvbnN0IGhvdGVscyA9IGF3YWl0IHNlYXJjaEhvdGVscyhjbGF1ZGVJbnRlbnQubG9jYXRpb24sIGhvdGVsUGFyYW1zLmNoZWNrSW5EYXRlISwgaG90ZWxQYXJhbXMuY2hlY2tPdXREYXRlISwgaG90ZWxQYXJhbXMpO1xuXG4gICAgICAgIHNldENvbnZlcnNhdGlvbkNvbnRleHQoe1xuICAgICAgICAgIGxhc3RTZWFyY2hUeXBlOiAnaG90ZWwnLFxuICAgICAgICAgIGxhc3RMb2NhdGlvbjogY2xhdWRlSW50ZW50LmxvY2F0aW9uLFxuICAgICAgICAgIGxhc3RQYXJhbXM6IGhvdGVsUGFyYW1zLFxuICAgICAgICB9KTtcblxuICAgICAgICBzZXRJc0xvYWRpbmcoZmFsc2UpO1xuXG4gICAgICAgIGlmIChob3RlbHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgYXdhaXQgYWRkTWVzc2FnZVdpdGhUeXBpbmcoe1xuICAgICAgICAgICAgaWQ6IERhdGUubm93KCkudG9TdHJpbmcoKSxcbiAgICAgICAgICAgIHJvbGU6ICdhc3Npc3RhbnQnLFxuICAgICAgICAgICAgY29udGVudDogYEkgY291bGRuJ3QgZmluZCBhbnkgaG90ZWxzIGluIFwiJHtjbGF1ZGVJbnRlbnQubG9jYXRpb259XCIuIFdvdWxkIHlvdSBsaWtlIHRvIHNlYXJjaCBmb3IgZmxpZ2h0cyBpbnN0ZWFkP2AsXG4gICAgICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCksXG4gICAgICAgICAgICBzdWdnZXN0aW9uczogWydTaG93IG1lIGZsaWdodHMnLCAnVHJ5IGEgZGlmZmVyZW50IGNpdHknXSxcbiAgICAgICAgICB9KTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBhd2FpdCBhZGRNZXNzYWdlV2l0aFR5cGluZyh7XG4gICAgICAgICAgaWQ6IERhdGUubm93KCkudG9TdHJpbmcoKSxcbiAgICAgICAgICByb2xlOiAnYXNzaXN0YW50JyxcbiAgICAgICAgICBjb250ZW50OiBgUGVyZmVjdCEgSSBmb3VuZCAke2hvdGVscy5sZW5ndGh9IGFtYXppbmcgaG90ZWwke2hvdGVscy5sZW5ndGggPiAxID8gJ3MnIDogJyd9IGluICR7Y2xhdWRlSW50ZW50LmxvY2F0aW9ufSEgJHtjbGF1ZGVJbnRlbnQub3JpZ2luID8gJ1dvdWxkIHlvdSBhbHNvIGxpa2UgdG8gc2VlIGZsaWdodHM/JyA6ICcnfWAsXG4gICAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLFxuICAgICAgICAgIGhvdGVsUmVzdWx0czogaG90ZWxzLFxuICAgICAgICAgIHN1Z2dlc3Rpb25zOiBjbGF1ZGVJbnRlbnQub3JpZ2luICYmIGNsYXVkZUludGVudC5kZXN0aW5hdGlvbiA/IFsnWWVzLCBzaG93IG1lIGZsaWdodHMgdG9vJywgJ05vLCBqdXN0IGhvdGVscyddIDogdW5kZWZpbmVkLFxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfSBlbHNlIGlmIChjbGF1ZGVJbnRlbnQubmVlZHNDbGFyaWZpY2F0aW9uICYmIGNsYXVkZUludGVudC5jbGFyaWZpY2F0aW9uUXVlc3Rpb24pIHtcbiAgICAgICAgc2V0SXNMb2FkaW5nKGZhbHNlKTtcbiAgICAgICAgYXdhaXQgYWRkTWVzc2FnZVdpdGhUeXBpbmcoe1xuICAgICAgICAgIGlkOiBEYXRlLm5vdygpLnRvU3RyaW5nKCksXG4gICAgICAgICAgcm9sZTogJ2Fzc2lzdGFudCcsXG4gICAgICAgICAgY29udGVudDogY2xhdWRlSW50ZW50LmNsYXJpZmljYXRpb25RdWVzdGlvbixcbiAgICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCksXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gRmFsbCBiYWNrIHRvIHJ1bGUtYmFzZWQgcGFyc2luZ1xuICAgIGNvbnNvbGUubG9nKCdbQUkgQ2hhdGJveF0gVXNpbmcgcnVsZS1iYXNlZCBwYXJzaW5nJyk7XG4gICAgY29uc3QgbG93ZXJNZXNzYWdlID0gdXNlck1lc3NhZ2UudG9Mb3dlckNhc2UoKTtcbiAgICBjb25zdCBwYXJhbXMgPSBleHRyYWN0UGFyYW1ldGVycyh1c2VyTWVzc2FnZSk7XG5cbiAgICAvLyBHcmVldGluZyBkZXRlY3Rpb25cbiAgICBpZiAobG93ZXJNZXNzYWdlLm1hdGNoKC9eKGhpfGhlbGxvfGhleXxnb29kIG1vcm5pbmd8Z29vZCBhZnRlcm5vb24pL2kpKSB7XG4gICAgICBhd2FpdCBhZGRNZXNzYWdlV2l0aFR5cGluZyh7XG4gICAgICAgIGlkOiBEYXRlLm5vdygpLnRvU3RyaW5nKCksXG4gICAgICAgIHJvbGU6ICdhc3Npc3RhbnQnLFxuICAgICAgICBjb250ZW50OiBcIkhleSEgR3JlYXQgdG8gc2VlIHlvdSEgSSdtIHN1cGVyIGV4Y2l0ZWQgdG8gaGVscCB5b3UgcGxhbiB5b3VyIHRyaXAuIEFyZSB5b3UgbG9va2luZyBmb3IgZmxpZ2h0cywgaG90ZWxzLCBvciBib3RoP1wiLFxuICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCksXG4gICAgICAgIHN1Z2dlc3Rpb25zOiBbXG4gICAgICAgICAgJ0kgbmVlZCBhIGZsaWdodCcsXG4gICAgICAgICAgJ0xvb2tpbmcgZm9yIGhvdGVscycsXG4gICAgICAgICAgJ0JvdGggZmxpZ2h0IGFuZCBob3RlbCcsXG4gICAgICAgIF0sXG4gICAgICB9KTtcbiAgICAgIHNldElzTG9hZGluZyhmYWxzZSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gSGFuZGxlIGRpc2FtYmlndWF0aW9uIHJlc3BvbnNlXG4gICAgaWYgKGNvbnZlcnNhdGlvbkNvbnRleHQucGVuZGluZ0Rpc2FtYmlndWF0aW9uKSB7XG4gICAgICBjb25zdCBkaXNhbWJpZ3VhdGlvbiA9IGNvbnZlcnNhdGlvbkNvbnRleHQucGVuZGluZ0Rpc2FtYmlndWF0aW9uO1xuXG4gICAgICAvLyBGaW5kIHdoaWNoIG9wdGlvbiB0aGUgdXNlciBzZWxlY3RlZCBiYXNlZCBvbiB0aGVpciByZXNwb25zZVxuICAgICAgbGV0IHNlbGVjdGVkT3B0aW9uID0gbnVsbDtcbiAgICAgIGZvciAoY29uc3Qgb3B0aW9uIG9mIGRpc2FtYmlndWF0aW9uLm9wdGlvbnMpIHtcbiAgICAgICAgaWYgKGxvd2VyTWVzc2FnZS5pbmNsdWRlcyhvcHRpb24uY291bnRyeS50b0xvd2VyQ2FzZSgpKSB8fFxuICAgICAgICAgICAgbG93ZXJNZXNzYWdlLmluY2x1ZGVzKG9wdGlvbi5jb250ZXh0LnRvTG93ZXJDYXNlKCkpIHx8XG4gICAgICAgICAgICBsb3dlck1lc3NhZ2UuaW5jbHVkZXMob3B0aW9uLmNvZGUudG9Mb3dlckNhc2UoKSkpIHtcbiAgICAgICAgICBzZWxlY3RlZE9wdGlvbiA9IG9wdGlvbjtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoc2VsZWN0ZWRPcHRpb24pIHtcbiAgICAgICAgLy8gVXNlciBjbGFyaWZpZWQgd2hpY2ggY2l0eSB0aGV5IG1lYW50IC0gc3RvcmUgdGhlIHJlc29sdmVkIGNpdHlcbiAgICAgICAgYXdhaXQgYWRkTWVzc2FnZVdpdGhUeXBpbmcoe1xuICAgICAgICAgIGlkOiBEYXRlLm5vdygpLnRvU3RyaW5nKCksXG4gICAgICAgICAgcm9sZTogJ2Fzc2lzdGFudCcsXG4gICAgICAgICAgY29udGVudDogYEdvdCBpdCEgJHtzZWxlY3RlZE9wdGlvbi5jb250ZXh0fS4gTGV0IG1lIHNlYXJjaCBmb3IgdGhhdC4uLmAsXG4gICAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLFxuICAgICAgICB9KTtcblxuICAgICAgICAvLyBTdG9yZSByZXNvbHZlZCBjaXR5IGFuZCBjbGVhciBkaXNhbWJpZ3VhdGlvblxuICAgICAgICBjb25zdCByZXNvbHZlZENpdGllcyA9IGNvbnZlcnNhdGlvbkNvbnRleHQucmVzb2x2ZWRDaXRpZXMgfHwge307XG4gICAgICAgIGlmIChkaXNhbWJpZ3VhdGlvbi50eXBlID09PSAnb3JpZ2luJykge1xuICAgICAgICAgIHJlc29sdmVkQ2l0aWVzLm9yaWdpbiA9IHsgbmFtZTogc2VsZWN0ZWRPcHRpb24ubmFtZSwgY29kZTogc2VsZWN0ZWRPcHRpb24uY29kZSB9O1xuICAgICAgICB9IGVsc2UgaWYgKGRpc2FtYmlndWF0aW9uLnR5cGUgPT09ICdkZXN0aW5hdGlvbicpIHtcbiAgICAgICAgICByZXNvbHZlZENpdGllcy5kZXN0aW5hdGlvbiA9IHsgbmFtZTogc2VsZWN0ZWRPcHRpb24ubmFtZSwgY29kZTogc2VsZWN0ZWRPcHRpb24uY29kZSB9O1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gVXBkYXRlIGNvbnRleHQgc3luY2hyb25vdXNseSBiZWZvcmUgcmUtcGFyc2luZ1xuICAgICAgICBjb25zdCB1cGRhdGVkQ29udGV4dCA9IHtcbiAgICAgICAgICAuLi5jb252ZXJzYXRpb25Db250ZXh0LFxuICAgICAgICAgIHBlbmRpbmdEaXNhbWJpZ3VhdGlvbjogdW5kZWZpbmVkLFxuICAgICAgICAgIHJlc29sdmVkQ2l0aWVzLFxuICAgICAgICB9O1xuICAgICAgICBzZXRDb252ZXJzYXRpb25Db250ZXh0KHVwZGF0ZWRDb250ZXh0KTtcblxuICAgICAgICAvLyBTdG9yZSByZXNvbHZlZCBjaXRpZXMgaW4gY29udmVyc2F0aW9uQ29udGV4dCB0ZW1wb3JhcmlseSBmb3IgdGhlIHJlLXBhcnNlXG4gICAgICAgIGNvbnZlcnNhdGlvbkNvbnRleHQucmVzb2x2ZWRDaXRpZXMgPSByZXNvbHZlZENpdGllcztcbiAgICAgICAgY29udmVyc2F0aW9uQ29udGV4dC5wZW5kaW5nRGlzYW1iaWd1YXRpb24gPSB1bmRlZmluZWQ7XG5cbiAgICAgICAgLy8gUmUtcGFyc2UgdGhlIG9yaWdpbmFsIHF1ZXJ5IHdpdGggc2tpcERpc2FtYmlndWF0aW9uIGZsYWdcbiAgICAgICAgYXdhaXQgcGFyc2VVc2VySW50ZW50KGRpc2FtYmlndWF0aW9uLm9yaWdpbmFsUXVlcnksIHRydWUpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBVc2VyIHJlc3BvbnNlIGRpZG4ndCBtYXRjaCBhbnkgb3B0aW9uIC0gYXNrIGFnYWluXG4gICAgICAgIHNldElzTG9hZGluZyhmYWxzZSk7XG4gICAgICAgIGF3YWl0IGFkZE1lc3NhZ2VXaXRoVHlwaW5nKHtcbiAgICAgICAgICBpZDogRGF0ZS5ub3coKS50b1N0cmluZygpLFxuICAgICAgICAgIHJvbGU6ICdhc3Npc3RhbnQnLFxuICAgICAgICAgIGNvbnRlbnQ6IGBJJ20gbm90IHN1cmUgd2hpY2ggb25lIHlvdSBtZWFuLiBQbGVhc2Ugc2VsZWN0IG9uZSBvZiB0aGVzZSBvcHRpb25zOmAsXG4gICAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLFxuICAgICAgICAgIHN1Z2dlc3Rpb25zOiBkaXNhbWJpZ3VhdGlvbi5vcHRpb25zLm1hcChvcHQgPT4gb3B0LmNvbnRleHQpLFxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIEhhbmRsZSBmb2xsb3ctdXAgYW5zd2VycyB3aGVuIHRoZXJlJ3MgcGVuZGluZyBzZWFyY2ggY29udGV4dFxuICAgIGlmIChjb252ZXJzYXRpb25Db250ZXh0LnBlbmRpbmdTZWFyY2gpIHtcbiAgICAgIGNvbnN0IHBlbmRpbmcgPSBjb252ZXJzYXRpb25Db250ZXh0LnBlbmRpbmdTZWFyY2g7XG5cbiAgICAgIGlmIChwZW5kaW5nLnR5cGUgPT09ICdmbGlnaHQnKSB7XG4gICAgICAgIC8vIFVzZXIgaXMgYW5zd2VyaW5nIFwid2hlcmUgZnJvbT9cIiBxdWVzdGlvblxuICAgICAgICBjb25zdCBmcm9tTWF0Y2ggPSBsb3dlck1lc3NhZ2UubWF0Y2goLyg/OmZyb21cXHMrKT8oXFx3Kyg/OlxccytcXHcrKT8pL2kpO1xuICAgICAgICBpZiAoZnJvbU1hdGNoICYmIHBlbmRpbmcuZGVzdGluYXRpb24gJiYgIXBlbmRpbmcub3JpZ2luKSB7XG4gICAgICAgICAgY29uc3Qgb3JpZ2luID0gZnJvbU1hdGNoWzFdO1xuXG4gICAgICAgICAgYXdhaXQgYWRkTWVzc2FnZVdpdGhUeXBpbmcoe1xuICAgICAgICAgICAgaWQ6IERhdGUubm93KCkudG9TdHJpbmcoKSxcbiAgICAgICAgICAgIHJvbGU6ICdhc3Npc3RhbnQnLFxuICAgICAgICAgICAgY29udGVudDogYFBlcmZlY3QhIExldCBtZSBmaW5kIGZsaWdodHMgZnJvbSAke29yaWdpbn0gdG8gJHtwZW5kaW5nLmRlc3RpbmF0aW9ufSBmb3IgeW91Li4uYCxcbiAgICAgICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKSxcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIGNvbnN0IGRlcGFydHVyZURhdGUgPSBwYXJhbXMuZGVwYXJ0dXJlRGF0ZSB8fCBnZXRGdXR1cmVEYXRlKDcpO1xuXG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IGZsaWdodHMgPSBhd2FpdCBzZWFyY2hGbGlnaHRzKG9yaWdpbiwgcGVuZGluZy5kZXN0aW5hdGlvbiwgZGVwYXJ0dXJlRGF0ZSwgcGFyYW1zKTtcblxuICAgICAgICAgICAgc2V0Q29udmVyc2F0aW9uQ29udGV4dCh7XG4gICAgICAgICAgICAgIGxhc3RTZWFyY2hUeXBlOiAnZmxpZ2h0JyxcbiAgICAgICAgICAgICAgbGFzdE9yaWdpbjogb3JpZ2luLFxuICAgICAgICAgICAgICBsYXN0RGVzdGluYXRpb246IHBlbmRpbmcuZGVzdGluYXRpb24sXG4gICAgICAgICAgICAgIGxhc3RQYXJhbXM6IHsgLi4ucGFyYW1zLCBkZXBhcnR1cmVEYXRlIH0sXG4gICAgICAgICAgICAgIHBlbmRpbmdTZWFyY2g6IHVuZGVmaW5lZCwgLy8gQ2xlYXIgcGVuZGluZ1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHNldElzTG9hZGluZyhmYWxzZSk7XG5cbiAgICAgICAgICAgIGlmIChmbGlnaHRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICBhd2FpdCBhZGRNZXNzYWdlV2l0aFR5cGluZyh7XG4gICAgICAgICAgICAgICAgaWQ6IERhdGUubm93KCkudG9TdHJpbmcoKSxcbiAgICAgICAgICAgICAgICByb2xlOiAnYXNzaXN0YW50JyxcbiAgICAgICAgICAgICAgICBjb250ZW50OiBgSG1tLCBJIGNvdWxkbid0IGZpbmQgZmxpZ2h0cyB3aXRoIHRob3NlIGV4YWN0IHJlcXVpcmVtZW50cy4gV291bGQgeW91IGxpa2UgdG86XFxu4oCiIEFkanVzdCB5b3VyIGJ1ZGdldD9cXG7igKIgSW5jbHVkZSBjb25uZWN0aW5nIGZsaWdodHM/XFxu4oCiIFRyeSBkaWZmZXJlbnQgZGF0ZXM/YCxcbiAgICAgICAgICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCksXG4gICAgICAgICAgICAgICAgc3VnZ2VzdGlvbnM6IFtcbiAgICAgICAgICAgICAgICAgICdTaG93IG1lIGFsbCBvcHRpb25zJyxcbiAgICAgICAgICAgICAgICAgICdUcnkgY2hlYXBlciBmbGlnaHRzJyxcbiAgICAgICAgICAgICAgICAgICdOZXh0IG1vbnRoIGluc3RlYWQnLFxuICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGF3YWl0IGFkZE1lc3NhZ2VXaXRoVHlwaW5nKHtcbiAgICAgICAgICAgICAgaWQ6IERhdGUubm93KCkudG9TdHJpbmcoKSxcbiAgICAgICAgICAgICAgcm9sZTogJ2Fzc2lzdGFudCcsXG4gICAgICAgICAgICAgIGNvbnRlbnQ6IGBGb3VuZCAke2ZsaWdodHMubGVuZ3RofSBncmVhdCBmbGlnaHQke2ZsaWdodHMubGVuZ3RoID4gMSA/ICdzJyA6ICcnfSBmcm9tICR7b3JpZ2lufSB0byAke3BlbmRpbmcuZGVzdGluYXRpb259IWAsXG4gICAgICAgICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKSxcbiAgICAgICAgICAgICAgZmxpZ2h0UmVzdWx0czogZmxpZ2h0cyxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcbiAgICAgICAgICAgIHNldElzTG9hZGluZyhmYWxzZSk7XG4gICAgICAgICAgICBhd2FpdCBhZGRNZXNzYWdlV2l0aFR5cGluZyh7XG4gICAgICAgICAgICAgIGlkOiBEYXRlLm5vdygpLnRvU3RyaW5nKCksXG4gICAgICAgICAgICAgIHJvbGU6ICdhc3Npc3RhbnQnLFxuICAgICAgICAgICAgICBjb250ZW50OiBlcnJvci5tZXNzYWdlIHx8ICdTb3JyeSwgSSBoYWQgdHJvdWJsZSBzZWFyY2hpbmcgZm9yIGZsaWdodHMuIFBsZWFzZSB0cnkgYWdhaW4gd2l0aCBkaWZmZXJlbnQgY2l0aWVzLicsXG4gICAgICAgICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKSxcbiAgICAgICAgICAgICAgc3VnZ2VzdGlvbnM6IFtcbiAgICAgICAgICAgICAgICAnTGFnb3MgdG8gTG9uZG9uJyxcbiAgICAgICAgICAgICAgICAnTmV3IFlvcmsgdG8gUGFyaXMnLFxuICAgICAgICAgICAgICAgICdEdWJhaSB0byBUb2t5bycsXG4gICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBGbGlnaHQgYm9va2luZyBpbnRlbnRcbiAgICBpZiAobG93ZXJNZXNzYWdlLmluY2x1ZGVzKCdmbGlnaHQnKSB8fCBsb3dlck1lc3NhZ2UuaW5jbHVkZXMoJ2ZseScpKSB7XG4gICAgICAvLyBJbXByb3ZlZCByZWdleCB0byBjYXB0dXJlIHVwIHRvIDItd29yZCBjaXR5IG5hbWVzXG4gICAgICAvLyBVc2UgbmVnYXRpdmUgbG9va2FoZWFkIHRvIGV4Y2x1ZGUgY29tbW9uIHRyYW5zaXRpb24gd29yZHMgZnJvbSBjaXR5IG5hbWVzXG4gICAgICBsZXQgZnJvbU1hdGNoID0gbG93ZXJNZXNzYWdlLm1hdGNoKC9mcm9tXFxzKyhbYS16XSsoPzpcXHMrKD8hdG98b258aW58dW5kZXJ8b3Zlcnxmb3IpW2Etel0rKT8pXFxzKyg/OnRvfG9ufGlufHVuZGVyfG92ZXJ8Zm9yKS9pKTtcbiAgICAgIGxldCB0b01hdGNoID0gbG93ZXJNZXNzYWdlLm1hdGNoKC90b1xccysoW2Etel0rKD86XFxzKyg/IXVuZGVyfG92ZXJ8Zm9yfG9ufGlufG5leHR8dG9tb3Jyb3d8dG9kYXkpW2Etel0rKT8pXFxzKig/OnVuZGVyfG92ZXJ8Zm9yfG9ufGlufG5leHR8dG9tb3Jyb3d8dG9kYXl8LHxcXGR8JCkvaSk7XG5cbiAgICAgIC8vIEZhbGxiYWNrOiBIYW5kbGUgXCJmbGlnaHQgQ0lUWSB0byBDSVRZXCIgd2l0aG91dCBleHBsaWNpdCBcImZyb21cIlxuICAgICAgaWYgKCFmcm9tTWF0Y2ggJiYgdG9NYXRjaCkge1xuICAgICAgICAvLyBNYXRjaCBwYXR0ZXJuOiBcImZsaWdodC9mbHkgW0NJVFldIHRvXCIgKGJ1dCBza2lwIFwiZnJvbVwiIGlmIHByZXNlbnQpXG4gICAgICAgIGNvbnN0IGltcGxpY2l0RnJvbU1hdGNoID0gbG93ZXJNZXNzYWdlLm1hdGNoKC8oPzpmbGlnaHR8Zmx5KVxccysoPzpmcm9tXFxzKyk/KFthLXpdKyg/OlxccysoPyF0bylbYS16XSspPylcXHMrdG9cXHMrL2kpO1xuICAgICAgICBpZiAoaW1wbGljaXRGcm9tTWF0Y2gpIHtcbiAgICAgICAgICBjb25zb2xlLmxvZygnW0FJIENoYXRib3hdIFVzaW5nIGltcGxpY2l0IGZyb20gcGF0dGVybjonLCBpbXBsaWNpdEZyb21NYXRjaCk7XG4gICAgICAgICAgZnJvbU1hdGNoID0gaW1wbGljaXRGcm9tTWF0Y2g7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgY29uc29sZS5sb2coJ1tBSSBDaGF0Ym94XSBGbGlnaHQgaW50ZW50IGRldGVjdGVkIScsIHsgZnJvbU1hdGNoLCB0b01hdGNoIH0pO1xuXG4gICAgICBpZiAoZnJvbU1hdGNoICYmIHRvTWF0Y2gpIHtcbiAgICAgICAgY29uc3Qgb3JpZ2luID0gZnJvbU1hdGNoWzFdO1xuICAgICAgICBjb25zdCBkZXN0aW5hdGlvbiA9IHRvTWF0Y2hbMV07XG4gICAgICAgIGNvbnNvbGUubG9nKCdbQUkgQ2hhdGJveF0gRXh0cmFjdGVkIG9yaWdpbiBhbmQgZGVzdGluYXRpb246JywgeyBvcmlnaW4sIGRlc3RpbmF0aW9uIH0pO1xuXG4gICAgICAgIC8vIENoZWNrIGlmIHdlIGhhdmUgcmVzb2x2ZWQgY2l0aWVzIGZyb20gZGlzYW1iaWd1YXRpb25cbiAgICAgICAgY29uc3QgcmVzb2x2ZWRPcmlnaW4gPSBjb252ZXJzYXRpb25Db250ZXh0LnJlc29sdmVkQ2l0aWVzPy5vcmlnaW47XG4gICAgICAgIGNvbnN0IHJlc29sdmVkRGVzdCA9IGNvbnZlcnNhdGlvbkNvbnRleHQucmVzb2x2ZWRDaXRpZXM/LmRlc3RpbmF0aW9uO1xuXG4gICAgICAgIC8vIENoZWNrIGZvciBhbWJpZ3VvdXMgY2l0aWVzIChidXQgc2tpcCBpZiBhbHJlYWR5IHJlc29sdmVkKVxuICAgICAgICBjb25zdCBvcmlnaW5EaXNhbWJpZ3VhdGlvbiA9IHJlc29sdmVkT3JpZ2luXG4gICAgICAgICAgPyB7IGNvZGU6IHJlc29sdmVkT3JpZ2luLmNvZGUsIG5lZWRzRGlzYW1iaWd1YXRpb246IGZhbHNlIH1cbiAgICAgICAgICA6IGdldENpdHlDb2RlV2l0aENvbnRleHQob3JpZ2luLCB1c2VyTWVzc2FnZSk7XG4gICAgICAgIGNvbnN0IGRlc3REaXNhbWJpZ3VhdGlvbiA9IHJlc29sdmVkRGVzdFxuICAgICAgICAgID8geyBjb2RlOiByZXNvbHZlZERlc3QuY29kZSwgbmVlZHNEaXNhbWJpZ3VhdGlvbjogZmFsc2UgfVxuICAgICAgICAgIDogZ2V0Q2l0eUNvZGVXaXRoQ29udGV4dChkZXN0aW5hdGlvbiwgdXNlck1lc3NhZ2UpO1xuXG4gICAgICAgIC8vIElmIG9yaWdpbiBpcyBhbWJpZ3VvdXMgYW5kIG5lZWRzIGNsYXJpZmljYXRpb24gKHVubGVzcyB3ZSdyZSBza2lwcGluZyBkaXNhbWJpZ3VhdGlvbilcbiAgICAgICAgaWYgKCFza2lwRGlzYW1iaWd1YXRpb24gJiYgb3JpZ2luRGlzYW1iaWd1YXRpb24ubmVlZHNEaXNhbWJpZ3VhdGlvbiAmJiBvcmlnaW5EaXNhbWJpZ3VhdGlvbi5vcHRpb25zKSB7XG4gICAgICAgICAgc2V0Q29udmVyc2F0aW9uQ29udGV4dCh7XG4gICAgICAgICAgICAuLi5jb252ZXJzYXRpb25Db250ZXh0LFxuICAgICAgICAgICAgcGVuZGluZ0Rpc2FtYmlndWF0aW9uOiB7XG4gICAgICAgICAgICAgIHR5cGU6ICdvcmlnaW4nLFxuICAgICAgICAgICAgICBjaXR5TmFtZTogb3JpZ2luLFxuICAgICAgICAgICAgICBvcHRpb25zOiBvcmlnaW5EaXNhbWJpZ3VhdGlvbi5vcHRpb25zLFxuICAgICAgICAgICAgICBvcmlnaW5hbFF1ZXJ5OiB1c2VyTWVzc2FnZSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICBzZXRJc0xvYWRpbmcoZmFsc2UpO1xuICAgICAgICAgIGF3YWl0IGFkZE1lc3NhZ2VXaXRoVHlwaW5nKHtcbiAgICAgICAgICAgIGlkOiBEYXRlLm5vdygpLnRvU3RyaW5nKCksXG4gICAgICAgICAgICByb2xlOiAnYXNzaXN0YW50JyxcbiAgICAgICAgICAgIGNvbnRlbnQ6IGBJIGZvdW5kIG11bHRpcGxlIGNpdGllcyBuYW1lZCBcIiR7b3JpZ2lufVwiLiBXaGljaCBvbmUgZGlkIHlvdSBtZWFuP2AsXG4gICAgICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCksXG4gICAgICAgICAgICBzdWdnZXN0aW9uczogb3JpZ2luRGlzYW1iaWd1YXRpb24ub3B0aW9ucy5tYXAob3B0ID0+IG9wdC5jb250ZXh0KSxcbiAgICAgICAgICB9KTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyBJZiBkZXN0aW5hdGlvbiBpcyBhbWJpZ3VvdXMgYW5kIG5lZWRzIGNsYXJpZmljYXRpb24gKHVubGVzcyB3ZSdyZSBza2lwcGluZyBkaXNhbWJpZ3VhdGlvbilcbiAgICAgICAgaWYgKCFza2lwRGlzYW1iaWd1YXRpb24gJiYgZGVzdERpc2FtYmlndWF0aW9uLm5lZWRzRGlzYW1iaWd1YXRpb24gJiYgZGVzdERpc2FtYmlndWF0aW9uLm9wdGlvbnMpIHtcbiAgICAgICAgICBzZXRDb252ZXJzYXRpb25Db250ZXh0KHtcbiAgICAgICAgICAgIC4uLmNvbnZlcnNhdGlvbkNvbnRleHQsXG4gICAgICAgICAgICBwZW5kaW5nRGlzYW1iaWd1YXRpb246IHtcbiAgICAgICAgICAgICAgdHlwZTogJ2Rlc3RpbmF0aW9uJyxcbiAgICAgICAgICAgICAgY2l0eU5hbWU6IGRlc3RpbmF0aW9uLFxuICAgICAgICAgICAgICBvcHRpb25zOiBkZXN0RGlzYW1iaWd1YXRpb24ub3B0aW9ucyxcbiAgICAgICAgICAgICAgb3JpZ2luYWxRdWVyeTogdXNlck1lc3NhZ2UsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgc2V0SXNMb2FkaW5nKGZhbHNlKTtcbiAgICAgICAgICBhd2FpdCBhZGRNZXNzYWdlV2l0aFR5cGluZyh7XG4gICAgICAgICAgICBpZDogRGF0ZS5ub3coKS50b1N0cmluZygpLFxuICAgICAgICAgICAgcm9sZTogJ2Fzc2lzdGFudCcsXG4gICAgICAgICAgICBjb250ZW50OiBgSSBmb3VuZCBtdWx0aXBsZSBjaXRpZXMgbmFtZWQgXCIke2Rlc3RpbmF0aW9ufVwiLiBXaGljaCBvbmUgZGlkIHlvdSBtZWFuP2AsXG4gICAgICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCksXG4gICAgICAgICAgICBzdWdnZXN0aW9uczogZGVzdERpc2FtYmlndWF0aW9uLm9wdGlvbnMubWFwKG9wdCA9PiBvcHQuY29udGV4dCksXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQnVpbGQgY29udmVyc2F0aW9uYWwgYWNrbm93bGVkZ21lbnQgb2YgcGFyYW1ldGVyc1xuICAgICAgICBsZXQgYWNrbm93bGVkZ21lbnQgPSAnJztcbiAgICAgICAgY29uc3QgcGFyYW1EZXRhaWxzOiBzdHJpbmdbXSA9IFtdO1xuXG4gICAgICAgIGlmIChwYXJhbXMubWF4UHJpY2UpIHtcbiAgICAgICAgICBwYXJhbURldGFpbHMucHVzaChgdW5kZXIgJCR7cGFyYW1zLm1heFByaWNlfWApO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwYXJhbXMubWluUHJpY2UgJiYgcGFyYW1zLm1heFByaWNlKSB7XG4gICAgICAgICAgcGFyYW1EZXRhaWxzW3BhcmFtRGV0YWlscy5sZW5ndGggLSAxXSA9IGAkJHtwYXJhbXMubWluUHJpY2V9LSQke3BhcmFtcy5tYXhQcmljZX1gO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwYXJhbXMuZGlyZWN0T25seSkge1xuICAgICAgICAgIHBhcmFtRGV0YWlscy5wdXNoKCdkaXJlY3QnKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocGFyYW1zLmNhYmluQ2xhc3MpIHtcbiAgICAgICAgICBwYXJhbURldGFpbHMucHVzaChgJHtwYXJhbXMuY2FiaW5DbGFzc30gY2xhc3NgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIE5hdHVyYWwgYWNrbm93bGVkZ21lbnRcbiAgICAgICAgaWYgKHBhcmFtRGV0YWlscy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgYWNrbm93bGVkZ21lbnQgPSBgR3JlYXQhIFNlYXJjaGluZyBmb3IgJHtwYXJhbURldGFpbHMuam9pbignLCAnKX0gZmxpZ2h0cyBmcm9tICR7b3JpZ2lufSB0byAke2Rlc3RpbmF0aW9ufS4uLmA7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgYWNrbm93bGVkZ21lbnQgPSBgUGVyZmVjdCEgTGV0IG1lIGZpbmQgZmxpZ2h0cyBmcm9tICR7b3JpZ2lufSB0byAke2Rlc3RpbmF0aW9ufSBmb3IgeW91Li4uYDtcbiAgICAgICAgfVxuXG4gICAgICAgIGF3YWl0IGFkZE1lc3NhZ2VXaXRoVHlwaW5nKHtcbiAgICAgICAgICBpZDogRGF0ZS5ub3coKS50b1N0cmluZygpLFxuICAgICAgICAgIHJvbGU6ICdhc3Npc3RhbnQnLFxuICAgICAgICAgIGNvbnRlbnQ6IGFja25vd2xlZGdtZW50LFxuICAgICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKSxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgY29uc3QgZGVwYXJ0dXJlRGF0ZSA9IHBhcmFtcy5kZXBhcnR1cmVEYXRlIHx8IGdldEZ1dHVyZURhdGUoNyk7XG4gICAgICAgIGNvbnNvbGUubG9nKCdbQUkgQ2hhdGJveF0gQWJvdXQgdG8gY2FsbCBzZWFyY2hGbGlnaHRzIHdpdGg6JywgeyBvcmlnaW4sIGRlc3RpbmF0aW9uLCBkZXBhcnR1cmVEYXRlLCBwYXJhbXMgfSk7XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjb25zdCBmbGlnaHRzID0gYXdhaXQgc2VhcmNoRmxpZ2h0cyhvcmlnaW4sIGRlc3RpbmF0aW9uLCBkZXBhcnR1cmVEYXRlLCBwYXJhbXMpO1xuICAgICAgICAgIGNvbnNvbGUubG9nKCdbQUkgQ2hhdGJveF0gc2VhcmNoRmxpZ2h0cyByZXR1cm5lZDonLCBmbGlnaHRzLmxlbmd0aCwgJ3Jlc3VsdHMnKTtcblxuICAgICAgICAgIC8vIFVwZGF0ZSBjb250ZXh0IGFuZCBjbGVhciByZXNvbHZlZCBjaXRpZXNcbiAgICAgICAgICBzZXRDb252ZXJzYXRpb25Db250ZXh0KHtcbiAgICAgICAgICAgIGxhc3RTZWFyY2hUeXBlOiAnZmxpZ2h0JyxcbiAgICAgICAgICAgIGxhc3RPcmlnaW46IG9yaWdpbixcbiAgICAgICAgICAgIGxhc3REZXN0aW5hdGlvbjogZGVzdGluYXRpb24sXG4gICAgICAgICAgICBsYXN0UGFyYW1zOiB7IC4uLnBhcmFtcywgZGVwYXJ0dXJlRGF0ZSB9LFxuICAgICAgICAgICAgcmVzb2x2ZWRDaXRpZXM6IHVuZGVmaW5lZCwgLy8gQ2xlYXIgYWZ0ZXIgdXNlXG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICBzZXRJc0xvYWRpbmcoZmFsc2UpO1xuXG4gICAgICAgICAgaWYgKGZsaWdodHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICBhd2FpdCBhZGRNZXNzYWdlV2l0aFR5cGluZyh7XG4gICAgICAgICAgICAgIGlkOiBEYXRlLm5vdygpLnRvU3RyaW5nKCksXG4gICAgICAgICAgICAgIHJvbGU6ICdhc3Npc3RhbnQnLFxuICAgICAgICAgICAgICBjb250ZW50OiBgSG1tLCBJIGNvdWxkbid0IGZpbmQgZmxpZ2h0cyB3aXRoIHRob3NlIGV4YWN0IHJlcXVpcmVtZW50cy4gV291bGQgeW91IGxpa2UgdG86XFxu4oCiIEFkanVzdCB5b3VyIGJ1ZGdldD9cXG7igKIgSW5jbHVkZSBjb25uZWN0aW5nIGZsaWdodHM/XFxu4oCiIFRyeSBkaWZmZXJlbnQgZGF0ZXM/YCxcbiAgICAgICAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLFxuICAgICAgICAgICAgICBzdWdnZXN0aW9uczogW1xuICAgICAgICAgICAgICAgICdTaG93IG1lIGFsbCBvcHRpb25zJyxcbiAgICAgICAgICAgICAgICAnVHJ5IGNoZWFwZXIgZmxpZ2h0cycsXG4gICAgICAgICAgICAgICAgJ05leHQgbW9udGggaW5zdGVhZCcsXG4gICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBhd2FpdCBhZGRNZXNzYWdlV2l0aFR5cGluZyh7XG4gICAgICAgICAgICBpZDogRGF0ZS5ub3coKS50b1N0cmluZygpLFxuICAgICAgICAgICAgcm9sZTogJ2Fzc2lzdGFudCcsXG4gICAgICAgICAgICBjb250ZW50OiBgRm91bmQgJHtmbGlnaHRzLmxlbmd0aH0gZ3JlYXQgZmxpZ2h0JHtmbGlnaHRzLmxlbmd0aCA+IDEgPyAncycgOiAnJ30gZnJvbSAke29yaWdpbn0gdG8gJHtkZXN0aW5hdGlvbn0hYCxcbiAgICAgICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKSxcbiAgICAgICAgICAgIGZsaWdodFJlc3VsdHM6IGZsaWdodHMsXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9IGNhdGNoIChlcnJvcjogYW55KSB7XG4gICAgICAgICAgc2V0SXNMb2FkaW5nKGZhbHNlKTtcbiAgICAgICAgICBhd2FpdCBhZGRNZXNzYWdlV2l0aFR5cGluZyh7XG4gICAgICAgICAgICBpZDogRGF0ZS5ub3coKS50b1N0cmluZygpLFxuICAgICAgICAgICAgcm9sZTogJ2Fzc2lzdGFudCcsXG4gICAgICAgICAgICBjb250ZW50OiBlcnJvci5tZXNzYWdlIHx8ICdTb3JyeSwgSSBoYWQgdHJvdWJsZSBzZWFyY2hpbmcgZm9yIGZsaWdodHMuIFBsZWFzZSB0cnkgYWdhaW4gd2l0aCBkaWZmZXJlbnQgY2l0aWVzLicsXG4gICAgICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCksXG4gICAgICAgICAgICBzdWdnZXN0aW9uczogW1xuICAgICAgICAgICAgICAnTGFnb3MgdG8gTG9uZG9uJyxcbiAgICAgICAgICAgICAgJ05ldyBZb3JrIHRvIFBhcmlzJyxcbiAgICAgICAgICAgICAgJ0R1YmFpIHRvIFRva3lvJyxcbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKGZyb21NYXRjaCB8fCB0b01hdGNoIHx8IGxvd2VyTWVzc2FnZS5pbmNsdWRlcygnbG9uZG9uJykpIHtcbiAgICAgICAgLy8gVXNlciBtZW50aW9uZWQgYSBjaXR5IGJ1dCBub3QgZnVsbCByb3V0ZSAtIGFzayBmb3IgbWlzc2luZyBpbmZvIG5hdHVyYWxseVxuICAgICAgICBjb25zdCBtZW50aW9uZWRDaXR5ID0gZnJvbU1hdGNoID8gZnJvbU1hdGNoWzFdIDogKHRvTWF0Y2ggPyB0b01hdGNoWzFdIDogJ0xvbmRvbicpO1xuXG4gICAgICAgIC8vIFNldCBwZW5kaW5nIHNlYXJjaCBjb250ZXh0XG4gICAgICAgIHNldENvbnZlcnNhdGlvbkNvbnRleHQoe1xuICAgICAgICAgIC4uLmNvbnZlcnNhdGlvbkNvbnRleHQsXG4gICAgICAgICAgcGVuZGluZ1NlYXJjaDoge1xuICAgICAgICAgICAgdHlwZTogJ2ZsaWdodCcsXG4gICAgICAgICAgICBkZXN0aW5hdGlvbjogdG9NYXRjaCA/IG1lbnRpb25lZENpdHkgOiB1bmRlZmluZWQsXG4gICAgICAgICAgICBvcmlnaW46IGZyb21NYXRjaCA/IG1lbnRpb25lZENpdHkgOiB1bmRlZmluZWQsXG4gICAgICAgICAgICBtaXNzaW5nSW5mbzogdG9NYXRjaCA/IFsnb3JpZ2luJ10gOiBbJ2Rlc3RpbmF0aW9uJ10sXG4gICAgICAgICAgfSxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgYXdhaXQgYWRkTWVzc2FnZVdpdGhUeXBpbmcoe1xuICAgICAgICAgIGlkOiBEYXRlLm5vdygpLnRvU3RyaW5nKCksXG4gICAgICAgICAgcm9sZTogJ2Fzc2lzdGFudCcsXG4gICAgICAgICAgY29udGVudDogYEkgc2VlIHlvdSB3YW50IHRvICR7dG9NYXRjaCA/ICdmbHkgdG8nIDogJ2dvIHRvJ30gJHttZW50aW9uZWRDaXR5fSEgV2hlcmUgYXJlIHlvdSBmbHlpbmcgZnJvbT9gLFxuICAgICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKSxcbiAgICAgICAgICBzdWdnZXN0aW9uczogW1xuICAgICAgICAgICAgJ0Zyb20gTGFnb3MnLFxuICAgICAgICAgICAgJ0Zyb20gTmV3IFlvcmsnLFxuICAgICAgICAgICAgJ0Zyb20gRHViYWknLFxuICAgICAgICAgIF0sXG4gICAgICAgIH0pO1xuICAgICAgICBzZXRJc0xvYWRpbmcoZmFsc2UpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBhd2FpdCBhZGRNZXNzYWdlV2l0aFR5cGluZyh7XG4gICAgICAgICAgaWQ6IERhdGUubm93KCkudG9TdHJpbmcoKSxcbiAgICAgICAgICByb2xlOiAnYXNzaXN0YW50JyxcbiAgICAgICAgICBjb250ZW50OiBcIkknZCBsb3ZlIHRvIGhlbHAgeW91IGJvb2sgYSBmbGlnaHQhIFdoZXJlIGFyZSB5b3UgdHJhdmVsaW5nIGZyb20gYW5kIHRvP1wiLFxuICAgICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKSxcbiAgICAgICAgICBzdWdnZXN0aW9uczogW1xuICAgICAgICAgICAgJ0xhZ29zIHRvIExvbmRvbicsXG4gICAgICAgICAgICAnTmV3IFlvcmsgdG8gUGFyaXMnLFxuICAgICAgICAgICAgJ0R1YmFpIHRvIFRva3lvJyxcbiAgICAgICAgICBdLFxuICAgICAgICB9KTtcbiAgICAgICAgc2V0SXNMb2FkaW5nKGZhbHNlKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIEhvdGVsIGJvb2tpbmcgaW50ZW50XG4gICAgaWYgKGxvd2VyTWVzc2FnZS5pbmNsdWRlcygnaG90ZWwnKSB8fCBsb3dlck1lc3NhZ2UuaW5jbHVkZXMoJ2FjY29tbW9kYXRpb24nKSB8fCBsb3dlck1lc3NhZ2UuaW5jbHVkZXMoJ3N0YXknKSkge1xuICAgICAgY29uc29sZS5sb2coJ1tBSSBDaGF0Ym94XSBIb3RlbCBpbnRlbnQgZGV0ZWN0ZWQhJyk7XG5cbiAgICAgIC8vIEltcHJvdmVkIHJlZ2V4IHRvIGNhcHR1cmUgbXVsdGktd29yZCBsb2NhdGlvbnMgaW5jbHVkaW5nIG5laWdoYm9yaG9vZHNcbiAgICAgIC8vIENhcHR1cmVzIHVwIHRvIDQgd29yZHMgYmV0d2VlbiBsb2NhdGlvbiBrZXl3b3JkcyBhbmQgc3RvcCB3b3Jkc1xuICAgICAgY29uc3QgbG9jYXRpb25NYXRjaCA9XG4gICAgICAgIGxvd2VyTWVzc2FnZS5tYXRjaCgvKD86aW58bmVhcnxhdClcXHMrKFthLXpdKyg/OlxccytbYS16XSspezAsM30pXFxzKig/OndpdGh8dW5kZXJ8b3Zlcnxmb3J8b258bmV4dHx0b21vcnJvd3x0b2RheXwsfFxcZHwkKS9pKTtcblxuICAgICAgY29uc29sZS5sb2coJ1tBSSBDaGF0Ym94XSBMb2NhdGlvbiBtYXRjaDonLCBsb2NhdGlvbk1hdGNoKTtcblxuICAgICAgaWYgKGxvY2F0aW9uTWF0Y2gpIHtcbiAgICAgICAgY29uc3QgbG9jYXRpb24gPSBsb2NhdGlvbk1hdGNoWzFdO1xuICAgICAgICBjb25zb2xlLmxvZygnW0FJIENoYXRib3hdIEV4dHJhY3RlZCBsb2NhdGlvbjonLCBsb2NhdGlvbik7XG5cbiAgICAgICAgLy8gQnVpbGQgY29udmVyc2F0aW9uYWwgYWNrbm93bGVkZ21lbnQgb2YgcGFyYW1ldGVyc1xuICAgICAgICBsZXQgYWNrbm93bGVkZ21lbnQgPSBnZXRSYW5kb21SZXNwb25zZSgnc2VhcmNoaW5nJyk7XG4gICAgICAgIGNvbnN0IHBhcmFtRGV0YWlsczogc3RyaW5nW10gPSBbXTtcblxuICAgICAgICBpZiAocGFyYW1zLm1heFByaWNlKSB7XG4gICAgICAgICAgcGFyYW1EZXRhaWxzLnB1c2goYHVuZGVyICQke3BhcmFtcy5tYXhQcmljZX0vbmlnaHRgKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocGFyYW1zLm1pblByaWNlICYmIHBhcmFtcy5tYXhQcmljZSkge1xuICAgICAgICAgIHBhcmFtRGV0YWlsc1twYXJhbURldGFpbHMubGVuZ3RoIC0gMV0gPSBgJCR7cGFyYW1zLm1pblByaWNlfS0kJHtwYXJhbXMubWF4UHJpY2V9L25pZ2h0YDtcbiAgICAgICAgfVxuICAgICAgICBpZiAocGFyYW1zLmFtZW5pdGllcyAmJiBwYXJhbXMuYW1lbml0aWVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICBjb25zdCBhbWVuaXR5TGlzdCA9IHBhcmFtcy5hbWVuaXRpZXMuam9pbignLCAnKTtcbiAgICAgICAgICBwYXJhbURldGFpbHMucHVzaChgd2l0aCAke2FtZW5pdHlMaXN0fWApO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwYXJhbXMubWluUmF0aW5nKSB7XG4gICAgICAgICAgcGFyYW1EZXRhaWxzLnB1c2goYCR7cGFyYW1zLm1pblJhdGluZ30rIHN0YXJzYCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocGFyYW1EZXRhaWxzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICBhY2tub3dsZWRnbWVudCA9IGBHb3QgaXQhIFNlYXJjaGluZyBmb3IgaG90ZWxzICR7cGFyYW1EZXRhaWxzLmpvaW4oJywgJyl9Li4uYDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIENoZWNrIGlmIHdlJ2xsIHVzZSBnZW9jb2RpbmdcbiAgICAgICAgY29uc3Qgd2lsbFVzZUdlb2NvZGluZyA9ICFnZXRDaXR5Q29kZShsb2NhdGlvbik7XG5cbiAgICAgICAgLy8gQWRkIGEgbm90ZSBhYm91dCBnZW9jb2RpbmcgaWYgYXBwbGljYWJsZVxuICAgICAgICBpZiAod2lsbFVzZUdlb2NvZGluZykge1xuICAgICAgICAgIGFja25vd2xlZGdtZW50ICs9IGAgSSdsbCB1c2UgZ2VvY29kaW5nIHRvIGZpbmQgdGhlIGV4YWN0IGxvY2F0aW9uIG9mIFwiJHtsb2NhdGlvbn1cIiFgO1xuICAgICAgICB9XG5cbiAgICAgICAgYXdhaXQgYWRkTWVzc2FnZVdpdGhUeXBpbmcoe1xuICAgICAgICAgIGlkOiBEYXRlLm5vdygpLnRvU3RyaW5nKCksXG4gICAgICAgICAgcm9sZTogJ2Fzc2lzdGFudCcsXG4gICAgICAgICAgY29udGVudDogYWNrbm93bGVkZ21lbnQsXG4gICAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLFxuICAgICAgICB9KTtcblxuICAgICAgICBjb25zdCBjaGVja0luRGF0ZSA9IHBhcmFtcy5jaGVja0luRGF0ZSB8fCBnZXRGdXR1cmVEYXRlKDcpO1xuICAgICAgICBjb25zdCBjaGVja091dERhdGUgPSBwYXJhbXMuY2hlY2tPdXREYXRlIHx8IGdldEZ1dHVyZURhdGUoOSk7XG4gICAgICAgIGNvbnNvbGUubG9nKCdbQUkgQ2hhdGJveF0gQWJvdXQgdG8gY2FsbCBzZWFyY2hIb3RlbHMgd2l0aDonLCB7IGxvY2F0aW9uLCBjaGVja0luRGF0ZSwgY2hlY2tPdXREYXRlLCBwYXJhbXMgfSk7XG4gICAgICAgIGNvbnN0IGhvdGVscyA9IGF3YWl0IHNlYXJjaEhvdGVscyhsb2NhdGlvbiwgY2hlY2tJbkRhdGUsIGNoZWNrT3V0RGF0ZSwgcGFyYW1zKTtcbiAgICAgICAgY29uc29sZS5sb2coJ1tBSSBDaGF0Ym94XSBzZWFyY2hIb3RlbHMgcmV0dXJuZWQ6JywgaG90ZWxzLmxlbmd0aCwgJ3Jlc3VsdHMnKTtcblxuICAgICAgICAvLyBVcGRhdGUgY29udGV4dFxuICAgICAgICBzZXRDb252ZXJzYXRpb25Db250ZXh0KHtcbiAgICAgICAgICBsYXN0U2VhcmNoVHlwZTogJ2hvdGVsJyxcbiAgICAgICAgICBsYXN0TG9jYXRpb246IGxvY2F0aW9uLFxuICAgICAgICAgIGxhc3RQYXJhbXM6IHsgLi4ucGFyYW1zLCBjaGVja0luRGF0ZSwgY2hlY2tPdXREYXRlIH0sXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHNldElzTG9hZGluZyhmYWxzZSk7XG5cbiAgICAgICAgaWYgKGhvdGVscy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAvLyBEZXRlcm1pbmUgaWYgd2UgdXNlZCBnZW9jb2Rpbmcgb3IgY2l0eSBjb2RlXG4gICAgICAgICAgY29uc3QgdXNlZEdlb2NvZGluZyA9ICFnZXRDaXR5Q29kZShsb2NhdGlvbik7XG5cbiAgICAgICAgICBsZXQgbm9SZXN1bHRzTWVzc2FnZSA9IGBIbW0sIEkgY291bGRuJ3QgZmluZCBhbnkgaG90ZWxzIGluIFwiJHtsb2NhdGlvbn1cImA7XG5cbiAgICAgICAgICBpZiAodXNlZEdlb2NvZGluZykge1xuICAgICAgICAgICAgbm9SZXN1bHRzTWVzc2FnZSArPSBgLiBJIHRyaWVkIGdlb2NvZGluZyB0aGlzIGxvY2F0aW9uLCBidXQgY291bGRuJ3QgZmluZCBpdCBvciBubyBob3RlbHMgYXJlIGF2YWlsYWJsZSB0aGVyZWA7XG4gICAgICAgICAgfSBlbHNlIGlmIChwYXJhbURldGFpbHMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgbm9SZXN1bHRzTWVzc2FnZSArPSBgIG1hdGNoaW5nIGFsbCB0aG9zZSByZXF1aXJlbWVudHMgKCR7cGFyYW1EZXRhaWxzLmpvaW4oJywgJyl9KWA7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgbm9SZXN1bHRzTWVzc2FnZSArPSBgLiBMZXQncyB0cnkgc29tZXRoaW5nIGVsc2UhYDtcblxuICAgICAgICAgIGF3YWl0IGFkZE1lc3NhZ2VXaXRoVHlwaW5nKHtcbiAgICAgICAgICAgIGlkOiBEYXRlLm5vdygpLnRvU3RyaW5nKCksXG4gICAgICAgICAgICByb2xlOiAnYXNzaXN0YW50JyxcbiAgICAgICAgICAgIGNvbnRlbnQ6IG5vUmVzdWx0c01lc3NhZ2UsXG4gICAgICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCksXG4gICAgICAgICAgICBzdWdnZXN0aW9uczogW1xuICAgICAgICAgICAgICAnVHJ5IGEgZGlmZmVyZW50IGNpdHknLFxuICAgICAgICAgICAgICAnUmVtb3ZlIGZpbHRlcnMnLFxuICAgICAgICAgICAgICAnU2hvdyBuZWFyYnkgY2l0aWVzJyxcbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgYXdhaXQgYWRkTWVzc2FnZVdpdGhUeXBpbmcoe1xuICAgICAgICAgIGlkOiBEYXRlLm5vdygpLnRvU3RyaW5nKCksXG4gICAgICAgICAgcm9sZTogJ2Fzc2lzdGFudCcsXG4gICAgICAgICAgY29udGVudDogYFBlcmZlY3QhIEkgZm91bmQgJHtob3RlbHMubGVuZ3RofSBhbWF6aW5nIGhvdGVsJHtob3RlbHMubGVuZ3RoID4gMSA/ICdzJyA6ICcnfSBpbiAke2xvY2F0aW9ufSR7cGFyYW1EZXRhaWxzLmxlbmd0aCA+IDAgPyAnIG1hdGNoaW5nIHlvdXIgcHJlZmVyZW5jZXMnIDogJyd9ISBUaGVzZSBhcmUgc29tZSBvZiB0aGUgYmVzdCBvcHRpb25zIC0gdGFrZSBhIGxvb2shYCxcbiAgICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCksXG4gICAgICAgICAgaG90ZWxSZXN1bHRzOiBob3RlbHMsXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm47XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBhd2FpdCBhZGRNZXNzYWdlV2l0aFR5cGluZyh7XG4gICAgICAgICAgaWQ6IERhdGUubm93KCkudG9TdHJpbmcoKSxcbiAgICAgICAgICByb2xlOiAnYXNzaXN0YW50JyxcbiAgICAgICAgICBjb250ZW50OiBcIkF3ZXNvbWUhIEknbGwgaGVscCB5b3UgZmluZCB0aGUgcGVyZmVjdCBob3RlbCEgV2hpY2ggY2l0eSBhcmUgeW91IGludGVyZXN0ZWQgaW4/IEp1c3QgdGVsbCBtZSBsaWtlICdJIG5lZWQgYSBob3RlbCBpbiBQYXJpcydcIixcbiAgICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCksXG4gICAgICAgICAgc3VnZ2VzdGlvbnM6IFtcbiAgICAgICAgICAgICdQYXJpcycsXG4gICAgICAgICAgICAnRHViYWknLFxuICAgICAgICAgICAgJ05ldyBZb3JrJyxcbiAgICAgICAgICBdLFxuICAgICAgICB9KTtcbiAgICAgICAgc2V0SXNMb2FkaW5nKGZhbHNlKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIEhhbmRsZSBjb250ZXh0dWFsIGZvbGxvdy11cCBxdWVyaWVzXG4gICAgaWYgKGNvbnZlcnNhdGlvbkNvbnRleHQubGFzdFNlYXJjaFR5cGUgJiYgIWxvd2VyTWVzc2FnZS5pbmNsdWRlcygnZnJvbScpICYmICFsb3dlck1lc3NhZ2UuaW5jbHVkZXMoJ3RvJykgJiYgIWxvd2VyTWVzc2FnZS5pbmNsdWRlcygnaW4nKSkge1xuICAgICAgLy8gQ2hlY2sgZm9yIHJlZmluZW1lbnQgcXVlcmllcyBsaWtlIFwiY2hlYXBlclwiLCBcIndpdGggcG9vbFwiLCBcImRpcmVjdCBmbGlnaHRzXCJcbiAgICAgIGNvbnN0IGlzUmVmaW5lbWVudCA9IGxvd2VyTWVzc2FnZS5tYXRjaCgvXFxiKGNoZWFwZXJ8bW9yZSBleHBlbnNpdmV8bHV4dXJ5fGJ1ZGdldHx3aXRofGRpcmVjdHxub24tc3RvcHxzaG93fGZpbmQpXFxiL2kpO1xuXG4gICAgICBpZiAoaXNSZWZpbmVtZW50KSB7XG4gICAgICAgIGNvbnN0IG5ld1BhcmFtcyA9IGV4dHJhY3RQYXJhbWV0ZXJzKHVzZXJNZXNzYWdlKTtcbiAgICAgICAgY29uc3QgbWVyZ2VkUGFyYW1zID0geyAuLi5jb252ZXJzYXRpb25Db250ZXh0Lmxhc3RQYXJhbXMsIC4uLm5ld1BhcmFtcyB9O1xuXG4gICAgICAgIGlmIChjb252ZXJzYXRpb25Db250ZXh0Lmxhc3RTZWFyY2hUeXBlID09PSAnZmxpZ2h0JyAmJiBjb252ZXJzYXRpb25Db250ZXh0Lmxhc3RPcmlnaW4gJiYgY29udmVyc2F0aW9uQ29udGV4dC5sYXN0RGVzdGluYXRpb24pIHtcbiAgICAgICAgICBhd2FpdCBhZGRNZXNzYWdlV2l0aFR5cGluZyh7XG4gICAgICAgICAgICBpZDogRGF0ZS5ub3coKS50b1N0cmluZygpLFxuICAgICAgICAgICAgcm9sZTogJ2Fzc2lzdGFudCcsXG4gICAgICAgICAgICBjb250ZW50OiBgQWJzb2x1dGVseSEgTGV0IG1lIHJlZmluZSB0aGF0IHNlYXJjaCBmb3IgeW91Li4uYCxcbiAgICAgICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKSxcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIGNvbnN0IGRlcGFydHVyZURhdGUgPSBtZXJnZWRQYXJhbXMuZGVwYXJ0dXJlRGF0ZSB8fCBjb252ZXJzYXRpb25Db250ZXh0Lmxhc3RQYXJhbXM/LmRlcGFydHVyZURhdGUgfHwgZ2V0RnV0dXJlRGF0ZSg3KTtcbiAgICAgICAgICBjb25zdCBmbGlnaHRzID0gYXdhaXQgc2VhcmNoRmxpZ2h0cyhjb252ZXJzYXRpb25Db250ZXh0Lmxhc3RPcmlnaW4sIGNvbnZlcnNhdGlvbkNvbnRleHQubGFzdERlc3RpbmF0aW9uLCBkZXBhcnR1cmVEYXRlLCBtZXJnZWRQYXJhbXMpO1xuXG4gICAgICAgICAgc2V0Q29udmVyc2F0aW9uQ29udGV4dCh7XG4gICAgICAgICAgICAuLi5jb252ZXJzYXRpb25Db250ZXh0LFxuICAgICAgICAgICAgbGFzdFBhcmFtczogbWVyZ2VkUGFyYW1zLFxuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgc2V0SXNMb2FkaW5nKGZhbHNlKTtcblxuICAgICAgICAgIGlmIChmbGlnaHRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgYXdhaXQgYWRkTWVzc2FnZVdpdGhUeXBpbmcoe1xuICAgICAgICAgICAgICBpZDogRGF0ZS5ub3coKS50b1N0cmluZygpLFxuICAgICAgICAgICAgICByb2xlOiAnYXNzaXN0YW50JyxcbiAgICAgICAgICAgICAgY29udGVudDogYEkgY291bGRuJ3QgZmluZCBmbGlnaHRzIHdpdGggdGhvc2Ugc3BlY2lmaWMgZmlsdGVycy4gV2FudCB0byB0cnkgZGlmZmVyZW50IGNyaXRlcmlhP2AsXG4gICAgICAgICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGF3YWl0IGFkZE1lc3NhZ2VXaXRoVHlwaW5nKHtcbiAgICAgICAgICAgIGlkOiBEYXRlLm5vdygpLnRvU3RyaW5nKCksXG4gICAgICAgICAgICByb2xlOiAnYXNzaXN0YW50JyxcbiAgICAgICAgICAgIGNvbnRlbnQ6IGBIZXJlIHdlIGdvISBGb3VuZCAke2ZsaWdodHMubGVuZ3RofSBmbGlnaHQke2ZsaWdodHMubGVuZ3RoID4gMSA/ICdzJyA6ICcnfSB3aXRoIHlvdXIgdXBkYXRlZCBwcmVmZXJlbmNlcyFgLFxuICAgICAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLFxuICAgICAgICAgICAgZmxpZ2h0UmVzdWx0czogZmxpZ2h0cyxcbiAgICAgICAgICB9KTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoY29udmVyc2F0aW9uQ29udGV4dC5sYXN0U2VhcmNoVHlwZSA9PT0gJ2hvdGVsJyAmJiBjb252ZXJzYXRpb25Db250ZXh0Lmxhc3RMb2NhdGlvbikge1xuICAgICAgICAgIGF3YWl0IGFkZE1lc3NhZ2VXaXRoVHlwaW5nKHtcbiAgICAgICAgICAgIGlkOiBEYXRlLm5vdygpLnRvU3RyaW5nKCksXG4gICAgICAgICAgICByb2xlOiAnYXNzaXN0YW50JyxcbiAgICAgICAgICAgIGNvbnRlbnQ6IGBTdXJlIHRoaW5nISBVcGRhdGluZyB5b3VyIGhvdGVsIHNlYXJjaC4uLmAsXG4gICAgICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCksXG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICBjb25zdCBjaGVja0luRGF0ZSA9IG1lcmdlZFBhcmFtcy5jaGVja0luRGF0ZSB8fCBjb252ZXJzYXRpb25Db250ZXh0Lmxhc3RQYXJhbXM/LmNoZWNrSW5EYXRlIHx8IGdldEZ1dHVyZURhdGUoNyk7XG4gICAgICAgICAgY29uc3QgY2hlY2tPdXREYXRlID0gbWVyZ2VkUGFyYW1zLmNoZWNrT3V0RGF0ZSB8fCBjb252ZXJzYXRpb25Db250ZXh0Lmxhc3RQYXJhbXM/LmNoZWNrT3V0RGF0ZSB8fCBnZXRGdXR1cmVEYXRlKDkpO1xuICAgICAgICAgIGNvbnN0IGhvdGVscyA9IGF3YWl0IHNlYXJjaEhvdGVscyhjb252ZXJzYXRpb25Db250ZXh0Lmxhc3RMb2NhdGlvbiwgY2hlY2tJbkRhdGUsIGNoZWNrT3V0RGF0ZSwgbWVyZ2VkUGFyYW1zKTtcblxuICAgICAgICAgIHNldENvbnZlcnNhdGlvbkNvbnRleHQoe1xuICAgICAgICAgICAgLi4uY29udmVyc2F0aW9uQ29udGV4dCxcbiAgICAgICAgICAgIGxhc3RQYXJhbXM6IG1lcmdlZFBhcmFtcyxcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIHNldElzTG9hZGluZyhmYWxzZSk7XG5cbiAgICAgICAgICBpZiAoaG90ZWxzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgYXdhaXQgYWRkTWVzc2FnZVdpdGhUeXBpbmcoe1xuICAgICAgICAgICAgICBpZDogRGF0ZS5ub3coKS50b1N0cmluZygpLFxuICAgICAgICAgICAgICByb2xlOiAnYXNzaXN0YW50JyxcbiAgICAgICAgICAgICAgY29udGVudDogYEhtbSwgbm8gaG90ZWxzIG1hdGNoIHRob3NlIHNwZWNpZmljIHJlcXVpcmVtZW50cy4gV2FudCB0byBicm9hZGVuIHRoZSBzZWFyY2g/YCxcbiAgICAgICAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgYXdhaXQgYWRkTWVzc2FnZVdpdGhUeXBpbmcoe1xuICAgICAgICAgICAgaWQ6IERhdGUubm93KCkudG9TdHJpbmcoKSxcbiAgICAgICAgICAgIHJvbGU6ICdhc3Npc3RhbnQnLFxuICAgICAgICAgICAgY29udGVudDogYFBlcmZlY3QhIEhlcmUgYXJlICR7aG90ZWxzLmxlbmd0aH0gaG90ZWwke2hvdGVscy5sZW5ndGggPiAxID8gJ3MnIDogJyd9IHdpdGggeW91ciBuZXcgZmlsdGVycyFgLFxuICAgICAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLFxuICAgICAgICAgICAgaG90ZWxSZXN1bHRzOiBob3RlbHMsXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gVGhhbmtzL2FwcHJlY2lhdGlvblxuICAgIGlmIChsb3dlck1lc3NhZ2UubWF0Y2goLyh0aGFua3N8dGhhbmsgeW91fGFwcHJlY2lhdGUpL2kpKSB7XG4gICAgICBhd2FpdCBhZGRNZXNzYWdlV2l0aFR5cGluZyh7XG4gICAgICAgIGlkOiBEYXRlLm5vdygpLnRvU3RyaW5nKCksXG4gICAgICAgIHJvbGU6ICdhc3Npc3RhbnQnLFxuICAgICAgICBjb250ZW50OiBcIllvdSdyZSB2ZXJ5IHdlbGNvbWUhIPCfmIogSXQncyBteSBwbGVhc3VyZSB0byBoZWxwISBOZWVkIGFueXRoaW5nIGVsc2UgZm9yIHlvdXIgdHJpcD9cIixcbiAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLFxuICAgICAgfSk7XG4gICAgICBzZXRJc0xvYWRpbmcoZmFsc2UpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIFZlcnkgdmFndWUgdHJhdmVsIGludGVyZXN0IHdpdGhvdXQgZGVzdGluYXRpb25cbiAgICBpZiAobG93ZXJNZXNzYWdlLm1hdGNoKC9cXGIoZmVlbCBsaWtlfHdhbnQgdG98dGhpbmtpbmcgYWJvdXR8cGxhbm5pbmcpXFxzKyh0cmF2ZWx8dHJhdmVsbGluZ3x0cmF2ZWxpbmd8dHJpcHx2YWNhdGlvbnxob2xpZGF5KVxcYi9pKSkge1xuICAgICAgYXdhaXQgYWRkTWVzc2FnZVdpdGhUeXBpbmcoe1xuICAgICAgICBpZDogRGF0ZS5ub3coKS50b1N0cmluZygpLFxuICAgICAgICByb2xlOiAnYXNzaXN0YW50JyxcbiAgICAgICAgY29udGVudDogXCJUaGF0J3MgZXhjaXRpbmchIOKciO+4jyBJJ2QgbG92ZSB0byBoZWxwIHlvdSBwbGFuIHlvdXIgdHJpcCEgV2hlcmUgYXJlIHlvdSB0aGlua2luZyBvZiBnb2luZz9cIixcbiAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLFxuICAgICAgICBzdWdnZXN0aW9uczogW1xuICAgICAgICAgICdEdWJhaScsXG4gICAgICAgICAgJ1BhcmlzJyxcbiAgICAgICAgICAnTmV3IFlvcmsnLFxuICAgICAgICAgICdMb25kb24nLFxuICAgICAgICBdLFxuICAgICAgfSk7XG4gICAgICBzZXRJc0xvYWRpbmcoZmFsc2UpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIEdlbmVyYWwgdHJhdmVsIGludGVudCAtIG1lbnRpb25zIGdvaW5nIHNvbWV3aGVyZSBidXQgbm90IHNwZWNpZmljIGVub3VnaFxuICAgIGNvbnN0IGdlbmVyYWxUcmF2ZWxNYXRjaCA9IGxvd2VyTWVzc2FnZS5tYXRjaCgvKD86d2FudCB0b3xnb2luZyB0b3x0cmlwIHRvfHZpc2l0fHRyYXZlbCB0b3xoZWFkZWQgdG8pXFxzKyhbYS16XFxzXSspL2kpO1xuICAgIGlmIChnZW5lcmFsVHJhdmVsTWF0Y2gpIHtcbiAgICAgIGNvbnN0IGRlc3RpbmF0aW9uID0gZ2VuZXJhbFRyYXZlbE1hdGNoWzFdLnRyaW0oKTtcblxuICAgICAgYXdhaXQgYWRkTWVzc2FnZVdpdGhUeXBpbmcoe1xuICAgICAgICBpZDogRGF0ZS5ub3coKS50b1N0cmluZygpLFxuICAgICAgICByb2xlOiAnYXNzaXN0YW50JyxcbiAgICAgICAgY29udGVudDogYEF3ZXNvbWUhICR7ZGVzdGluYXRpb24uY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyBkZXN0aW5hdGlvbi5zbGljZSgxKX0gc291bmRzIGFtYXppbmchIFdoYXQgZG8geW91IG5lZWQgaGVscCB3aXRoP2AsXG4gICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKSxcbiAgICAgICAgc3VnZ2VzdGlvbnM6IFtcbiAgICAgICAgICBgRmxpZ2h0IHRvICR7ZGVzdGluYXRpb24uY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyBkZXN0aW5hdGlvbi5zbGljZSgxKX1gLFxuICAgICAgICAgIGBIb3RlbHMgaW4gJHtkZXN0aW5hdGlvbi5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIGRlc3RpbmF0aW9uLnNsaWNlKDEpfWAsXG4gICAgICAgICAgYEJvdGggZmxpZ2h0IGFuZCBob3RlbGAsXG4gICAgICAgIF0sXG4gICAgICB9KTtcbiAgICAgIHNldElzTG9hZGluZyhmYWxzZSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gRGVmYXVsdCByZXNwb25zZSB3aXRoIHBlcnNvbmFsaXR5XG4gICAgc2V0SXNMb2FkaW5nKGZhbHNlKTtcbiAgICBhd2FpdCBhZGRNZXNzYWdlV2l0aFR5cGluZyh7XG4gICAgICBpZDogRGF0ZS5ub3coKS50b1N0cmluZygpLFxuICAgICAgcm9sZTogJ2Fzc2lzdGFudCcsXG4gICAgICBjb250ZW50OiBcIkhtbSwgSSdtIG5vdCBxdWl0ZSBzdXJlIHdoYXQgeW91J3JlIGxvb2tpbmcgZm9yLiBCdXQgZG9uJ3Qgd29ycnksIEknbSBoZXJlIHRvIGhlbHAhIFxcblxcbkkgY2FuIGhlbHAgeW91IHdpdGg6XFxu4oCiIEZpbmRpbmcgYW5kIGJvb2tpbmcgZmxpZ2h0cyAoYnkgcHJpY2UsIGNhYmluIGNsYXNzLCBkaXJlY3QvY29ubmVjdGluZylcXG7igKIgU2VhcmNoaW5nIGZvciBhbWF6aW5nIGhvdGVscyAoYnkgYnVkZ2V0LCBhbWVuaXRpZXMsIHJhdGluZ3MpXFxuXFxuSnVzdCB0ZWxsIG1lIHdoYXQgeW91IG5lZWQgaW4geW91ciBvd24gd29yZHMhXCIsXG4gICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCksXG4gICAgICBzdWdnZXN0aW9uczogW1xuICAgICAgICAnRmxpZ2h0IGZyb20gTGFnb3MgdG8gTG9uZG9uIHVuZGVyICQ1MDAnLFxuICAgICAgICAnTHV4dXJ5IGhvdGVscyBpbiBQYXJpcyB3aXRoIHBvb2wnLFxuICAgICAgICAnRGlyZWN0IGZsaWdodHMgdG8gRHViYWknLFxuICAgICAgICAnQnVkZ2V0IGhvdGVsIHdpdGggV2lGaSBhbmQgcGFya2luZycsXG4gICAgICBdLFxuICAgIH0pO1xuICB9O1xuXG4gIGNvbnN0IGhhbmRsZVNlbmRNZXNzYWdlID0gYXN5bmMgKG1lc3NhZ2VUZXh0Pzogc3RyaW5nKSA9PiB7XG4gICAgY29uc3QgdGV4dCA9IG1lc3NhZ2VUZXh0IHx8IGlucHV0VmFsdWUudHJpbSgpO1xuICAgIGlmICghdGV4dCB8fCBpc0xvYWRpbmcpIHJldHVybjtcblxuICAgIGNvbnN0IHVzZXJNZXNzYWdlOiBNZXNzYWdlID0ge1xuICAgICAgaWQ6IERhdGUubm93KCkudG9TdHJpbmcoKSxcbiAgICAgIHJvbGU6ICd1c2VyJyxcbiAgICAgIGNvbnRlbnQ6IHRleHQsXG4gICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCksXG4gICAgfTtcblxuICAgIHNldE1lc3NhZ2VzKChwcmV2KSA9PiBbLi4ucHJldiwgdXNlck1lc3NhZ2VdKTtcbiAgICBzZXRJbnB1dFZhbHVlKCcnKTtcblxuICAgIC8vIFVwZGF0ZSBjb252ZXJzYXRpb24gaGlzdG9yeSBmb3IgQ2xhdWRlXG4gICAgc2V0Q29udmVyc2F0aW9uSGlzdG9yeSgocHJldikgPT4gW1xuICAgICAgLi4ucHJldixcbiAgICAgIHsgcm9sZTogJ3VzZXInLCBjb250ZW50OiB0ZXh0IH0sXG4gICAgXSk7XG5cbiAgICBhd2FpdCBwYXJzZVVzZXJJbnRlbnQodGV4dCk7XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlU3VnZ2VzdGlvbkNsaWNrID0gKHN1Z2dlc3Rpb246IHN0cmluZykgPT4ge1xuICAgIGhhbmRsZVNlbmRNZXNzYWdlKHN1Z2dlc3Rpb24udHJpbSgpKTtcbiAgfTtcblxuICBjb25zdCBoYW5kbGVWaWV3RGV0YWlscyA9IGFzeW5jICh0eXBlOiAnZmxpZ2h0JyB8ICdob3RlbCcsIGl0ZW06IGFueSkgPT4ge1xuICAgIHNldEJvb2tpbmdGbG93KHtcbiAgICAgIGFjdGl2ZTogdHJ1ZSxcbiAgICAgIHR5cGUsXG4gICAgICBzZWxlY3RlZEl0ZW06IGl0ZW0sXG4gICAgICBzdGVwOiAnY29uZmlybScsXG4gICAgfSk7XG5cbiAgICBhd2FpdCBhZGRNZXNzYWdlV2l0aFR5cGluZyh7XG4gICAgICBpZDogRGF0ZS5ub3coKS50b1N0cmluZygpLFxuICAgICAgcm9sZTogJ2Fzc2lzdGFudCcsXG4gICAgICBjb250ZW50OiBgJHtnZXRSYW5kb21SZXNwb25zZSgnZXhjaXRlbWVudCcpfSBZb3UgcGlja2VkIGEgZ3JlYXQgb25lISBMZXQgbWUgZ2V0IHRoYXQgYm9va2luZyByZWFkeSBmb3IgeW91Li4uIPCfk51gLFxuICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLFxuICAgIH0pO1xuICB9O1xuXG4gIGNvbnN0IGhhbmRsZVZpZXdNb3JlID0gKHR5cGU6ICdmbGlnaHQnIHwgJ2hvdGVsJykgPT4ge1xuICAgIGNvbnN0IGVuY291cmFnZW1lbnQgPSBcIldhbnQgdG8gc2VlIGFsbCB0aGUgb3B0aW9ucz8gTGV0IG1lIHRha2UgeW91IHRvIHRoZSBmdWxsIHNlYXJjaCBwYWdlISDwn5qAXCI7XG5cbiAgICBhZGRNZXNzYWdlV2l0aFR5cGluZyh7XG4gICAgICBpZDogRGF0ZS5ub3coKS50b1N0cmluZygpLFxuICAgICAgcm9sZTogJ2Fzc2lzdGFudCcsXG4gICAgICBjb250ZW50OiBlbmNvdXJhZ2VtZW50LFxuICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLFxuICAgIH0pO1xuXG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBzZXRJc09wZW4oZmFsc2UpO1xuXG4gICAgICBpZiAodHlwZSA9PT0gJ2ZsaWdodCcgJiYgY29udmVyc2F0aW9uQ29udGV4dC5sYXN0T3JpZ2luICYmIGNvbnZlcnNhdGlvbkNvbnRleHQubGFzdERlc3RpbmF0aW9uKSB7XG4gICAgICAgIC8vIEJ1aWxkIHF1ZXJ5IHBhcmFtcyBmb3IgZmxpZ2h0IHNlYXJjaFxuICAgICAgICBjb25zdCBwYXJhbXMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKHtcbiAgICAgICAgICBvcmlnaW46IGNvbnZlcnNhdGlvbkNvbnRleHQubGFzdE9yaWdpbixcbiAgICAgICAgICBkZXN0aW5hdGlvbjogY29udmVyc2F0aW9uQ29udGV4dC5sYXN0RGVzdGluYXRpb24sXG4gICAgICAgICAgZnJvbUFJOiAndHJ1ZScsIC8vIEZsYWcgdG8gaW5kaWNhdGUgdGhpcyBjYW1lIGZyb20gQUkgY2hhdFxuICAgICAgICAgIC4uLihjb252ZXJzYXRpb25Db250ZXh0Lmxhc3RQYXJhbXM/LmRlcGFydHVyZURhdGUgJiYge1xuICAgICAgICAgICAgZGVwYXJ0dXJlRGF0ZTogY29udmVyc2F0aW9uQ29udGV4dC5sYXN0UGFyYW1zLmRlcGFydHVyZURhdGVcbiAgICAgICAgICB9KSxcbiAgICAgICAgICAuLi4oY29udmVyc2F0aW9uQ29udGV4dC5sYXN0UGFyYW1zPy5yZXR1cm5EYXRlICYmIHtcbiAgICAgICAgICAgIHJldHVybkRhdGU6IGNvbnZlcnNhdGlvbkNvbnRleHQubGFzdFBhcmFtcy5yZXR1cm5EYXRlXG4gICAgICAgICAgfSksXG4gICAgICAgICAgLi4uKGNvbnZlcnNhdGlvbkNvbnRleHQubGFzdFBhcmFtcz8uYWR1bHRzICYmIHtcbiAgICAgICAgICAgIGFkdWx0czogY29udmVyc2F0aW9uQ29udGV4dC5sYXN0UGFyYW1zLmFkdWx0cy50b1N0cmluZygpXG4gICAgICAgICAgfSksXG4gICAgICAgICAgLi4uKGNvbnZlcnNhdGlvbkNvbnRleHQubGFzdFBhcmFtcz8ubWF4UHJpY2UgJiYge1xuICAgICAgICAgICAgbWF4UHJpY2U6IGNvbnZlcnNhdGlvbkNvbnRleHQubGFzdFBhcmFtcy5tYXhQcmljZS50b1N0cmluZygpXG4gICAgICAgICAgfSksXG4gICAgICAgICAgLi4uKGNvbnZlcnNhdGlvbkNvbnRleHQubGFzdFBhcmFtcz8uZGlyZWN0RmxpZ2h0ICE9PSB1bmRlZmluZWQgJiYge1xuICAgICAgICAgICAgZGlyZWN0RmxpZ2h0OiBjb252ZXJzYXRpb25Db250ZXh0Lmxhc3RQYXJhbXMuZGlyZWN0RmxpZ2h0LnRvU3RyaW5nKClcbiAgICAgICAgICB9KSxcbiAgICAgICAgfSk7XG4gICAgICAgIHJvdXRlci5wdXNoKGAvZGFzaGJvYXJkL2ZsaWdodHMvc2VhcmNoPyR7cGFyYW1zLnRvU3RyaW5nKCl9YCk7XG4gICAgICB9IGVsc2UgaWYgKHR5cGUgPT09ICdob3RlbCcgJiYgY29udmVyc2F0aW9uQ29udGV4dC5sYXN0TG9jYXRpb24pIHtcbiAgICAgICAgLy8gQnVpbGQgcXVlcnkgcGFyYW1zIGZvciBob3RlbCBzZWFyY2hcbiAgICAgICAgY29uc3QgcGFyYW1zID0gbmV3IFVSTFNlYXJjaFBhcmFtcyh7XG4gICAgICAgICAgbG9jYXRpb246IGNvbnZlcnNhdGlvbkNvbnRleHQubGFzdExvY2F0aW9uLFxuICAgICAgICAgIGZyb21BSTogJ3RydWUnLCAvLyBGbGFnIHRvIGluZGljYXRlIHRoaXMgY2FtZSBmcm9tIEFJIGNoYXRcbiAgICAgICAgICAuLi4oY29udmVyc2F0aW9uQ29udGV4dC5sYXN0UGFyYW1zPy5jaGVja0luRGF0ZSAmJiB7XG4gICAgICAgICAgICBjaGVja0luRGF0ZTogY29udmVyc2F0aW9uQ29udGV4dC5sYXN0UGFyYW1zLmNoZWNrSW5EYXRlXG4gICAgICAgICAgfSksXG4gICAgICAgICAgLi4uKGNvbnZlcnNhdGlvbkNvbnRleHQubGFzdFBhcmFtcz8uY2hlY2tPdXREYXRlICYmIHtcbiAgICAgICAgICAgIGNoZWNrT3V0RGF0ZTogY29udmVyc2F0aW9uQ29udGV4dC5sYXN0UGFyYW1zLmNoZWNrT3V0RGF0ZVxuICAgICAgICAgIH0pLFxuICAgICAgICAgIC4uLihjb252ZXJzYXRpb25Db250ZXh0Lmxhc3RQYXJhbXM/LmFkdWx0cyAmJiB7XG4gICAgICAgICAgICBhZHVsdHM6IGNvbnZlcnNhdGlvbkNvbnRleHQubGFzdFBhcmFtcy5hZHVsdHMudG9TdHJpbmcoKVxuICAgICAgICAgIH0pLFxuICAgICAgICAgIC4uLihjb252ZXJzYXRpb25Db250ZXh0Lmxhc3RQYXJhbXM/Lm1heFByaWNlICYmIHtcbiAgICAgICAgICAgIG1heFByaWNlOiBjb252ZXJzYXRpb25Db250ZXh0Lmxhc3RQYXJhbXMubWF4UHJpY2UudG9TdHJpbmcoKVxuICAgICAgICAgIH0pLFxuICAgICAgICAgIC4uLihjb252ZXJzYXRpb25Db250ZXh0Lmxhc3RQYXJhbXM/Lm1pblJhdGluZyAmJiB7XG4gICAgICAgICAgICBtaW5SYXRpbmc6IGNvbnZlcnNhdGlvbkNvbnRleHQubGFzdFBhcmFtcy5taW5SYXRpbmcudG9TdHJpbmcoKVxuICAgICAgICAgIH0pLFxuICAgICAgICB9KTtcbiAgICAgICAgcm91dGVyLnB1c2goYC9kYXNoYm9hcmQvaG90ZWxzL3NlYXJjaD8ke3BhcmFtcy50b1N0cmluZygpfWApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gRmFsbGJhY2sgdG8gYmFzaWMgc2VhcmNoIHBhZ2UgaWYgY29udGV4dCBpcyBtaXNzaW5nXG4gICAgICAgIGlmICh0eXBlID09PSAnZmxpZ2h0Jykge1xuICAgICAgICAgIHJvdXRlci5wdXNoKCcvZGFzaGJvYXJkL2ZsaWdodHMvc2VhcmNoJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcm91dGVyLnB1c2goJy9kYXNoYm9hcmQvaG90ZWxzL3NlYXJjaCcpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSwgNTAwKTtcbiAgfTtcblxuICBjb25zdCBoYW5kbGVDb25maXJtQm9va2luZyA9IGFzeW5jICgpID0+IHtcbiAgICBpZiAoIWJvb2tpbmdGbG93KSByZXR1cm47XG5cbiAgICBhd2FpdCBhZGRNZXNzYWdlV2l0aFR5cGluZyh7XG4gICAgICBpZDogRGF0ZS5ub3coKS50b1N0cmluZygpLFxuICAgICAgcm9sZTogJ2Fzc2lzdGFudCcsXG4gICAgICBjb250ZW50OiBnZXRSYW5kb21SZXNwb25zZSgnYm9va2luZ1N1Y2Nlc3MnKSxcbiAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKSxcbiAgICAgIGJvb2tpbmdDb25maXJtYXRpb246IHtcbiAgICAgICAgdHlwZTogYm9va2luZ0Zsb3cudHlwZSxcbiAgICAgICAgZGV0YWlsczogYm9va2luZ0Zsb3cuc2VsZWN0ZWRJdGVtLFxuICAgICAgICB0b3RhbDogYm9va2luZ0Zsb3cuc2VsZWN0ZWRJdGVtLnByaWNlLFxuICAgICAgfSxcbiAgICB9KTtcblxuICAgIHNldEJvb2tpbmdGbG93KG51bGwpO1xuXG4gICAgLy8gQWRkIGEgZm9sbG93LXVwIG1lc3NhZ2VcbiAgICBzZXRUaW1lb3V0KGFzeW5jICgpID0+IHtcbiAgICAgIGF3YWl0IGFkZE1lc3NhZ2VXaXRoVHlwaW5nKHtcbiAgICAgICAgaWQ6IERhdGUubm93KCkudG9TdHJpbmcoKSxcbiAgICAgICAgcm9sZTogJ2Fzc2lzdGFudCcsXG4gICAgICAgIGNvbnRlbnQ6IFwiSXMgdGhlcmUgYW55dGhpbmcgZWxzZSBJIGNhbiBoZWxwIHlvdSB3aXRoPyBNYXliZSBhZGQgYSBob3RlbCB0byBnbyB3aXRoIHRoYXQgZmxpZ2h0PyBPciBhbm90aGVyIGRlc3RpbmF0aW9uP1wiLFxuICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCksXG4gICAgICAgIHN1Z2dlc3Rpb25zOiBbXG4gICAgICAgICAgJ0ZpbmQgbWUgYSBob3RlbCB0b28nLFxuICAgICAgICAgICdCb29rIGFub3RoZXIgdHJpcCcsXG4gICAgICAgICAgXCJObywgSSdtIGFsbCBzZXQhXCIsXG4gICAgICAgIF0sXG4gICAgICB9KTtcbiAgICB9LCAyMDAwKTtcbiAgfTtcblxuICByZXR1cm4gKFxuICAgIDw+XG4gICAgICB7LyogRmxvYXRpbmcgQ2hhdCBCdXR0b24gLSBPbmx5IHNob3cgd2hlbiBub3QgaW4gbW9kYWwgbW9kZSAqL31cbiAgICAgIHshaXNPcGVuICYmICFmb3JjZU9wZW4gJiYgKFxuICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgb25DbGljaz17KCkgPT4gc2V0SXNPcGVuKHRydWUpfVxuICAgICAgICAgIGNsYXNzTmFtZT1cImZpeGVkIGJvdHRvbS02IHJpZ2h0LTYgei00MCBncm91cFwiXG4gICAgICAgID5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFic29sdXRlIGluc2V0LTAgYmctZ3JhZGllbnQtdG8tciBmcm9tLWJsdWUtNjAwIHRvLXB1cnBsZS02MDAgcm91bmRlZC1mdWxsIGJsdXIteGwgb3BhY2l0eS01MCBncm91cC1ob3ZlcjpvcGFjaXR5LTc1IHRyYW5zaXRpb24gYW5pbWF0ZS1wdWxzZVwiPjwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicmVsYXRpdmUgZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTIgbWQ6Z2FwLTMgcHgtNCBtZDpweC02IHB5LTMgbWQ6cHktNCBiZy1ncmFkaWVudC10by1yIGZyb20tYmx1ZS02MDAgdG8tcHVycGxlLTYwMCByb3VuZGVkLWZ1bGwgc2hhZG93LTJ4bCBob3ZlcjpzaGFkb3ctM3hsIHRyYW5zaXRpb24tYWxsIGhvdmVyOnNjYWxlLTEwNVwiPlxuICAgICAgICAgICAgPFNwYXJrbGVzIGNsYXNzTmFtZT1cInctNCBoLTQgbWQ6dy01IG1kOmgtNSB0ZXh0LXdoaXRlIGFuaW1hdGUtcHVsc2VcIiAvPlxuICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC13aGl0ZSBmb250LXNlbWlib2xkIHRleHQtc20gbWQ6dGV4dC1iYXNlXCI+Q2hhdCB3aXRoIEFJPC9zcGFuPlxuICAgICAgICAgICAgPE1lc3NhZ2VDaXJjbGUgY2xhc3NOYW1lPVwidy00IGgtNCBtZDp3LTUgbWQ6aC01IHRleHQtd2hpdGVcIiAvPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgICl9XG5cbiAgICAgIHsvKiBDaGF0IFdpbmRvdyAqL31cbiAgICAgIHtpc09wZW4gJiYgKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT17Zm9yY2VPcGVuXG4gICAgICAgICAgPyBcInctZnVsbCBoLWZ1bGwgZmxleCBmbGV4LWNvbCBiZy13aGl0ZSBvdmVyZmxvdy1oaWRkZW5cIlxuICAgICAgICAgIDogXCJmaXhlZCBpbnNldC0wIG1kOmluc2V0LWF1dG8gbWQ6Ym90dG9tLTYgbWQ6cmlnaHQtNiB6LTUwIG1kOnctWzQ4MHB4XSBtZDpoLVs3MDBweF0gZmxleCBmbGV4LWNvbCBiZy13aGl0ZSBtZDpyb3VuZGVkLTN4bCBzaGFkb3ctMnhsIGJvcmRlci0wIG1kOmJvcmRlciBtZDpib3JkZXItZ3JheS0yMDAgb3ZlcmZsb3ctaGlkZGVuXCJcbiAgICAgICAgfT5cbiAgICAgICAgICB7LyogSGVhZGVyICovfVxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicmVsYXRpdmUgYmctZ3JhZGllbnQtdG8tciBmcm9tLWJsdWUtNjAwIHRvLXB1cnBsZS02MDAgcC00IG1kOnAtNlwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhYnNvbHV0ZSBpbnNldC0wIGJnLWdyYWRpZW50LXRvLXIgZnJvbS1ibHVlLTYwMCB0by1wdXJwbGUtNjAwIG9wYWNpdHktOTBcIj48L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicmVsYXRpdmUgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuXCI+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTIgbWQ6Z2FwLTNcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInAtMS41IG1kOnAtMiBiZy13aGl0ZS8yMCBiYWNrZHJvcC1ibHVyLXhsIHJvdW5kZWQtbGcgbWQ6cm91bmRlZC14bFwiPlxuICAgICAgICAgICAgICAgICAgPFNwYXJrbGVzIGNsYXNzTmFtZT1cInctNCBoLTQgbWQ6dy01IG1kOmgtNSB0ZXh0LXdoaXRlIGFuaW1hdGUtcHVsc2VcIiAvPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICA8aDMgY2xhc3NOYW1lPVwidGV4dC1iYXNlIG1kOnRleHQtbGcgZm9udC1ib2xkIHRleHQtd2hpdGVcIj5Zb3VyIFRyYXZlbCBCdWRkeTwvaDM+XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0xLjUgbWQ6Z2FwLTJcIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTEuNSBoLTEuNSBtZDp3LTIgbWQ6aC0yIGJnLWdyZWVuLTQwMCByb3VuZGVkLWZ1bGwgYW5pbWF0ZS1wdWxzZVwiPjwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LVsxMHB4XSBtZDp0ZXh0LXhzIHRleHQtYmx1ZS0xMDBcIj5PbmxpbmUgJiByZWFkeSB0byBoZWxwITwvcD5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNldElzT3BlbihmYWxzZSl9XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicC0yIGhvdmVyOmJnLXdoaXRlLzIwIHJvdW5kZWQtbGcgbWQ6cm91bmRlZC14bCB0cmFuc2l0aW9uIGZsZXgtc2hyaW5rLTBcIlxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgPFggY2xhc3NOYW1lPVwidy01IGgtNSBtZDp3LTYgbWQ6aC02IHRleHQtd2hpdGVcIiAvPlxuICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgey8qIE1lc3NhZ2VzICovfVxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleC0xIG92ZXJmbG93LXktYXV0byBwLTMgbWQ6cC02IHNwYWNlLXktMyBtZDpzcGFjZS15LTQgYmctZ3JhZGllbnQtdG8tYnIgZnJvbS1ncmF5LTUwIHRvLWJsdWUtNTAvMjBcIj5cbiAgICAgICAgICAgIHttZXNzYWdlcy5tYXAoKG1lc3NhZ2UpID0+IChcbiAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgIGtleT17bWVzc2FnZS5pZH1cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2BmbGV4ICR7bWVzc2FnZS5yb2xlID09PSAndXNlcicgPyAnanVzdGlmeS1lbmQnIDogJ2p1c3RpZnktc3RhcnQnfWB9XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2BtYXgtdy1bOTAlXSBtZDptYXgtdy1bODUlXSAke1xuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnJvbGUgPT09ICd1c2VyJ1xuICAgICAgICAgICAgICAgICAgICAgID8gJ2JnLWdyYWRpZW50LXRvLXIgZnJvbS1ibHVlLTYwMCB0by1wdXJwbGUtNjAwIHRleHQtd2hpdGUnXG4gICAgICAgICAgICAgICAgICAgICAgOiAnYmctd2hpdGUgYm9yZGVyIGJvcmRlci1ncmF5LTIwMCdcbiAgICAgICAgICAgICAgICAgIH0gcm91bmRlZC14bCBtZDpyb3VuZGVkLTJ4bCBwLTMgbWQ6cC00IHNoYWRvdy1tZGB9XG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAge21lc3NhZ2Uucm9sZSA9PT0gJ2Fzc2lzdGFudCcgJiYgKFxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0yIG1iLTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInAtMS41IGJnLWdyYWRpZW50LXRvLXIgZnJvbS1ibHVlLTYwMCB0by1wdXJwbGUtNjAwIHJvdW5kZWQtbGdcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxTcGFya2xlcyBjbGFzc05hbWU9XCJ3LTMgaC0zIHRleHQtd2hpdGVcIiAvPlxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQteHMgZm9udC1zZW1pYm9sZCB0ZXh0LWdyYXktNzAwXCI+QUkgQXNzaXN0YW50PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICA8cFxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2B0ZXh0LXNtIGxlYWRpbmctcmVsYXhlZCB3aGl0ZXNwYWNlLXByZS1saW5lICR7XG4gICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5yb2xlID09PSAndXNlcicgPyAndGV4dC13aGl0ZScgOiAndGV4dC1ncmF5LTgwMCdcbiAgICAgICAgICAgICAgICAgICAgfWB9XG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIHttZXNzYWdlLmNvbnRlbnR9XG4gICAgICAgICAgICAgICAgICA8L3A+XG5cbiAgICAgICAgICAgICAgICAgIHsvKiBGbGlnaHQgUmVzdWx0cyAqL31cbiAgICAgICAgICAgICAgICAgIHttZXNzYWdlLmZsaWdodFJlc3VsdHMgJiYgbWVzc2FnZS5mbGlnaHRSZXN1bHRzLmxlbmd0aCA+IDAgJiYgKFxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm10LTQgc3BhY2UteS0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAge21lc3NhZ2UuZmxpZ2h0UmVzdWx0cy5zbGljZSgwLCAyKS5tYXAoKGZsaWdodCkgPT4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk9e2ZsaWdodC5pZH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYmctZ3JhZGllbnQtdG8tYnIgZnJvbS1ibHVlLTUwIHRvLXB1cnBsZS01MCBib3JkZXItMiBib3JkZXItYmx1ZS0yMDAgcm91bmRlZC14bCBwLTQgaG92ZXI6Ym9yZGVyLWJsdWUtNDAwIHRyYW5zaXRpb24tYWxsIGhvdmVyOnNoYWRvdy1sZ1wiXG4gICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1zdGFydCBqdXN0aWZ5LWJldHdlZW4gbWItM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicC0yIGJnLWJsdWUtNjAwIHJvdW5kZWQtbGdcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFBsYW5lIGNsYXNzTmFtZT1cInctNSBoLTUgdGV4dC13aGl0ZVwiIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZm9udC1ib2xkIHRleHQtZ3JheS05MDAgdGV4dC1zbVwiPntmbGlnaHQuYWlybGluZX08L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtZ3JheS02MDBcIj57ZmxpZ2h0LnJvdXRlfTwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXJpZ2h0XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQteGwgZm9udC1ib2xkIHRleHQtYmx1ZS02MDBcIj4ke2ZsaWdodC5wcmljZX08L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LWdyYXktNjAwXCI+cGVyIHBlcnNvbjwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW4gdGV4dC14cyB0ZXh0LWdyYXktNzAwIG1iLTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0xXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2xvY2sgY2xhc3NOYW1lPVwidy0zIGgtM1wiIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3Bhbj57ZmxpZ2h0LmR1cmF0aW9ufTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInB4LTIgcHktMSBiZy1ncmVlbi0xMDAgdGV4dC1ncmVlbi03MDAgcm91bmRlZC1mdWxsIGZvbnQtbWVkaXVtXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZmxpZ2h0LnN0b3BzID09PSAwID8gJ0RpcmVjdCDinKgnIDogYCR7ZmxpZ2h0LnN0b3BzfSBzdG9wJHtmbGlnaHQuc3RvcHMgPiAxID8gJ3MnIDogJyd9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBoYW5kbGVWaWV3RGV0YWlscygnZmxpZ2h0JywgZmxpZ2h0KX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgcHgtNCBweS0yIGJnLWdyYWRpZW50LXRvLXIgZnJvbS1ibHVlLTYwMCB0by1wdXJwbGUtNjAwIHRleHQtd2hpdGUgcm91bmRlZC1sZyBmb250LW1lZGl1bSBob3ZlcjpzaGFkb3ctbGcgdHJhbnNpdGlvbi1hbGwgdGV4dC1zbSBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBnYXAtMlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBZZXMhIEJvb2sgVGhpcyBPbmVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8VGh1bWJzVXAgY2xhc3NOYW1lPVwidy00IGgtNFwiIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gaGFuZGxlVmlld01vcmUoJ2ZsaWdodCcpfVxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIHB4LTQgcHktMiBiZy13aGl0ZSBib3JkZXItMiBib3JkZXItYmx1ZS02MDAgdGV4dC1ibHVlLTYwMCByb3VuZGVkLWxnIGZvbnQtbWVkaXVtIGhvdmVyOmJnLWJsdWUtNTAgdHJhbnNpdGlvbi1hbGwgdGV4dC1zbVwiXG4gICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgU2hvdyBNZSBBbGwge21lc3NhZ2UuZmxpZ2h0UmVzdWx0cy5sZW5ndGh9IE9wdGlvbnMg4oaSXG4gICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgKX1cblxuICAgICAgICAgICAgICAgICAgey8qIEhvdGVsIFJlc3VsdHMgKi99XG4gICAgICAgICAgICAgICAgICB7bWVzc2FnZS5ob3RlbFJlc3VsdHMgJiYgbWVzc2FnZS5ob3RlbFJlc3VsdHMubGVuZ3RoID4gMCAmJiAoXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXQtNCBzcGFjZS15LTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICB7bWVzc2FnZS5ob3RlbFJlc3VsdHMuc2xpY2UoMCwgMikubWFwKChob3RlbCkgPT4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk9e2hvdGVsLmlkfVxuICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJiZy1ncmFkaWVudC10by1iciBmcm9tLXB1cnBsZS01MCB0by1waW5rLTUwIGJvcmRlci0yIGJvcmRlci1wdXJwbGUtMjAwIHJvdW5kZWQteGwgb3ZlcmZsb3ctaGlkZGVuIGhvdmVyOmJvcmRlci1wdXJwbGUtNDAwIHRyYW5zaXRpb24tYWxsIGhvdmVyOnNoYWRvdy1sZ1wiXG4gICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJoLTMyIGJnLWNvdmVyIGJnLWNlbnRlclwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgYmFja2dyb3VuZEltYWdlOiBgdXJsKCR7aG90ZWwuaW1hZ2V9KWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwLTRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtc3RhcnQganVzdGlmeS1iZXR3ZWVuIG1iLTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleC0xXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZm9udC1ib2xkIHRleHQtZ3JheS05MDAgdGV4dC1zbSBtYi0xXCI+e2hvdGVsLm5hbWV9PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTEgdGV4dC14cyB0ZXh0LWdyYXktNjAwIG1iLTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8TWFwUGluIGNsYXNzTmFtZT1cInctMyBoLTNcIiAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuPntob3RlbC5sb2NhdGlvbn08L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0xXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFN0YXIgY2xhc3NOYW1lPVwidy0zIGgtMyB0ZXh0LXllbGxvdy01MDAgZmlsbC15ZWxsb3ctNTAwXCIgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LXhzIGZvbnQtc2VtaWJvbGQgdGV4dC1ncmF5LTcwMFwiPntob3RlbC5yYXRpbmd9IOKtkDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1yaWdodFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQteGwgZm9udC1ib2xkIHRleHQtcHVycGxlLTYwMFwiPiR7aG90ZWwucHJpY2V9PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LWdyYXktNjAwXCI+cGVyIG5pZ2h0PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBoYW5kbGVWaWV3RGV0YWlscygnaG90ZWwnLCBob3RlbCl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgcHgtNCBweS0yIGJnLWdyYWRpZW50LXRvLXIgZnJvbS1wdXJwbGUtNjAwIHRvLXBpbmstNjAwIHRleHQtd2hpdGUgcm91bmRlZC1sZyBmb250LW1lZGl1bSBob3ZlcjpzaGFkb3ctbGcgdHJhbnNpdGlvbi1hbGwgdGV4dC1zbSBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBnYXAtMlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUGVyZmVjdCEgQm9vayBUaGlzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8VGh1bWJzVXAgY2xhc3NOYW1lPVwidy00IGgtNFwiIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gaGFuZGxlVmlld01vcmUoJ2hvdGVsJyl9XG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgcHgtNCBweS0yIGJnLXdoaXRlIGJvcmRlci0yIGJvcmRlci1wdXJwbGUtNjAwIHRleHQtcHVycGxlLTYwMCByb3VuZGVkLWxnIGZvbnQtbWVkaXVtIGhvdmVyOmJnLXB1cnBsZS01MCB0cmFuc2l0aW9uLWFsbCB0ZXh0LXNtXCJcbiAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICBFeHBsb3JlIEFsbCB7bWVzc2FnZS5ob3RlbFJlc3VsdHMubGVuZ3RofSBIb3RlbHMg4oaSXG4gICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgKX1cblxuICAgICAgICAgICAgICAgICAgey8qIEJvb2tpbmcgQ29uZmlybWF0aW9uICovfVxuICAgICAgICAgICAgICAgICAge21lc3NhZ2UuYm9va2luZ0NvbmZpcm1hdGlvbiAmJiAoXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXQtNCBwLTQgYmctZ3JhZGllbnQtdG8tYnIgZnJvbS1ncmVlbi01MCB0by1lbWVyYWxkLTUwIGJvcmRlci0yIGJvcmRlci1ncmVlbi0zMDAgcm91bmRlZC14bFwiPlxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTIgbWItM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPFBhcnR5UG9wcGVyIGNsYXNzTmFtZT1cInctNiBoLTYgdGV4dC1ncmVlbi02MDBcIiAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiZm9udC1ib2xkIHRleHQtZ3JlZW4tOTAwXCI+Qm9va2luZyBDb25maXJtZWQhPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LWdyYXktNzAwIHNwYWNlLXktMlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGp1c3RpZnktYmV0d2VlblwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktNjAwXCI+VG90YWwgQW1vdW50Ojwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiZm9udC1ib2xkIHRleHQtZ3JlZW4tNjAwXCI+JHttZXNzYWdlLmJvb2tpbmdDb25maXJtYXRpb24udG90YWx9PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInB0LTIgYm9yZGVyLXQgYm9yZGVyLWdyZWVuLTIwMCB0ZXh0LXhzIHRleHQtZ3JheS02MDBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgQ29uZmlybWF0aW9uIGRldGFpbHMgc2VudCB0byB5b3VyIGVtYWlsLiBIYXZlIGFuIGFtYXppbmcgdHJpcCEgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICApfVxuXG4gICAgICAgICAgICAgICAgICB7LyogU3VnZ2VzdGlvbnMgKi99XG4gICAgICAgICAgICAgICAgICB7bWVzc2FnZS5zdWdnZXN0aW9ucyAmJiBtZXNzYWdlLnN1Z2dlc3Rpb25zLmxlbmd0aCA+IDAgJiYgKFxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm10LTMgc3BhY2UteS0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC14cyBmb250LXNlbWlib2xkIHRleHQtZ3JheS02MDBcIj5RdWljayBpZGVhcyBmb3IgeW91OjwvcD5cbiAgICAgICAgICAgICAgICAgICAgICB7bWVzc2FnZS5zdWdnZXN0aW9ucy5tYXAoKHN1Z2dlc3Rpb24sIGlkeCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gRGV0ZXJtaW5lIGljb24gYmFzZWQgb24gc3VnZ2VzdGlvbiBjb250ZW50XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzdWdnZXN0aW9uTG93ZXIgPSBzdWdnZXN0aW9uLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgSWNvbiA9IFNwYXJrbGVzOyAvLyBkZWZhdWx0XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgaWNvbkNvbG9yID0gJ3RleHQtcHVycGxlLTYwMCc7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzdWdnZXN0aW9uTG93ZXIuaW5jbHVkZXMoJ2ZsaWdodCcpIHx8IHN1Z2dlc3Rpb25Mb3dlci5pbmNsdWRlcygnZmx5JykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgSWNvbiA9IFBsYW5lO1xuICAgICAgICAgICAgICAgICAgICAgICAgICBpY29uQ29sb3IgPSAndGV4dC1ibHVlLTYwMCc7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHN1Z2dlc3Rpb25Mb3dlci5pbmNsdWRlcygnaG90ZWwnKSB8fCBzdWdnZXN0aW9uTG93ZXIuaW5jbHVkZXMoJ3N0YXknKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBJY29uID0gSG90ZWw7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGljb25Db2xvciA9ICd0ZXh0LWN5YW4tNjAwJztcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoc3VnZ2VzdGlvbkxvd2VyLmluY2x1ZGVzKCdidWRnZXQnKSB8fCBzdWdnZXN0aW9uTG93ZXIuaW5jbHVkZXMoJ3ByaWNlJykgfHwgc3VnZ2VzdGlvbkxvd2VyLmluY2x1ZGVzKCckJykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgSWNvbiA9IERvbGxhclNpZ247XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGljb25Db2xvciA9ICd0ZXh0LWdyZWVuLTYwMCc7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHN1Z2dlc3Rpb25Mb3dlci5pbmNsdWRlcygnbHV4dXJ5JykgfHwgc3VnZ2VzdGlvbkxvd2VyLmluY2x1ZGVzKCc1LXN0YXInKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBJY29uID0gU3RhcjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaWNvbkNvbG9yID0gJ3RleHQteWVsbG93LTYwMCc7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHN1Z2dlc3Rpb25Mb3dlci5pbmNsdWRlcygnZG93bnRvd24nKSB8fCBzdWdnZXN0aW9uTG93ZXIuaW5jbHVkZXMoJ25lYXInKSB8fCBzdWdnZXN0aW9uTG93ZXIuaW5jbHVkZXMoJ2xvY2F0aW9uJykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgSWNvbiA9IE1hcFBpbjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaWNvbkNvbG9yID0gJ3RleHQtcmVkLTYwMCc7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHN1Z2dlc3Rpb25Mb3dlci5pbmNsdWRlcygnZGF0ZScpIHx8IHN1Z2dlc3Rpb25Mb3dlci5pbmNsdWRlcygnd2hlbicpIHx8IHN1Z2dlc3Rpb25Mb3dlci5pbmNsdWRlcygnbmV4dCcpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIEljb24gPSBDYWxlbmRhcjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaWNvbkNvbG9yID0gJ3RleHQtaW5kaWdvLTYwMCc7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk9e2lkeH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBoYW5kbGVTdWdnZXN0aW9uQ2xpY2soc3VnZ2VzdGlvbil9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTIgdy1mdWxsIHRleHQtbGVmdCBweC0zIHB5LTIgdGV4dC14cyBiZy1ncmFkaWVudC10by1yIGZyb20tYmx1ZS01MCB0by1wdXJwbGUtNTAgaG92ZXI6ZnJvbS1ibHVlLTEwMCBob3Zlcjp0by1wdXJwbGUtMTAwIGJvcmRlciBib3JkZXItYmx1ZS0yMDAgcm91bmRlZC1sZyB0cmFuc2l0aW9uLWFsbCBob3ZlcjpzaGFkb3ctbWQgdGV4dC1ncmF5LTcwMCBob3Zlcjp0ZXh0LWdyYXktOTAwIGZvbnQtbWVkaXVtIGdyb3VwXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJY29uIGNsYXNzTmFtZT17YHctNCBoLTQgJHtpY29uQ29sb3J9IGZsZXgtc2hyaW5rLTAgZ3JvdXAtaG92ZXI6c2NhbGUtMTEwIHRyYW5zaXRpb24tdHJhbnNmb3JtYH0gLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJmbGV4LTFcIj57c3VnZ2VzdGlvbn08L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPEFycm93UmlnaHQgY2xhc3NOYW1lPVwidy0zIGgtMyB0ZXh0LWdyYXktNDAwIG9wYWNpdHktMCBncm91cC1ob3ZlcjpvcGFjaXR5LTEwMCB0cmFuc2l0aW9uLW9wYWNpdHlcIiAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgKX1cblxuICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC14cyBtdC0yIG9wYWNpdHktNjBcIj5cbiAgICAgICAgICAgICAgICAgICAge21lc3NhZ2UudGltZXN0YW1wLnRvTG9jYWxlVGltZVN0cmluZygnZW4tVVMnLCB7XG4gICAgICAgICAgICAgICAgICAgICAgaG91cjogJzItZGlnaXQnLFxuICAgICAgICAgICAgICAgICAgICAgIG1pbnV0ZTogJzItZGlnaXQnLFxuICAgICAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICApKX1cblxuICAgICAgICAgICAgey8qIEJvb2tpbmcgRmxvdyAqL31cbiAgICAgICAgICAgIHtib29raW5nRmxvdyAmJiBib29raW5nRmxvdy5zdGVwID09PSAnY29uZmlybScgJiYgKFxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJnLXdoaXRlIGJvcmRlci0yIGJvcmRlci1ibHVlLTMwMCByb3VuZGVkLTJ4bCBwLTQgc2hhZG93LWxnXCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMiBtYi0zXCI+XG4gICAgICAgICAgICAgICAgICA8Q3JlZGl0Q2FyZCBjbGFzc05hbWU9XCJ3LTUgaC01IHRleHQtYmx1ZS02MDBcIiAvPlxuICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiZm9udC1ib2xkIHRleHQtZ3JheS05MDBcIj5SZWFkeSB0byBCb29rPzwvc3Bhbj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktMyBtYi00XCI+XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInAtMyBiZy1ncmF5LTUwIHJvdW5kZWQtbGdcIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXNtIGZvbnQtc2VtaWJvbGQgdGV4dC1ncmF5LTkwMCBtYi0xXCI+XG4gICAgICAgICAgICAgICAgICAgICAge2Jvb2tpbmdGbG93LnR5cGUgPT09ICdmbGlnaHQnXG4gICAgICAgICAgICAgICAgICAgICAgICA/IGJvb2tpbmdGbG93LnNlbGVjdGVkSXRlbS5haXJsaW5lXG4gICAgICAgICAgICAgICAgICAgICAgICA6IGJvb2tpbmdGbG93LnNlbGVjdGVkSXRlbS5uYW1lfVxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtZ3JheS02MDBcIj5cbiAgICAgICAgICAgICAgICAgICAgICB7Ym9va2luZ0Zsb3cudHlwZSA9PT0gJ2ZsaWdodCdcbiAgICAgICAgICAgICAgICAgICAgICAgID8gYm9va2luZ0Zsb3cuc2VsZWN0ZWRJdGVtLnJvdXRlXG4gICAgICAgICAgICAgICAgICAgICAgICA6IGJvb2tpbmdGbG93LnNlbGVjdGVkSXRlbS5sb2NhdGlvbn1cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBqdXN0aWZ5LWJldHdlZW4gaXRlbXMtY2VudGVyIHAtMyBiZy1ibHVlLTUwIHJvdW5kZWQtbGdcIj5cbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1zbSBmb250LXNlbWlib2xkIHRleHQtZ3JheS03MDBcIj5Ub3RhbDo8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQteGwgZm9udC1ib2xkIHRleHQtYmx1ZS02MDBcIj4ke2Jvb2tpbmdGbG93LnNlbGVjdGVkSXRlbS5wcmljZX08L3NwYW4+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZ2FwLTJcIj5cbiAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gc2V0Qm9va2luZ0Zsb3cobnVsbCl9XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZsZXgtMSBweC00IHB5LTIgYmctZ3JheS0yMDAgdGV4dC1ncmF5LTcwMCByb3VuZGVkLWxnIGZvbnQtbWVkaXVtIGhvdmVyOmJnLWdyYXktMzAwIHRyYW5zaXRpb24tYWxsIHRleHQtc21cIlxuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICBXYWl0LCBHbyBCYWNrXG4gICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgb25DbGljaz17aGFuZGxlQ29uZmlybUJvb2tpbmd9XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZsZXgtMSBweC00IHB5LTIgYmctZ3JhZGllbnQtdG8tciBmcm9tLWJsdWUtNjAwIHRvLXB1cnBsZS02MDAgdGV4dC13aGl0ZSByb3VuZGVkLWxnIGZvbnQtbWVkaXVtIGhvdmVyOnNoYWRvdy1sZyB0cmFuc2l0aW9uLWFsbCB0ZXh0LXNtIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIGdhcC0yXCJcbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgWWVzLCBCb29rIEl0IVxuICAgICAgICAgICAgICAgICAgICA8UGFydHlQb3BwZXIgY2xhc3NOYW1lPVwidy00IGgtNFwiIC8+XG4gICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICApfVxuXG4gICAgICAgICAgICB7LyogVHlwaW5nIEluZGljYXRvciAqL31cbiAgICAgICAgICAgIHtpc1R5cGluZyAmJiAoXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBqdXN0aWZ5LXN0YXJ0XCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy13aGl0ZSBib3JkZXIgYm9yZGVyLWdyYXktMjAwIHJvdW5kZWQtMnhsIHAtNCBzaGFkb3ctbWRcIj5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTJcIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGdhcC0xXCI+XG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTIgaC0yIGJnLWJsdWUtNjAwIHJvdW5kZWQtZnVsbCBhbmltYXRlLWJvdW5jZVwiPjwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy0yIGgtMiBiZy1ibHVlLTYwMCByb3VuZGVkLWZ1bGwgYW5pbWF0ZS1ib3VuY2VcIiBzdHlsZT17eyBhbmltYXRpb25EZWxheTogJzAuMnMnIH19PjwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy0yIGgtMiBiZy1ibHVlLTYwMCByb3VuZGVkLWZ1bGwgYW5pbWF0ZS1ib3VuY2VcIiBzdHlsZT17eyBhbmltYXRpb25EZWxheTogJzAuNHMnIH19PjwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LWdyYXktNjAwXCI+VHlwaW5nLi4uPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgKX1cblxuICAgICAgICAgICAge2lzTG9hZGluZyAmJiAhaXNUeXBpbmcgJiYgKFxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgganVzdGlmeS1zdGFydFwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmctd2hpdGUgYm9yZGVyIGJvcmRlci1ncmF5LTIwMCByb3VuZGVkLTJ4bCBwLTQgc2hhZG93LW1kXCI+XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0yXCI+XG4gICAgICAgICAgICAgICAgICAgIDxMb2FkZXIyIGNsYXNzTmFtZT1cInctNCBoLTQgdGV4dC1ibHVlLTYwMCBhbmltYXRlLXNwaW5cIiAvPlxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtZ3JheS02MDBcIj5TZWFyY2hpbmcuLi48L3NwYW4+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICApfVxuXG4gICAgICAgICAgICA8ZGl2IHJlZj17bWVzc2FnZXNFbmRSZWZ9IC8+XG4gICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICB7LyogSW5wdXQgKi99XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwLTMgbWQ6cC00IGJnLXdoaXRlIGJvcmRlci10IGJvcmRlci1ncmF5LTIwMFwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMlwiPlxuICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICByZWY9e2lucHV0UmVmfVxuICAgICAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcbiAgICAgICAgICAgICAgICB2YWx1ZT17aW5wdXRWYWx1ZX1cbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHNldElucHV0VmFsdWUoZS50YXJnZXQudmFsdWUpfVxuICAgICAgICAgICAgICAgIG9uS2V5UHJlc3M9eyhlKSA9PiBlLmtleSA9PT0gJ0VudGVyJyAmJiBoYW5kbGVTZW5kTWVzc2FnZSgpfVxuICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiVHlwZSBuYXR1cmFsbHkuLi5cIlxuICAgICAgICAgICAgICAgIGRpc2FibGVkPXtpc0xvYWRpbmd9XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZmxleC0xIHB4LTMgbWQ6cHgtNCBweS0yLjUgbWQ6cHktMyBiZy1ncmF5LTUwIGJvcmRlciBib3JkZXItZ3JheS0yMDAgcm91bmRlZC1sZyBtZDpyb3VuZGVkLXhsIGZvY3VzOm91dGxpbmUtbm9uZSBmb2N1czpyaW5nLTIgZm9jdXM6cmluZy1ibHVlLTUwMCBmb2N1czpib3JkZXItdHJhbnNwYXJlbnQgdGV4dC1zbSBkaXNhYmxlZDpvcGFjaXR5LTUwIHBsYWNlaG9sZGVyOnRleHQtZ3JheS00MDBcIlxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gaGFuZGxlU2VuZE1lc3NhZ2UoKX1cbiAgICAgICAgICAgICAgICBkaXNhYmxlZD17IWlucHV0VmFsdWUudHJpbSgpIHx8IGlzTG9hZGluZ31cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJwLTIuNSBtZDpwLTMgYmctZ3JhZGllbnQtdG8tciBmcm9tLWJsdWUtNjAwIHRvLXB1cnBsZS02MDAgcm91bmRlZC1sZyBtZDpyb3VuZGVkLXhsIGhvdmVyOnNoYWRvdy1sZyB0cmFuc2l0aW9uLWFsbCBkaXNhYmxlZDpvcGFjaXR5LTUwIGRpc2FibGVkOmN1cnNvci1ub3QtYWxsb3dlZCBob3ZlcjpzY2FsZS0xMDUgZmxleC1zaHJpbmstMFwiXG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICA8U2VuZCBjbGFzc05hbWU9XCJ3LTQgaC00IG1kOnctNSBtZDpoLTUgdGV4dC13aGl0ZVwiIC8+XG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgKX1cbiAgICA8Lz5cbiAgKTtcbn1cbiJdLCJuYW1lcyI6WyJ1c2VTdGF0ZSIsInVzZVJlZiIsInVzZUVmZmVjdCIsInVzZVJvdXRlciIsIk1lc3NhZ2VDaXJjbGUiLCJYIiwiU2VuZCIsIlBsYW5lIiwiSG90ZWwiLCJTcGFya2xlcyIsIkxvYWRlcjIiLCJDYWxlbmRhciIsIk1hcFBpbiIsIkFycm93UmlnaHQiLCJTdGFyIiwiQ2xvY2siLCJEb2xsYXJTaWduIiwiQ3JlZGl0Q2FyZCIsIlRodW1ic1VwIiwiUGFydHlQb3BwZXIiLCJnZXRDaXR5Q29kZSIsImdldENpdHlDb2RlRnJvbU1hcCIsImdldENpdHlDb2RlV2l0aENvbnRleHQiLCJnZXRBcGlFbmRwb2ludCIsImNvbnZlcnNhdGlvbmFsUmVzcG9uc2VzIiwiZ3JlZXRpbmdzIiwic2VhcmNoaW5nIiwibm9SZXN1bHRzIiwiaGVscGZ1bFRpcHMiLCJleGNpdGVtZW50IiwiYm9va2luZ1N1Y2Nlc3MiLCJnZXRSYW5kb21SZXNwb25zZSIsImNhdGVnb3J5IiwicmVzcG9uc2VzIiwiTWF0aCIsImZsb29yIiwicmFuZG9tIiwibGVuZ3RoIiwiQUlDaGF0Ym94IiwiaW5pdGlhbE1lc3NhZ2UiLCJmb3JjZU9wZW4iLCJpc09wZW4iLCJzZXRJc09wZW4iLCJtZXNzYWdlcyIsInNldE1lc3NhZ2VzIiwiaWQiLCJyb2xlIiwiY29udGVudCIsInRpbWVzdGFtcCIsIkRhdGUiLCJzdWdnZXN0aW9ucyIsImlucHV0VmFsdWUiLCJzZXRJbnB1dFZhbHVlIiwiaXNMb2FkaW5nIiwic2V0SXNMb2FkaW5nIiwiaXNUeXBpbmciLCJzZXRJc1R5cGluZyIsImNsYXVkZUF2YWlsYWJsZSIsInNldENsYXVkZUF2YWlsYWJsZSIsImNvbnZlcnNhdGlvbkhpc3RvcnkiLCJzZXRDb252ZXJzYXRpb25IaXN0b3J5IiwiY29udmVyc2F0aW9uQ29udGV4dCIsInNldENvbnZlcnNhdGlvbkNvbnRleHQiLCJib29raW5nRmxvdyIsInNldEJvb2tpbmdGbG93IiwibWVzc2FnZXNFbmRSZWYiLCJpbnB1dFJlZiIsInJvdXRlciIsInNjcm9sbFRvQm90dG9tIiwiY3VycmVudCIsInNjcm9sbEludG9WaWV3IiwiYmVoYXZpb3IiLCJmb2N1cyIsInRyaW0iLCJjaGVja0NsYXVkZUF2YWlsYWJpbGl0eSIsInJlc3BvbnNlIiwiZmV0Y2giLCJkYXRhIiwianNvbiIsImF2YWlsYWJsZSIsImNvbnNvbGUiLCJsb2ciLCJlcnJvciIsImFkZE1lc3NhZ2VXaXRoVHlwaW5nIiwibWVzc2FnZSIsIlByb21pc2UiLCJyZXNvbHZlIiwic2V0VGltZW91dCIsInByZXYiLCJmbGlnaHRSZXN1bHRzIiwiaG90ZWxSZXN1bHRzIiwiY2l0eSIsImNvZGUiLCJzZWFyY2hGbGlnaHRzIiwib3JpZ2luIiwiZGVzdGluYXRpb24iLCJkZXBhcnR1cmVEYXRlIiwicGFyYW1zIiwib3JpZ2luQ29kZSIsImRlc3RDb2RlIiwibWlzc2luZ0NpdGllcyIsInB1c2giLCJFcnJvciIsImpvaW4iLCJxdWVyeVBhcmFtcyIsIlVSTFNlYXJjaFBhcmFtcyIsImFkdWx0cyIsIm1heCIsIm1heFByaWNlIiwiYXBwZW5kIiwidG9TdHJpbmciLCJkaXJlY3RPbmx5IiwiY2FiaW5DbGFzcyIsImNsYXNzTWFwIiwiYXBpVXJsIiwic3RhdHVzIiwib2siLCJyZXNwb25zZURhdGEiLCJmbGlnaHRzIiwic2xpY2UiLCJtYXAiLCJvZmZlciIsImZpcnN0U2VnbWVudCIsIml0aW5lcmFyaWVzIiwic2VnbWVudHMiLCJsYXN0U2VnbWVudCIsInN0b3BzIiwiYWlybGluZSIsImNhcnJpZXJDb2RlIiwiYWlybGluZUNvZGUiLCJyb3V0ZSIsImRlcGFydHVyZSIsImF0IiwidG9Mb2NhbGVUaW1lU3RyaW5nIiwiaG91ciIsIm1pbnV0ZSIsImFycml2YWwiLCJkdXJhdGlvbiIsInJlcGxhY2UiLCJ0b0xvd2VyQ2FzZSIsInByaWNlIiwicGFyc2VGbG9hdCIsInRvdGFsIiwidG9GaXhlZCIsImNhYmluIiwidHJhdmVsZXJQcmljaW5ncyIsImZhcmVEZXRhaWxzQnlTZWdtZW50Iiwic2VhcmNoSG90ZWxzIiwibG9jYXRpb24iLCJjaGVja0luRGF0ZSIsImNoZWNrT3V0RGF0ZSIsImNpdHlDb2RlIiwicmFkaXVzIiwicmFkaXVzVW5pdCIsImN1cnJlbmN5IiwiZXJyb3JEYXRhIiwiY2F0Y2giLCJzdWNjZXNzIiwiaG90ZWxzIiwiaXRlbSIsImhvdGVsIiwib2ZmZXJzIiwibG93ZXN0UHJpY2UiLCJyZWR1Y2UiLCJtaW4iLCJob3RlbElkIiwibmFtZSIsImFkZHJlc3MiLCJjaXR5TmFtZSIsInJhdGluZyIsImltYWdlIiwibWVkaWEiLCJ1cmkiLCJhbWVuaXRpZXMiLCJ1bmRlZmluZWQiLCJiZWZvcmVDb3VudCIsImZpbHRlciIsImgiLCJtaW5SYXRpbmciLCJnZXRGdXR1cmVEYXRlIiwiZGF5cyIsImRhdGUiLCJzZXREYXRlIiwiZ2V0RGF0ZSIsInRvSVNPU3RyaW5nIiwic3BsaXQiLCJwYXJzZURhdGVGcm9tTWVzc2FnZSIsImxvd2VyTWVzc2FnZSIsImRhdGVzIiwibW9udGhOYW1lcyIsImphbnVhcnkiLCJqYW4iLCJmZWJydWFyeSIsImZlYiIsIm1hcmNoIiwibWFyIiwiYXByaWwiLCJhcHIiLCJtYXkiLCJqdW5lIiwianVuIiwianVseSIsImp1bCIsImF1Z3VzdCIsImF1ZyIsInNlcHRlbWJlciIsInNlcCIsInNlcHQiLCJvY3RvYmVyIiwib2N0Iiwibm92ZW1iZXIiLCJub3YiLCJkZWNlbWJlciIsImRlYyIsInRlc3QiLCJkYXlPcmRpbmFsTWF0Y2giLCJtYXRjaCIsImRheSIsInBhcnNlSW50IiwidG9kYXkiLCJ0YXJnZXREYXRlIiwiZ2V0RnVsbFllYXIiLCJnZXRNb250aCIsIm1vbnRoTmFtZSIsIm1vbnRoSW5kZXgiLCJPYmplY3QiLCJlbnRyaWVzIiwibW9udGhEYXlQYXR0ZXJuIiwiUmVnRXhwIiwiZGF5TW9udGhQYXR0ZXJuIiwiaW5Nb250aFBhdHRlcm4iLCJnZXREYXRlRm9yTW9udGhEYXkiLCJkYXRlUmFuZ2VNYXRjaCIsInN0YXJ0RGF5IiwiZW5kRGF5Iiwic3RhcnREYXRlIiwiZW5kRGF0ZSIsImlzb0RhdGVNYXRjaCIsInVzRGF0ZU1hdGNoIiwibW9udGgiLCJ5ZWFyIiwicGFyc2VJbnRlbnRXaXRoQ2xhdWRlIiwidXNlck1lc3NhZ2UiLCJtZXRob2QiLCJoZWFkZXJzIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJpbnRlbnQiLCJ1c2VSdWxlQmFzZWQiLCJleHRyYWN0UGFyYW1ldGVycyIsInBhcnNlZERhdGVzIiwicmV0dXJuRGF0ZSIsImNoZWNrSW4iLCJwcmljZVBhdHRlcm5zIiwicGF0dGVybiIsInJhbmdlUGF0dGVybiIsInJhbmdlTWF0Y2giLCJtaW5QcmljZSIsIm1pblByaWNlUGF0dGVybiIsIm1pblByaWNlTWF0Y2giLCJhbWVuaXR5S2V5d29yZHMiLCJwb29sIiwiZ3ltIiwid2lmaSIsInNwYSIsInBhcmtpbmciLCJicmVha2Zhc3QiLCJyZXN0YXVyYW50IiwiYmFyIiwiZm91bmRBbWVuaXRpZXMiLCJhbWVuaXR5Iiwia2V5d29yZHMiLCJzb21lIiwia2V5d29yZCIsImluY2x1ZGVzIiwicmF0aW5nUGF0dGVybnMiLCJwYXJzZVVzZXJJbnRlbnQiLCJza2lwRGlzYW1iaWd1YXRpb24iLCJjbGF1ZGVJbnRlbnQiLCJjb25maWRlbmNlIiwidHlwZSIsInJldHVybiIsInByZWZlcmVuY2VzIiwiZGlyZWN0RmxpZ2h0Iiwibm93IiwibGFzdFNlYXJjaFR5cGUiLCJsYXN0T3JpZ2luIiwibGFzdERlc3RpbmF0aW9uIiwibGFzdFBhcmFtcyIsImNoZWNrT3V0IiwibGFzdExvY2F0aW9uIiwiaG90ZWxQYXJhbXMiLCJuZWVkc0NsYXJpZmljYXRpb24iLCJjbGFyaWZpY2F0aW9uUXVlc3Rpb24iLCJwZW5kaW5nRGlzYW1iaWd1YXRpb24iLCJkaXNhbWJpZ3VhdGlvbiIsInNlbGVjdGVkT3B0aW9uIiwib3B0aW9uIiwib3B0aW9ucyIsImNvdW50cnkiLCJjb250ZXh0IiwicmVzb2x2ZWRDaXRpZXMiLCJ1cGRhdGVkQ29udGV4dCIsIm9yaWdpbmFsUXVlcnkiLCJvcHQiLCJwZW5kaW5nU2VhcmNoIiwicGVuZGluZyIsImZyb21NYXRjaCIsInRvTWF0Y2giLCJpbXBsaWNpdEZyb21NYXRjaCIsInJlc29sdmVkT3JpZ2luIiwicmVzb2x2ZWREZXN0Iiwib3JpZ2luRGlzYW1iaWd1YXRpb24iLCJuZWVkc0Rpc2FtYmlndWF0aW9uIiwiZGVzdERpc2FtYmlndWF0aW9uIiwiYWNrbm93bGVkZ21lbnQiLCJwYXJhbURldGFpbHMiLCJtZW50aW9uZWRDaXR5IiwibWlzc2luZ0luZm8iLCJsb2NhdGlvbk1hdGNoIiwiYW1lbml0eUxpc3QiLCJ3aWxsVXNlR2VvY29kaW5nIiwidXNlZEdlb2NvZGluZyIsIm5vUmVzdWx0c01lc3NhZ2UiLCJpc1JlZmluZW1lbnQiLCJuZXdQYXJhbXMiLCJtZXJnZWRQYXJhbXMiLCJnZW5lcmFsVHJhdmVsTWF0Y2giLCJjaGFyQXQiLCJ0b1VwcGVyQ2FzZSIsImhhbmRsZVNlbmRNZXNzYWdlIiwibWVzc2FnZVRleHQiLCJ0ZXh0IiwiaGFuZGxlU3VnZ2VzdGlvbkNsaWNrIiwic3VnZ2VzdGlvbiIsImhhbmRsZVZpZXdEZXRhaWxzIiwiYWN0aXZlIiwic2VsZWN0ZWRJdGVtIiwic3RlcCIsImhhbmRsZVZpZXdNb3JlIiwiZW5jb3VyYWdlbWVudCIsImZyb21BSSIsImhhbmRsZUNvbmZpcm1Cb29raW5nIiwiYm9va2luZ0NvbmZpcm1hdGlvbiIsImRldGFpbHMiLCJidXR0b24iLCJvbkNsaWNrIiwiY2xhc3NOYW1lIiwiZGl2Iiwic3BhbiIsImgzIiwicCIsImZsaWdodCIsInN0eWxlIiwiYmFja2dyb3VuZEltYWdlIiwiaWR4Iiwic3VnZ2VzdGlvbkxvd2VyIiwiSWNvbiIsImljb25Db2xvciIsImFuaW1hdGlvbkRlbGF5IiwicmVmIiwiaW5wdXQiLCJ2YWx1ZSIsIm9uQ2hhbmdlIiwiZSIsInRhcmdldCIsIm9uS2V5UHJlc3MiLCJrZXkiLCJwbGFjZWhvbGRlciIsImRpc2FibGVkIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/components/AIChatbox.tsx\n"));

/***/ })

});